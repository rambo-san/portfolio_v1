[{"filePath":"R:\\Works\\Portfolio\\src\\app\\admin\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'RefreshCw' is defined but never used.","line":55,"column":5,"nodeType":"Identifier","messageId":"unusedVar","endLine":55,"endColumn":14,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"RefreshCw"},"fix":{"range":[1248,1264],"text":""},"desc":"Remove unused variable \"RefreshCw\"."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":429,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":429,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[19515,19518],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[19515,19518],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/immutability","severity":2,"message":"Error: Cannot access variable before it is declared\n\n`loadProjects` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.\n\nR:\\Works\\Portfolio\\src\\app\\admin\\page.tsx:1067:9\n  1065 |\n  1066 |     useEffect(() => {\n> 1067 |         loadProjects();\n       |         ^^^^^^^^^^^^ `loadProjects` accessed before it is declared\n  1068 |     }, []);\n  1069 |\n  1070 |     const loadProjects = async () => {\n\nR:\\Works\\Portfolio\\src\\app\\admin\\page.tsx:1070:5\n  1068 |     }, []);\n  1069 |\n> 1070 |     const loadProjects = async () => {\n       |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 1071 |         const fetchedProjects = await getProjects();\n       | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 1072 |         setProjects(fetchedProjects);\n       | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 1073 |         setLoading(false);\n       | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 1074 |     };\n       | ^^^^^^^ `loadProjects` is declared here\n  1075 |\n  1076 |     const handleAddProject = async (project: Omit<Project, 'id'>) => {\n  1077 |         await addProject(project);","line":1067,"column":9,"nodeType":null,"endLine":1067,"endColumn":21},{"ruleId":"react-hooks/immutability","severity":2,"message":"Error: Cannot access variable before it is declared\n\n`loadFriends` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.\n\nR:\\Works\\Portfolio\\src\\app\\admin\\page.tsx:1326:9\n  1324 |\n  1325 |     useEffect(() => {\n> 1326 |         loadFriends();\n       |         ^^^^^^^^^^^ `loadFriends` accessed before it is declared\n  1327 |     }, []);\n  1328 |\n  1329 |     const loadFriends = async () => {\n\nR:\\Works\\Portfolio\\src\\app\\admin\\page.tsx:1329:5\n  1327 |     }, []);\n  1328 |\n> 1329 |     const loadFriends = async () => {\n       |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 1330 |         const fetchedFriends = await getFriends();\n       | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 1331 |         setFriends(fetchedFriends);\n       | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 1332 |         setLoading(false);\n       | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 1333 |     };\n       | ^^^^^^^ `loadFriends` is declared here\n  1334 |\n  1335 |     const handleAddFriend = async (friend: Omit<Friend, 'id'>) => {\n  1336 |         await addFriend(friend);","line":1326,"column":9,"nodeType":null,"endLine":1326,"endColumn":20},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":1404,"column":45,"nodeType":"JSXOpeningElement","endLine":1408,"endColumn":47},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1485,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1485,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[70737,70740],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[70737,70740],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1647,"column":67,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1647,"endColumn":70,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[79387,79390],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[79387,79390],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'savingGame' is assigned a value but never used.","line":1648,"column":12,"nodeType":"Identifier","messageId":"unusedVar","endLine":1648,"endColumn":22},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1674,"column":47,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1674,"endColumn":50,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[80478,80481],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[80478,80481],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'KNOWN_GAMES'. Either include it or remove the dependency array.","line":1691,"column":8,"nodeType":"ArrayExpression","endLine":1691,"endColumn":22,"suggestions":[{"desc":"Update the dependencies array to be: [KNOWN_GAMES, activeSubTab]","fix":{"range":[80989,81003],"text":"[KNOWN_GAMES, activeSubTab]"}}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":1693,"column":66,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":1693,"endColumn":69,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[81074,81077],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[81074,81077],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":1854,"column":61,"nodeType":"JSXOpeningElement","endLine":1854,"endColumn":177},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":1884,"column":61,"nodeType":"JSXOpeningElement","endLine":1884,"endColumn":172},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":1914,"column":61,"nodeType":"JSXOpeningElement","endLine":1914,"endColumn":174},{"ruleId":"react-hooks/immutability","severity":2,"message":"Error: Cannot access variable before it is declared\n\n`loadExperience` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.\n\nR:\\Works\\Portfolio\\src\\app\\admin\\page.tsx:2136:9\n  2134 |\n  2135 |     useEffect(() => {\n> 2136 |         loadExperience();\n       |         ^^^^^^^^^^^^^^ `loadExperience` accessed before it is declared\n  2137 |     }, []);\n  2138 |\n  2139 |     const loadExperience = async () => {\n\nR:\\Works\\Portfolio\\src\\app\\admin\\page.tsx:2139:5\n  2137 |     }, []);\n  2138 |\n> 2139 |     const loadExperience = async () => {\n       |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 2140 |         setLoading(true);\n       | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 2141 |         const data = await getExperience();\n       | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 2142 |         setExperience(data);\n       | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 2143 |         setLoading(false);\n       | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 2144 |     };\n       | ^^^^^^^ `loadExperience` is declared here\n  2145 |\n  2146 |     const handleAddExperience = async (exp: Omit<Experience, 'id'>) => {\n  2147 |         await addExperience(exp);","line":2136,"column":9,"nodeType":null,"endLine":2136,"endColumn":23},{"ruleId":"react-hooks/immutability","severity":2,"message":"Error: Cannot access variable before it is declared\n\n`loadEducation` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.\n\nR:\\Works\\Portfolio\\src\\app\\admin\\page.tsx:2431:9\n  2429 |\n  2430 |     useEffect(() => {\n> 2431 |         loadEducation();\n       |         ^^^^^^^^^^^^^ `loadEducation` accessed before it is declared\n  2432 |     }, []);\n  2433 |\n  2434 |     const loadEducation = async () => {\n\nR:\\Works\\Portfolio\\src\\app\\admin\\page.tsx:2434:5\n  2432 |     }, []);\n  2433 |\n> 2434 |     const loadEducation = async () => {\n       |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 2435 |         setLoading(true);\n       | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 2436 |         const data = await getEducation();\n       | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 2437 |         setEducation(data);\n       | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 2438 |         setLoading(false);\n       | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 2439 |     };\n       | ^^^^^^^ `loadEducation` is declared here\n  2440 |\n  2441 |     const handleAddEducation = async (edu: Omit<Education, 'id'>) => {\n  2442 |         await addEducation(edu);","line":2431,"column":9,"nodeType":null,"endLine":2431,"endColumn":22},{"ruleId":"react-hooks/immutability","severity":2,"message":"Error: Cannot access variable before it is declared\n\n`loadAchievements` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.\n\nR:\\Works\\Portfolio\\src\\app\\admin\\page.tsx:2691:9\n  2689 |\n  2690 |     useEffect(() => {\n> 2691 |         loadAchievements();\n       |         ^^^^^^^^^^^^^^^^ `loadAchievements` accessed before it is declared\n  2692 |     }, []);\n  2693 |\n  2694 |     const loadAchievements = async () => {\n\nR:\\Works\\Portfolio\\src\\app\\admin\\page.tsx:2694:5\n  2692 |     }, []);\n  2693 |\n> 2694 |     const loadAchievements = async () => {\n       |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 2695 |         setLoading(true);\n       | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 2696 |         const data = await getAchievements();\n       | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 2697 |         setAchievements(data);\n       | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 2698 |         setLoading(false);\n       | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 2699 |     };\n       | ^^^^^^^ `loadAchievements` is declared here\n  2700 |\n  2701 |     const handleAddAchievement = async (ach: Omit<Achievement, 'id'>) => {\n  2702 |         await addAchievement(ach);","line":2691,"column":9,"nodeType":null,"endLine":2691,"endColumn":25},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":2826,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":2826,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[139495,139498],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[139495,139498],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":2886,"column":29,"nodeType":"JSXOpeningElement","endLine":2886,"endColumn":117},{"ruleId":"react-hooks/immutability","severity":2,"message":"Error: Cannot access variable before it is declared\n\n`loadServices` is accessed before it is declared, which prevents the earlier access from updating when this value changes over time.\n\nR:\\Works\\Portfolio\\src\\app\\admin\\page.tsx:2952:9\n  2950 |\n  2951 |     useEffect(() => {\n> 2952 |         loadServices();\n       |         ^^^^^^^^^^^^ `loadServices` accessed before it is declared\n  2953 |     }, []);\n  2954 |\n  2955 |     const loadServices = async () => {\n\nR:\\Works\\Portfolio\\src\\app\\admin\\page.tsx:2955:5\n  2953 |     }, []);\n  2954 |\n> 2955 |     const loadServices = async () => {\n       |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n> 2956 |         setLoading(true);\n       | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 2957 |         const data = await getServices();\n       | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 2958 |         setServices(data);\n       | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 2959 |         setLoading(false);\n       | ^^^^^^^^^^^^^^^^^^^^^^^^^\n> 2960 |     };\n       | ^^^^^^^ `loadServices` is declared here\n  2961 |\n  2962 |     const handleAddService = async (serv: Omit<Service, 'id'>) => {\n  2963 |         await addService(serv);","line":2952,"column":9,"nodeType":null,"endLine":2952,"endColumn":21},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":3307,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":3307,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[160706,160709],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[160706,160709],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":3361,"column":41,"nodeType":"JSXOpeningElement","endLine":3361,"endColumn":124}],"suppressedMessages":[],"errorCount":13,"fatalErrorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { motion, Reorder, useDragControls } from 'framer-motion';\r\nimport { useAuth } from '@/context/AuthContext';\r\nimport { ProtectedRoute } from '@/components/auth/ProtectedRoute';\r\nimport {\r\n    getSiteConfig,\r\n    updateSiteConfig,\r\n    SiteConfig,\r\n    defaultConfig,\r\n    Project,\r\n    getProjects,\r\n    addProject,\r\n    updateProject,\r\n    deleteProject,\r\n    Friend,\r\n    getFriends,\r\n    addFriend,\r\n    updateFriend,\r\n    deleteFriend,\r\n    Experience,\r\n    getExperience,\r\n    addExperience,\r\n    updateExperience,\r\n    deleteExperience,\r\n    Education,\r\n    getEducation,\r\n    addEducation,\r\n    updateEducation,\r\n    deleteEducation,\r\n    Achievement,\r\n    getAchievements,\r\n    addAchievement,\r\n    updateAchievement,\r\n    deleteAchievement,\r\n    Service,\r\n    getServices,\r\n    addService,\r\n    updateService,\r\n    deleteService,\r\n} from '@/lib/firebase/siteConfig';\r\nimport { getAllUsers } from '@/lib/firebase/firestore';\r\nimport { updateUserRole, UserRole } from '@/lib/firebase/auth';\r\nimport { Button } from '@/components/ui/button';\r\nimport {\r\n    Settings,\r\n    Palette,\r\n    Type,\r\n    Gamepad2,\r\n    Link as LinkIcon,\r\n    Save,\r\n    Loader2,\r\n    Check,\r\n    RefreshCw,\r\n    Eye,\r\n    FolderKanban,\r\n    Plus,\r\n    Trash2,\r\n    Edit3,\r\n    X,\r\n    Users,\r\n    Upload,\r\n    Briefcase,\r\n    GraduationCap,\r\n    Trophy,\r\n    Layout,\r\n    GripVertical,\r\n    MoveUp,\r\n    MoveDown,\r\n    EyeOff,\r\n} from 'lucide-react';\r\nimport { uploadImage } from '@/lib/firebase/storage';\r\nimport { Skeleton } from '@/components/ui/skeleton';\r\nimport { formatDate, formatDuration } from '@/lib/utils';\r\n\r\ntype TabType = 'general' | 'colors' | 'layout' | 'content' | 'projects' | 'experience' | 'academic' | 'achievements' | 'services' | 'friends' | 'games' | 'social' | 'users';\r\n\r\nexport default function AdminDashboard() {\r\n    return (\r\n        <ProtectedRoute requiredRole=\"admin\" loadingFallback={<DashboardSkeleton />}>\r\n            <AdminContent />\r\n        </ProtectedRoute>\r\n    );\r\n}\r\n\r\nfunction DashboardSkeleton() {\r\n    return (\r\n        <div className=\"min-h-screen py-8 px-4\">\r\n            <div className=\"max-w-6xl mx-auto\">\r\n                <div className=\"flex items-center justify-between mb-8\">\r\n                    <div className=\"space-y-2\">\r\n                        <Skeleton className=\"h-10 w-64\" />\r\n                        <Skeleton className=\"h-4 w-48 opacity-50\" />\r\n                    </div>\r\n                    <div className=\"flex gap-3\">\r\n                        <Skeleton className=\"h-10 w-24 rounded-lg\" />\r\n                        <Skeleton className=\"h-10 w-24 rounded-lg\" />\r\n                        <Skeleton className=\"h-10 w-32 rounded-lg\" />\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-1 lg:grid-cols-4 gap-6\">\r\n                    <div className=\"lg:col-span-1\">\r\n                        <div className=\"bg-gray-900/50 rounded-xl border border-gray-700/50 p-2 space-y-2\">\r\n                            {[1, 2, 3, 4, 5, 6].map((i) => (\r\n                                <Skeleton key={i} className=\"h-12 w-full rounded-lg\" />\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"lg:col-span-3\">\r\n                        <div className=\"bg-gray-900/50 rounded-xl border border-gray-700/50 p-6\">\r\n                            <TabSkeleton />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction AdminContent() {\r\n    const { user } = useAuth();\r\n    const [config, setConfig] = useState<SiteConfig>(defaultConfig);\r\n    const [activeTab, setActiveTab] = useState<TabType>('general');\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [isSaving, setIsSaving] = useState(false);\r\n    const [saveSuccess, setSaveSuccess] = useState(false);\r\n    const [hasChanges, setHasChanges] = useState(false);\r\n\r\n    // Load config on mount\r\n    useEffect(() => {\r\n        const loadConfig = async () => {\r\n            const siteConfig = await getSiteConfig();\r\n            setConfig(siteConfig);\r\n            setIsLoading(false);\r\n        };\r\n        loadConfig();\r\n    }, []);\r\n\r\n    // Handle config changes\r\n    const updateConfig = (updates: Partial<SiteConfig>) => {\r\n        setConfig((prev) => ({ ...prev, ...updates }));\r\n        setHasChanges(true);\r\n        setSaveSuccess(false);\r\n    };\r\n\r\n    // Handle nested config changes\r\n    const updateNestedConfig = <K extends keyof SiteConfig>(\r\n        key: K,\r\n        updates: Partial<SiteConfig[K]>\r\n    ) => {\r\n        setConfig((prev) => ({\r\n            ...prev,\r\n            [key]: { ...(prev[key] as object), ...updates },\r\n        }));\r\n        setHasChanges(true);\r\n        setSaveSuccess(false);\r\n    };\r\n\r\n    // Save config\r\n    const handleSave = async () => {\r\n        if (!user) return;\r\n\r\n        setIsSaving(true);\r\n        try {\r\n            await updateSiteConfig(config, user.uid);\r\n            setSaveSuccess(true);\r\n            setHasChanges(false);\r\n            setTimeout(() => setSaveSuccess(false), 3000);\r\n        } catch (error) {\r\n            console.error('Failed to save config:', error);\r\n        } finally {\r\n            setIsSaving(false);\r\n        }\r\n    };\r\n\r\n\r\n    const tabs = [\r\n        { id: 'general', label: 'General', icon: Settings },\r\n        { id: 'colors', label: 'Colors', icon: Palette },\r\n        { id: 'layout', label: 'Layout', icon: Layout },\r\n        { id: 'content', label: 'Content', icon: Type },\r\n        { id: 'experience', label: 'Experience', icon: Briefcase },\r\n        { id: 'academic', label: 'Academic', icon: GraduationCap },\r\n        { id: 'achievements', label: 'Achievements', icon: Trophy },\r\n        { id: 'services', label: 'Services', icon: Layout },\r\n        { id: 'projects', label: 'Projects', icon: FolderKanban },\r\n        { id: 'friends', label: 'Friends', icon: Users },\r\n        { id: 'games', label: 'Arcade', icon: Gamepad2 },\r\n        { id: 'social', label: 'Social', icon: LinkIcon },\r\n        { id: 'users', label: 'Users', icon: Users },\r\n    ] as const;\r\n\r\n\r\n    return (\r\n        <div className=\"flex flex-col h-[100dvh] bg-background overflow-hidden lg:overflow-visible lg:h-auto\">\r\n            {/* Sticky Header Section */}\r\n            <div className=\"sticky top-0 z-50 bg-gray-950/80 backdrop-blur-xl border-b border-gray-800\">\r\n                <div className=\"max-w-6xl mx-auto pt-6 pb-0 sm:pb-4 px-4 sm:px-6\">\r\n                    {/* Header */}\r\n                    <div className=\"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6\">\r\n                        <div>\r\n                            <h1 className=\"text-xl md:text-3xl font-bold text-white tracking-tight\">Admin Dashboard</h1>\r\n                            <p className=\"text-gray-400 mt-0.5 text-[10px] md:text-sm uppercase tracking-widest font-medium opacity-70\">\r\n                                Portfolio Configuration\r\n                            </p>\r\n                        </div>\r\n\r\n                        <div className=\"flex items-center gap-2 sm:gap-3\">\r\n                            <a\r\n                                href=\"/\"\r\n                                target=\"_blank\"\r\n                                className=\"flex-1 sm:flex-none flex items-center justify-center gap-2 px-3 py-2 bg-white/5 hover:bg-white/10 border border-gray-700/50 rounded-xl text-gray-300 hover:text-white transition-all whitespace-nowrap text-sm\"\r\n                            >\r\n                                <Eye size={16} />\r\n                                Preview\r\n                            </a>\r\n\r\n                            <button\r\n                                onClick={handleSave}\r\n                                disabled={!hasChanges || isSaving}\r\n                                className={`flex-1 sm:flex-none flex items-center justify-center gap-2 px-4 py-2 rounded-xl font-bold transition-all whitespace-nowrap text-sm ${saveSuccess\r\n                                    ? 'bg-green-600 text-white'\r\n                                    : hasChanges\r\n                                        ? 'bg-primary hover:brightness-110 text-white shadow-lg shadow-primary/40'\r\n                                        : 'bg-gray-800 text-gray-500 cursor-not-allowed border border-gray-700/30'\r\n                                    }`}\r\n                            >\r\n                                {isSaving ? (\r\n                                    <Loader2 size={16} className=\"animate-spin\" />\r\n                                ) : saveSuccess ? (\r\n                                    <Check size={16} />\r\n                                ) : (\r\n                                    <Save size={16} />\r\n                                )}\r\n                                {saveSuccess ? 'Saved!' : 'Save Changes'}\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Navigation Tabs - Mobile Scroller */}\r\n                    <div className=\"lg:hidden -mx-4 sm:-mx-6 overflow-hidden\">\r\n                        <nav className=\"flex items-center gap-2 overflow-x-auto no-scrollbar px-4 sm:px-6 pb-4\">\r\n                            {tabs.map((tab) => (\r\n                                <button\r\n                                    key={tab.id}\r\n                                    onClick={() => setActiveTab(tab.id)}\r\n                                    className={`flex items-center gap-2 px-4 py-2.5 rounded-xl text-xs font-semibold transition-all whitespace-nowrap border ${activeTab === tab.id\r\n                                        ? 'bg-primary text-white border-primary shadow-lg shadow-primary/20'\r\n                                        : 'bg-white/5 text-gray-400 border-gray-700/50 hover:text-white hover:bg-white/10'\r\n                                        }`}\r\n                                >\r\n                                    <tab.icon size={14} className=\"shrink-0\" />\r\n                                    {tab.label}\r\n                                </button>\r\n                            ))}\r\n                        </nav>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Main Content Area */}\r\n            <div className=\"flex-1 overflow-y-auto no-scrollbar lg:overflow-visible\">\r\n                <div className=\"max-w-6xl mx-auto px-4 py-6\">\r\n                    <div className=\"flex flex-col lg:grid lg:grid-cols-4 gap-8\">\r\n                        {/* Desktop Sidebar Tabs */}\r\n                        <div className=\"hidden lg:block lg:col-span-1\">\r\n                            <nav className=\"bg-gray-900/50 backdrop-blur-sm rounded-2xl border border-gray-700/50 p-3 flex flex-col gap-1 sticky top-6\">\r\n                                {tabs.map((tab) => (\r\n                                    <button\r\n                                        key={tab.id}\r\n                                        onClick={() => setActiveTab(tab.id)}\r\n                                        className={`flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-semibold transition-all whitespace-nowrap w-full text-left ${activeTab === tab.id\r\n                                            ? 'bg-primary text-white border border-primary/50 shadow-md shadow-primary/20'\r\n                                            : 'text-gray-400 hover:text-white hover:bg-white/5 border border-transparent'\r\n                                            }`}\r\n                                    >\r\n                                        <tab.icon size={18} className=\"shrink-0\" />\r\n                                        {tab.label}\r\n                                    </button>\r\n                                ))}\r\n                            </nav>\r\n                        </div>\r\n\r\n                        {/* Content Area */}\r\n                        <div className=\"lg:col-span-3\">\r\n                            <motion.div\r\n                                key={activeTab}\r\n                                initial={{ opacity: 0, y: 10 }}\r\n                                animate={{ opacity: 1, y: 0 }}\r\n                                className=\"bg-gray-900/50 backdrop-blur-sm rounded-2xl border border-gray-700/50 p-6 md:p-8\"\r\n                            >\r\n                                {isLoading ? (\r\n                                    <TabSkeleton />\r\n                                ) : (\r\n                                    <>\r\n                                        {activeTab === 'general' && (\r\n                                            <GeneralTab config={config} updateConfig={updateConfig} />\r\n                                        )}\r\n                                        {activeTab === 'colors' && (\r\n                                            <ColorsTab\r\n                                                colors={config.colors}\r\n                                                updateColors={(colors) => updateNestedConfig('colors', colors)}\r\n                                                theme={config.theme}\r\n                                                updateTheme={(theme) => updateNestedConfig('theme', theme)}\r\n                                            />\r\n                                        )}\r\n                                        {activeTab === 'layout' && (\r\n                                            <LayoutTab\r\n                                                layout={config.layout}\r\n                                                updateLayout={(layout) => updateNestedConfig('layout', layout)}\r\n                                            />\r\n                                        )}\r\n                                        {activeTab === 'content' && (\r\n                                            <ContentTab\r\n                                                config={config}\r\n                                                updateHero={(hero) => updateNestedConfig('hero', hero)}\r\n                                                updateAbout={(about) => updateNestedConfig('about', about)}\r\n                                                updateProjects={(projects) => updateNestedConfig('projects', projects)}\r\n                                                updateFriends={(friends) => updateNestedConfig('friends', friends)}\r\n                                                updateExperience={(experience) => updateNestedConfig('experience', experience)}\r\n                                                updateAcademic={(academic) => updateNestedConfig('academic', academic)}\r\n                                                updateAchievements={(achievements) => updateNestedConfig('achievements', achievements)}\r\n                                                updateServices={(services) => updateNestedConfig('services', services)}\r\n                                                updateContact={(contact) => updateNestedConfig('contact', contact)}\r\n                                            />\r\n                                        )}\r\n                                        {activeTab === 'projects' && (\r\n                                            <ProjectsTab />\r\n                                        )}\r\n                                        {activeTab === 'users' && (\r\n                                            <UsersTab />\r\n                                        )}\r\n                                        {activeTab === 'experience' && (\r\n                                            <ExperienceTab />\r\n                                        )}\r\n                                        {activeTab === 'academic' && (\r\n                                            <AcademicTab />\r\n                                        )}\r\n                                        {activeTab === 'achievements' && (\r\n                                            <AchievementsTab />\r\n                                        )}\r\n                                        {activeTab === 'services' && (\r\n                                            <ServicesTab />\r\n                                        )}\r\n                                        {activeTab === 'friends' && (\r\n                                            <FriendsTab />\r\n                                        )}\r\n                                        {activeTab === 'games' && (\r\n                                            <GamesTab\r\n                                                settings={config.gameSettings}\r\n                                                updateSettings={(settings) =>\r\n                                                    updateNestedConfig('gameSettings', settings)\r\n                                                }\r\n                                            />\r\n                                        )}\r\n                                        {activeTab === 'social' && (\r\n                                            <SocialTab\r\n                                                links={config.socialLinks}\r\n                                                updateLinks={(links) => updateNestedConfig('socialLinks', links)}\r\n                                            />\r\n                                        )}\r\n                                    </>\r\n                                )}\r\n                            </motion.div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n// ==================== TAB COMPONENTS ====================\r\nfunction TabSkeleton() {\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            <Skeleton className=\"h-8 w-48 mb-6\" />\r\n            <div className=\"space-y-6\">\r\n                {[1, 2, 3].map((i) => (\r\n                    <div key={i} className=\"space-y-3 p-4 bg-white/5 rounded-xl border border-white/5\">\r\n                        <Skeleton className=\"h-4 w-24\" />\r\n                        <Skeleton className=\"h-10 w-full rounded-lg\" />\r\n                    </div>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction SkeletonList() {\r\n    return (\r\n        <div className=\"space-y-4\">\r\n            {[1, 2, 3].map((i) => (\r\n                <div key={i} className=\"p-4 bg-white/5 rounded-lg border border-gray-700/50 flex items-center justify-between\">\r\n                    <div className=\"space-y-2 flex-1\">\r\n                        <Skeleton className=\"h-5 w-1/3\" />\r\n                        <Skeleton className=\"h-4 w-2/3\" />\r\n                    </div>\r\n                    <div className=\"flex gap-2 ml-4\">\r\n                        <Skeleton className=\"h-8 w-8 rounded-lg\" />\r\n                        <Skeleton className=\"h-8 w-8 rounded-lg\" />\r\n                    </div>\r\n                </div>\r\n            ))}\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\nfunction GeneralTab({\r\n    config,\r\n    updateConfig,\r\n}: {\r\n    config: SiteConfig;\r\n    updateConfig: (updates: Partial<SiteConfig>) => void;\r\n}) {\r\n    const [isUploading, setIsUploading] = useState(false);\r\n\r\n    const handleLogoUpload = async (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        const file = e.target.files?.[0];\r\n        if (!file) return;\r\n\r\n        setIsUploading(true);\r\n        try {\r\n            const url = await uploadImage(file, 'logos');\r\n            updateConfig({ logoUrl: url });\r\n        } catch (error: any) {\r\n            console.error('Failed to upload logo:', error);\r\n            alert(`Failed to upload logo: ${error.message}`);\r\n        } finally {\r\n            setIsUploading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            <h2 className=\"text-xl font-bold text-white mb-4\">General Settings</h2>\r\n\r\n            <div className=\"space-y-4\">\r\n                <div>\r\n                    <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n                        Site Name\r\n                    </label>\r\n                    <input\r\n                        type=\"text\"\r\n                        value={config.siteName}\r\n                        onChange={(e) => updateConfig({ siteName: e.target.value })}\r\n                        className=\"w-full px-4 py-3 bg-white/5 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/20\"\r\n                    />\r\n                </div>\r\n\r\n                <div>\r\n                    <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n                        Site Description\r\n                    </label>\r\n                    <textarea\r\n                        value={config.siteDescription}\r\n                        onChange={(e) => updateConfig({ siteDescription: e.target.value })}\r\n                        rows={3}\r\n                        className=\"w-full px-4 py-3 bg-white/5 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/20 resize-none\"\r\n                    />\r\n                </div>\r\n\r\n                <div>\r\n                    <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n                        Logo URL\r\n                    </label>\r\n                    <div className=\"flex gap-2\">\r\n                        <div className=\"flex-1\">\r\n                            <input\r\n                                type=\"url\"\r\n                                value={config.logoUrl || ''}\r\n                                onChange={(e) => updateConfig({ logoUrl: e.target.value })}\r\n                                placeholder=\"https://example.com/logo.png\"\r\n                                className=\"w-full px-4 py-3 bg-white/5 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/20\"\r\n                            />\r\n                        </div>\r\n                        <div className=\"relative\">\r\n                            <input\r\n                                type=\"file\"\r\n                                accept=\"image/*\"\r\n                                onChange={handleLogoUpload}\r\n                                className=\"hidden\"\r\n                                id=\"logo-upload\"\r\n                                disabled={isUploading}\r\n                            />\r\n                            <label\r\n                                htmlFor=\"logo-upload\"\r\n                                className={`flex items-center justify-center p-3 bg-white/10 hover:bg-white/20 border border-gray-700 rounded-lg cursor-pointer transition-colors ${isUploading ? 'opacity-50 cursor-not-allowed' : ''}`}\r\n                            >\r\n                                {isUploading ? (\r\n                                    <Loader2 size={24} className=\"animate-spin text-gray-500\" />\r\n                                ) : (\r\n                                    <Upload size={24} className=\"text-gray-300\" />\r\n                                )}\r\n                            </label>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction ColorsTab({\r\n    colors,\r\n    updateColors,\r\n    theme,\r\n    updateTheme,\r\n}: {\r\n    colors: SiteConfig['colors'];\r\n    updateColors: (colors: Partial<SiteConfig['colors']>) => void;\r\n    theme: SiteConfig['theme'];\r\n    updateTheme: (theme: Partial<SiteConfig['theme']>) => void;\r\n}) {\r\n    const colorFields = [\r\n        { key: 'primary', label: 'Primary Color', description: 'Main accent color' },\r\n        { key: 'secondary', label: 'Secondary Color', description: 'Secondary accent' },\r\n        { key: 'accent', label: 'Accent / Highlight', description: 'Retro neons (Neo-Brutalism)' },\r\n        { key: 'background', label: 'Background', description: 'Page background' },\r\n        { key: 'surface', label: 'Surface', description: 'Card backgrounds' },\r\n        { key: 'text', label: 'Text Color', description: 'Primary text' },\r\n        { key: 'textMuted', label: 'Muted Text', description: 'Secondary text' },\r\n    ] as const;\r\n\r\n    return (\r\n        <div className=\"space-y-8\">\r\n            <div>\r\n                <h2 className=\"text-xl font-bold text-white mb-4\">Neo-Brutalist Theme</h2>\r\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n                            Border Width\r\n                        </label>\r\n                        <input\r\n                            type=\"text\"\r\n                            value={theme?.borderWidth || '2px'}\r\n                            onChange={(e) => updateTheme({ borderWidth: e.target.value })}\r\n                            placeholder=\"e.g., 2px\"\r\n                            className=\"w-full px-4 py-3 bg-white/5 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary\"\r\n                        />\r\n                    </div>\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n                            Border Radius\r\n                        </label>\r\n                        <input\r\n                            type=\"text\"\r\n                            value={theme?.borderRadius || '0px'}\r\n                            onChange={(e) => updateTheme({ borderRadius: e.target.value })}\r\n                            placeholder=\"e.g., 0px\"\r\n                            className=\"w-full px-4 py-3 bg-white/5 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary\"\r\n                        />\r\n                    </div>\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n                            Box Shadow\r\n                        </label>\r\n                        <input\r\n                            type=\"text\"\r\n                            value={theme?.boxShadow || '4px 4px 0px #000'}\r\n                            onChange={(e) => updateTheme({ boxShadow: e.target.value })}\r\n                            placeholder=\"e.g., 4px 4px 0px #000\"\r\n                            className=\"w-full px-4 py-3 bg-white/5 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary\"\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"h-px bg-gray-800\" />\r\n\r\n            <h2 className=\"text-xl font-bold text-white mb-4\">Color Palette</h2>\r\n\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                {colorFields.map((field) => (\r\n                    <div\r\n                        key={field.key}\r\n                        className=\"p-4 bg-white/5 rounded-lg border border-gray-700\"\r\n                    >\r\n                        <div className=\"flex items-center justify-between mb-2\">\r\n                            <div>\r\n                                <label className=\"block text-sm font-medium text-white\">\r\n                                    {field.label}\r\n                                </label>\r\n                                <span className=\"text-xs text-gray-400\">{field.description}</span>\r\n                            </div>\r\n                            <div\r\n                                className=\"w-10 h-10 rounded-lg border border-gray-600 shadow-inner\"\r\n                                style={{ backgroundColor: colors[field.key] }}\r\n                            />\r\n                        </div>\r\n                        <div className=\"flex items-center gap-2\">\r\n                            <input\r\n                                type=\"color\"\r\n                                value={colors[field.key]}\r\n                                onChange={(e) => updateColors({ [field.key]: e.target.value })}\r\n                                className=\"w-10 h-10 rounded cursor-pointer\"\r\n                            />\r\n                            <input\r\n                                type=\"text\"\r\n                                value={colors[field.key]}\r\n                                onChange={(e) => updateColors({ [field.key]: e.target.value })}\r\n                                className=\"flex-1 px-3 py-2 bg-black/30 border border-gray-700 rounded text-white font-mono text-sm focus:outline-none focus:border-primary\"\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n\r\n            {/* Color Preview */}\r\n            <div className=\"mt-6 p-6 rounded-xl border border-gray-700\" style={{ backgroundColor: colors.surface }}>\r\n                <h3 className=\"text-lg font-bold mb-4\" style={{ color: colors.text }}>\r\n                    Preview\r\n                </h3>\r\n                <p className=\"mb-4\" style={{ color: colors.textMuted }}>\r\n                    This is how your colors will look together.\r\n                </p>\r\n                <div className=\"flex gap-3\">\r\n                    <Button\r\n                        variant=\"default\"\r\n                        style={{ background: `linear-gradient(to right, ${colors.primary}, ${colors.secondary})` }}\r\n                    >\r\n                        Primary Button\r\n                    </Button>\r\n                    <Button\r\n                        variant=\"neon\"\r\n                    >\r\n                        Secondary Button\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction ContentTab({\r\n    config,\r\n    updateHero,\r\n    updateAbout,\r\n    updateProjects,\r\n    updateFriends,\r\n    updateExperience,\r\n    updateAcademic,\r\n    updateAchievements,\r\n    updateServices,\r\n    updateContact,\r\n}: {\r\n    config: SiteConfig;\r\n    updateHero: (hero: Partial<SiteConfig['hero']>) => void;\r\n    updateAbout: (about: Partial<SiteConfig['about']>) => void;\r\n    updateProjects: (projects: Partial<SiteConfig['projects']>) => void;\r\n    updateFriends: (friends: Partial<SiteConfig['friends']>) => void;\r\n    updateExperience: (experience: Partial<SiteConfig['experience']>) => void;\r\n    updateAcademic: (academic: Partial<SiteConfig['academic']>) => void;\r\n    updateAchievements: (achievements: Partial<SiteConfig['achievements']>) => void;\r\n    updateServices: (services: Partial<SiteConfig['services']>) => void;\r\n    updateContact: (contact: Partial<SiteConfig['contact']>) => void;\r\n}) {\r\n    const [newSkill, setNewSkill] = useState('');\r\n\r\n    const addSkill = () => {\r\n        if (newSkill.trim()) {\r\n            updateAbout({ skills: [...config.about.skills, newSkill.trim()] });\r\n            setNewSkill('');\r\n        }\r\n    };\r\n\r\n    const removeSkill = (index: number) => {\r\n        updateAbout({ skills: config.about.skills.filter((_, i) => i !== index) });\r\n    };\r\n\r\n    return (\r\n        <div className=\"space-y-8\">\r\n            {/* Hero Section */}\r\n            <div>\r\n                <h2 className=\"text-xl font-bold text-white mb-4\">Hero Section</h2>\r\n                <div className=\"space-y-4\">\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n                            Tagline (small text above title)\r\n                        </label>\r\n                        <input\r\n                            type=\"text\"\r\n                            value={config.hero.tagline || ''}\r\n                            onChange={(e) => updateHero({ tagline: e.target.value })}\r\n                            placeholder=\"e.g., System Architect & Full Stack Engineer\"\r\n                            className=\"w-full px-4 py-3 bg-white/5 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary\"\r\n                        />\r\n                    </div>\r\n                    <div className=\"grid grid-cols-2 gap-4\">\r\n                        <div>\r\n                            <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n                                Title\r\n                            </label>\r\n                            <input\r\n                                type=\"text\"\r\n                                value={config.hero.title}\r\n                                onChange={(e) => updateHero({ title: e.target.value })}\r\n                                className=\"w-full px-4 py-3 bg-white/5 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary\"\r\n                            />\r\n                        </div>\r\n                        <div>\r\n                            <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n                                Title Highlight (colored text)\r\n                            </label>\r\n                            <input\r\n                                type=\"text\"\r\n                                value={config.hero.titleHighlight || ''}\r\n                                onChange={(e) => updateHero({ titleHighlight: e.target.value })}\r\n                                placeholder=\"e.g., That Scale\"\r\n                                className=\"w-full px-4 py-3 bg-white/5 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary\"\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n                            Subtitle\r\n                        </label>\r\n                        <textarea\r\n                            value={config.hero.subtitle}\r\n                            onChange={(e) => updateHero({ subtitle: e.target.value })}\r\n                            rows={2}\r\n                            className=\"w-full px-4 py-3 bg-white/5 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary resize-none\"\r\n                        />\r\n                    </div>\r\n                    <div className=\"grid grid-cols-2 gap-4\">\r\n                        <div>\r\n                            <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n                                Primary CTA Button Text\r\n                            </label>\r\n                            <input\r\n                                type=\"text\"\r\n                                value={config.hero.ctaText}\r\n                                onChange={(e) => updateHero({ ctaText: e.target.value })}\r\n                                className=\"w-full px-4 py-3 bg-white/5 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary\"\r\n                            />\r\n                        </div>\r\n                        <div>\r\n                            <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n                                Primary CTA Link\r\n                            </label>\r\n                            <input\r\n                                type=\"text\"\r\n                                value={config.hero.ctaLink}\r\n                                onChange={(e) => updateHero({ ctaLink: e.target.value })}\r\n                                className=\"w-full px-4 py-3 bg-white/5 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary\"\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"grid grid-cols-2 gap-4\">\r\n                        <div>\r\n                            <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n                                Secondary CTA Button Text\r\n                            </label>\r\n                            <input\r\n                                type=\"text\"\r\n                                value={config.hero.secondaryCtaText || ''}\r\n                                onChange={(e) => updateHero({ secondaryCtaText: e.target.value })}\r\n                                placeholder=\"e.g., Enter Arcade\"\r\n                                className=\"w-full px-4 py-3 bg-white/5 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary\"\r\n                            />\r\n                        </div>\r\n                        <div>\r\n                            <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n                                Secondary CTA Link\r\n                            </label>\r\n                            <input\r\n                                type=\"text\"\r\n                                value={config.hero.secondaryCtaLink || ''}\r\n                                onChange={(e) => updateHero({ secondaryCtaLink: e.target.value })}\r\n                                placeholder=\"e.g., /arcade\"\r\n                                className=\"w-full px-4 py-3 bg-white/5 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary\"\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* About Section */}\r\n            <div>\r\n                <h2 className=\"text-xl font-bold text-white mb-4\">About Section</h2>\r\n                <div className=\"space-y-4\">\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n                            About Title\r\n                        </label>\r\n                        <input\r\n                            type=\"text\"\r\n                            value={config.about.title}\r\n                            onChange={(e) => updateAbout({ title: e.target.value })}\r\n                            className=\"w-full px-4 py-3 bg-white/5 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary\"\r\n                        />\r\n                    </div>\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n                            Description\r\n                        </label>\r\n                        <textarea\r\n                            value={config.about.description}\r\n                            onChange={(e) => updateAbout({ description: e.target.value })}\r\n                            rows={4}\r\n                            className=\"w-full px-4 py-3 bg-white/5 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary resize-none\"\r\n                        />\r\n                    </div>\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n                            Skills Label\r\n                        </label>\r\n                        <input\r\n                            type=\"text\"\r\n                            value={config.about.skillsLabel || 'Core Competencies'}\r\n                            onChange={(e) => updateAbout({ skillsLabel: e.target.value })}\r\n                            placeholder=\"e.g., Core Competencies\"\r\n                            className=\"w-full px-4 py-3 bg-white/5 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary\"\r\n                        />\r\n                    </div>\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n                            Skills\r\n                        </label>\r\n                        <div className=\"flex flex-wrap gap-2 mb-3\">\r\n                            {config.about.skills.map((skill, index) => (\r\n                                <span\r\n                                    key={index}\r\n                                    className=\"inline-flex items-center gap-1 px-3 py-1 bg-primary/20 text-primary rounded-full text-sm\"\r\n                                >\r\n                                    {skill}\r\n                                    <button\r\n                                        onClick={() => removeSkill(index)}\r\n                                        className=\"ml-1 hover:text-red-400\"\r\n                                    >\r\n                                        \r\n                                    </button>\r\n                                </span>\r\n                            ))}\r\n                        </div>\r\n                        <div className=\"flex gap-2\">\r\n                            <input\r\n                                type=\"text\"\r\n                                value={newSkill}\r\n                                onChange={(e) => setNewSkill(e.target.value)}\r\n                                onKeyDown={(e) => e.key === 'Enter' && addSkill()}\r\n                                placeholder=\"Add a skill...\"\r\n                                className=\"flex-1 px-4 py-2 bg-white/5 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary\"\r\n                            />\r\n                            <button\r\n                                onClick={addSkill}\r\n                                className=\"px-4 py-2 bg-primary hover:brightness-110 text-white rounded-lg transition-colors\"\r\n                            >\r\n                                Add\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Experience Section Header */}\r\n            <div>\r\n                <h2 className=\"text-xl font-bold text-white mb-4\">Experience Section</h2>\r\n                <div className=\"space-y-4\">\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n                            Section Title\r\n                        </label>\r\n                        <input\r\n                            type=\"text\"\r\n                            value={config.experience?.title || 'Work Experience'}\r\n                            onChange={(e) => updateExperience({ title: e.target.value })}\r\n                            className=\"w-full px-4 py-3 bg-white/5 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary\"\r\n                        />\r\n                    </div>\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n                            Section Subtitle\r\n                        </label>\r\n                        <textarea\r\n                            value={config.experience?.subtitle || ''}\r\n                            onChange={(e) => updateExperience({ subtitle: e.target.value })}\r\n                            rows={2}\r\n                            className=\"w-full px-4 py-3 bg-white/5 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary resize-none\"\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Academic Section Header */}\r\n            <div>\r\n                <h2 className=\"text-xl font-bold text-white mb-4\">Academic Section</h2>\r\n                <div className=\"space-y-4\">\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n                            Section Title\r\n                        </label>\r\n                        <input\r\n                            type=\"text\"\r\n                            value={config.academic?.title || 'Education'}\r\n                            onChange={(e) => updateAcademic({ title: e.target.value })}\r\n                            className=\"w-full px-4 py-3 bg-white/5 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary\"\r\n                        />\r\n                    </div>\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n                            Section Subtitle\r\n                        </label>\r\n                        <textarea\r\n                            value={config.academic?.subtitle || ''}\r\n                            onChange={(e) => updateAcademic({ subtitle: e.target.value })}\r\n                            rows={2}\r\n                            className=\"w-full px-4 py-3 bg-white/5 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary resize-none\"\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Achievements Section Header */}\r\n            <div>\r\n                <h2 className=\"text-xl font-bold text-white mb-4\">Achievements Section</h2>\r\n                <div className=\"space-y-4\">\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n                            Section Title\r\n                        </label>\r\n                        <input\r\n                            type=\"text\"\r\n                            value={config.achievements?.title || 'Certifications & Honors'}\r\n                            onChange={(e) => updateAchievements({ title: e.target.value })}\r\n                            className=\"w-full px-4 py-3 bg-white/5 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary\"\r\n                        />\r\n                    </div>\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n                            Section Subtitle\r\n                        </label>\r\n                        <textarea\r\n                            value={config.achievements?.subtitle || ''}\r\n                            onChange={(e) => updateAchievements({ subtitle: e.target.value })}\r\n                            rows={2}\r\n                            className=\"w-full px-4 py-3 bg-white/5 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary resize-none\"\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Services Section Header */}\r\n            <div>\r\n                <h2 className=\"text-xl font-bold text-white mb-4\">Services Section</h2>\r\n                <div className=\"space-y-4\">\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n                            Section Title\r\n                        </label>\r\n                        <input\r\n                            type=\"text\"\r\n                            value={config.services?.title || 'Services & Expertise'}\r\n                            onChange={(e) => updateServices({ title: e.target.value })}\r\n                            className=\"w-full px-4 py-3 bg-white/5 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary\"\r\n                        />\r\n                    </div>\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n                            Section Subtitle\r\n                        </label>\r\n                        <textarea\r\n                            value={config.services?.subtitle || ''}\r\n                            onChange={(e) => updateServices({ subtitle: e.target.value })}\r\n                            rows={2}\r\n                            className=\"w-full px-4 py-3 bg-white/5 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary resize-none\"\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Projects Section Header */}\r\n            <div>\r\n                <h2 className=\"text-xl font-bold text-white mb-4\">Projects Section</h2>\r\n                <div className=\"space-y-4\">\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n                            Section Title\r\n                        </label>\r\n                        <input\r\n                            type=\"text\"\r\n                            value={config.projects?.title || 'Featured Projects'}\r\n                            onChange={(e) => updateProjects({ title: e.target.value })}\r\n                            className=\"w-full px-4 py-3 bg-white/5 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary\"\r\n                        />\r\n                    </div>\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n                            Section Subtitle\r\n                        </label>\r\n                        <textarea\r\n                            value={config.projects?.subtitle || ''}\r\n                            onChange={(e) => updateProjects({ subtitle: e.target.value })}\r\n                            rows={2}\r\n                            className=\"w-full px-4 py-3 bg-white/5 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary resize-none\"\r\n                        />\r\n                    </div>\r\n                    <p className=\"text-sm text-gray-400\">\r\n                        To manage individual projects, go to the <strong>Projects</strong> tab.\r\n                    </p>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Friends Section Header */}\r\n            <div>\r\n                <h2 className=\"text-xl font-bold text-white mb-4\">Friends Section</h2>\r\n                <div className=\"space-y-4\">\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n                            Section Title\r\n                        </label>\r\n                        <input\r\n                            type=\"text\"\r\n                            value={config.friends?.title || 'Cool People I Know'}\r\n                            onChange={(e) => updateFriends({ title: e.target.value })}\r\n                            className=\"w-full px-4 py-3 bg-white/5 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary\"\r\n                        />\r\n                    </div>\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n                            Section Subtitle\r\n                        </label>\r\n                        <textarea\r\n                            value={config.friends?.subtitle || ''}\r\n                            onChange={(e) => updateFriends({ subtitle: e.target.value })}\r\n                            rows={2}\r\n                            className=\"w-full px-4 py-3 bg-white/5 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary resize-none\"\r\n                        />\r\n                    </div>\r\n                    <p className=\"text-sm text-gray-400\">\r\n                        To manage individual friends, go to the <strong>Friends</strong> tab.\r\n                    </p>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Contact Section */}\r\n            <div>\r\n                <h2 className=\"text-xl font-bold text-white mb-4\">Contact Section</h2>\r\n                <div className=\"space-y-4\">\r\n                    <div>\r\n                        <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n                            Contact Title\r\n                        </label>\r\n                        <input\r\n                            type=\"text\"\r\n                            value={config.contact?.title || 'Ready to collaborate?'}\r\n                            onChange={(e) => updateContact({ title: e.target.value })}\r\n                            className=\"w-full px-4 py-3 bg-white/5 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary\"\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction ProjectsTab() {\r\n    const [projects, setProjects] = useState<Project[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [editingProject, setEditingProject] = useState<Project | null>(null);\r\n    const [isAdding, setIsAdding] = useState(false);\r\n\r\n    useEffect(() => {\r\n        loadProjects();\r\n    }, []);\r\n\r\n    const loadProjects = async () => {\r\n        const fetchedProjects = await getProjects();\r\n        setProjects(fetchedProjects);\r\n        setLoading(false);\r\n    };\r\n\r\n    const handleAddProject = async (project: Omit<Project, 'id'>) => {\r\n        await addProject(project);\r\n        await loadProjects();\r\n        setIsAdding(false);\r\n    };\r\n\r\n    const handleUpdateProject = async (id: string, updates: Partial<Project>) => {\r\n        await updateProject(id, updates);\r\n        await loadProjects();\r\n        setEditingProject(null);\r\n    };\r\n\r\n    const handleDeleteProject = async (id: string) => {\r\n        if (confirm('Are you sure you want to delete this project?')) {\r\n            await deleteProject(id);\r\n            await loadProjects();\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            <div className=\"flex items-center justify-between\">\r\n                <h2 className=\"text-xl font-bold text-white\">Manage Projects</h2>\r\n                {loading ? (\r\n                    <Skeleton className=\"h-10 w-32 rounded-lg\" />\r\n                ) : (\r\n                    <Button\r\n                        onClick={() => setIsAdding(true)}\r\n                        className=\"flex items-center gap-2\"\r\n                    >\r\n                        <Plus size={18} />\r\n                        Add Project\r\n                    </Button>\r\n                )}\r\n            </div>\r\n\r\n            {isAdding && (\r\n                <ProjectForm\r\n                    onSubmit={handleAddProject}\r\n                    onCancel={() => setIsAdding(false)}\r\n                />\r\n            )}\r\n\r\n            {editingProject && (\r\n                <ProjectForm\r\n                    project={editingProject}\r\n                    onSubmit={(updates) => handleUpdateProject(editingProject.id!, updates)}\r\n                    onCancel={() => setEditingProject(null)}\r\n                />\r\n            )}\r\n\r\n            {loading ? (\r\n                <SkeletonList />\r\n            ) : (\r\n                <div className=\"space-y-4\">\r\n                    {projects.length === 0 ? (\r\n                        <p className=\"text-gray-400 text-center py-8\">\r\n                            No projects yet. Add your first project!\r\n                        </p>\r\n                    ) : (\r\n                        projects.map((project) => (\r\n                            <div\r\n                                key={project.id}\r\n                                className=\"p-4 bg-white/5 rounded-lg border border-gray-700 flex items-center justify-between\"\r\n                            >\r\n                                <div>\r\n                                    <h3 className=\"font-medium text-white\">{project.title}</h3>\r\n                                    <p className=\"text-sm text-gray-400 line-clamp-1\">{project.description}</p>\r\n                                    <div className=\"flex gap-2 mt-2\">\r\n                                        {project.featured && (\r\n                                            <span className=\"text-xs px-2 py-0.5 bg-primary/20 text-primary rounded\">Featured</span>\r\n                                        )}\r\n                                        <span className=\"text-xs text-gray-500\">Order: {project.order}</span>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"flex gap-2\">\r\n                                    <button\r\n                                        onClick={() => setEditingProject(project)}\r\n                                        className=\"p-2 text-gray-400 hover:text-white hover:bg-white/10 rounded-lg transition-colors\"\r\n                                    >\r\n                                        <Edit3 size={18} />\r\n                                    </button>\r\n                                    <button\r\n                                        onClick={() => handleDeleteProject(project.id!)}\r\n                                        className=\"p-2 text-gray-400 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-colors\"\r\n                                    >\r\n                                        <Trash2 size={18} />\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        ))\r\n                    )}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction ProjectForm({\r\n    project,\r\n    onSubmit,\r\n    onCancel,\r\n}: {\r\n    project?: Project;\r\n    onSubmit: (project: Omit<Project, 'id'>) => void;\r\n    onCancel: () => void;\r\n}) {\r\n    const [formData, setFormData] = useState<Omit<Project, 'id'>>({\r\n        title: project?.title || '',\r\n        description: project?.description || '',\r\n        tags: project?.tags || [],\r\n        demoUrl: project?.demoUrl || '',\r\n        githubUrl: project?.githubUrl || '',\r\n        imageUrl: project?.imageUrl || '',\r\n        order: project?.order || 0,\r\n        featured: project?.featured ?? true,\r\n    });\r\n    const [newTag, setNewTag] = useState('');\r\n\r\n    const addTag = () => {\r\n        if (newTag.trim() && !formData.tags.includes(newTag.trim())) {\r\n            setFormData({ ...formData, tags: [...formData.tags, newTag.trim()] });\r\n            setNewTag('');\r\n        }\r\n    };\r\n\r\n    const removeTag = (index: number) => {\r\n        setFormData({ ...formData, tags: formData.tags.filter((_, i) => i !== index) });\r\n    };\r\n\r\n    return (\r\n        <div className=\"p-6 bg-gray-800/50 rounded-xl border border-gray-600 space-y-4\">\r\n            <div className=\"flex items-center justify-between\">\r\n                <h3 className=\"font-medium text-white\">{project ? 'Edit Project' : 'Add New Project'}</h3>\r\n                <button onClick={onCancel} className=\"text-gray-400 hover:text-white\">\r\n                    <X size={20} />\r\n                </button>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                <div>\r\n                    <label className=\"block text-sm text-gray-300 mb-1\">Title</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        value={formData.title}\r\n                        onChange={(e) => setFormData({ ...formData, title: e.target.value })}\r\n                        className=\"w-full px-3 py-2 bg-white/5 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary\"\r\n                    />\r\n                </div>\r\n                <div>\r\n                    <label className=\"block text-sm text-gray-300 mb-1\">Order</label>\r\n                    <input\r\n                        type=\"number\"\r\n                        value={formData.order}\r\n                        onChange={(e) => setFormData({ ...formData, order: parseInt(e.target.value) || 0 })}\r\n                        className=\"w-full px-3 py-2 bg-white/5 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary\"\r\n                    />\r\n                </div>\r\n            </div>\r\n\r\n            <div>\r\n                <label className=\"block text-sm text-gray-300 mb-1\">Description</label>\r\n                <textarea\r\n                    value={formData.description}\r\n                    onChange={(e) => setFormData({ ...formData, description: e.target.value })}\r\n                    rows={3}\r\n                    className=\"w-full px-3 py-2 bg-white/5 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary resize-none\"\r\n                />\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-2 gap-4\">\r\n                <div>\r\n                    <label className=\"block text-sm text-gray-300 mb-1\">Demo URL</label>\r\n                    <input\r\n                        type=\"url\"\r\n                        value={formData.demoUrl}\r\n                        onChange={(e) => setFormData({ ...formData, demoUrl: e.target.value })}\r\n                        placeholder=\"https://...\"\r\n                        className=\"w-full px-3 py-2 bg-white/5 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary\"\r\n                    />\r\n                </div>\r\n                <div>\r\n                    <label className=\"block text-sm text-gray-300 mb-1\">GitHub URL</label>\r\n                    <input\r\n                        type=\"url\"\r\n                        value={formData.githubUrl}\r\n                        onChange={(e) => setFormData({ ...formData, githubUrl: e.target.value })}\r\n                        placeholder=\"https://github.com/...\"\r\n                        className=\"w-full px-3 py-2 bg-white/5 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary\"\r\n                    />\r\n                </div>\r\n            </div>\r\n\r\n            <div>\r\n                <label className=\"block text-sm text-gray-300 mb-1\">Tags</label>\r\n                <div className=\"flex flex-wrap gap-2 mb-2\">\r\n                    {formData.tags.map((tag, index) => (\r\n                        <span key={index} className=\"inline-flex items-center gap-1 px-2 py-1 bg-primary/20 text-primary rounded text-sm\">\r\n                            {tag}\r\n                            <button onClick={() => removeTag(index)} className=\"hover:text-red-400\"></button>\r\n                        </span>\r\n                    ))}\r\n                </div>\r\n                <div className=\"flex gap-2\">\r\n                    <input\r\n                        type=\"text\"\r\n                        value={newTag}\r\n                        onChange={(e) => setNewTag(e.target.value)}\r\n                        onKeyDown={(e) => e.key === 'Enter' && (e.preventDefault(), addTag())}\r\n                        placeholder=\"Add tag...\"\r\n                        className=\"flex-1 px-3 py-2 bg-white/5 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary\"\r\n                    />\r\n                    <button onClick={addTag} className=\"px-3 py-2 bg-primary text-white rounded-lg\">Add</button>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"flex items-center gap-3\">\r\n                <label className=\"flex items-center gap-2 cursor-pointer\">\r\n                    <input\r\n                        type=\"checkbox\"\r\n                        checked={formData.featured}\r\n                        onChange={(e) => setFormData({ ...formData, featured: e.target.checked })}\r\n                        className=\"w-4 h-4 rounded border-gray-600 bg-white/5 text-primary focus:ring-primary\"\r\n                    />\r\n                    <span className=\"text-sm text-gray-300\">Featured on home page</span>\r\n                </label>\r\n            </div>\r\n\r\n            <div className=\"flex justify-end gap-3 pt-4\">\r\n                <button onClick={onCancel} className=\"px-4 py-2 text-gray-400 hover:text-white\">\r\n                    Cancel\r\n                </button>\r\n                <button\r\n                    onClick={() => onSubmit(formData)}\r\n                    className=\"px-4 py-2 bg-primary hover:brightness-110 text-white rounded-lg transition-colors\"\r\n                >\r\n                    {project ? 'Save Changes' : 'Add Project'}\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction FriendsTab() {\r\n    const [friends, setFriends] = useState<Friend[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [editingFriend, setEditingFriend] = useState<Friend | null>(null);\r\n    const [isAdding, setIsAdding] = useState(false);\r\n\r\n    useEffect(() => {\r\n        loadFriends();\r\n    }, []);\r\n\r\n    const loadFriends = async () => {\r\n        const fetchedFriends = await getFriends();\r\n        setFriends(fetchedFriends);\r\n        setLoading(false);\r\n    };\r\n\r\n    const handleAddFriend = async (friend: Omit<Friend, 'id'>) => {\r\n        await addFriend(friend);\r\n        await loadFriends();\r\n        setIsAdding(false);\r\n    };\r\n\r\n    const handleUpdateFriend = async (id: string, updates: Partial<Friend>) => {\r\n        await updateFriend(id, updates);\r\n        await loadFriends();\r\n        setEditingFriend(null);\r\n    };\r\n\r\n    const handleDeleteFriend = async (id: string) => {\r\n        if (confirm('Are you sure you want to remove this friend?')) {\r\n            await deleteFriend(id);\r\n            await loadFriends();\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                    <h2 className=\"text-xl font-bold text-white\">Manage Friends</h2>\r\n                    <p className=\"text-sm text-gray-400\">Add cool people you know to your portfolio</p>\r\n                </div>\r\n                {loading ? (\r\n                    <Skeleton className=\"h-10 w-32 rounded-lg\" />\r\n                ) : (\r\n                    <Button\r\n                        onClick={() => setIsAdding(true)}\r\n                        className=\"flex items-center gap-2\"\r\n                    >\r\n                        <Plus size={18} />\r\n                        Add Friend\r\n                    </Button>\r\n                )}\r\n            </div>\r\n\r\n            {loading ? <SkeletonList /> : (\r\n                <>\r\n                    {isAdding && (\r\n                        <FriendForm\r\n                            onSubmit={handleAddFriend}\r\n                            onCancel={() => setIsAdding(false)}\r\n                        />\r\n                    )}\r\n\r\n                    {editingFriend && (\r\n                        <FriendForm\r\n                            friend={editingFriend}\r\n                            onSubmit={(updates) => handleUpdateFriend(editingFriend.id!, updates)}\r\n                            onCancel={() => setEditingFriend(null)}\r\n                        />\r\n                    )}\r\n\r\n                    <div className=\"space-y-4\">\r\n                        {friends.length === 0 ? (\r\n                            <p className=\"text-gray-400 text-center py-8\">\r\n                                No friends added yet. Add your first friend!\r\n                            </p>\r\n                        ) : (\r\n                            friends.map((friend) => (\r\n                                <div\r\n                                    key={friend.id}\r\n                                    className=\"p-4 bg-white/5 rounded-lg border border-gray-700 flex items-center justify-between\"\r\n                                >\r\n                                    <div className=\"flex items-center gap-4\">\r\n                                        {friend.avatarUrl ? (\r\n                                            <img\r\n                                                src={friend.avatarUrl}\r\n                                                alt={friend.name}\r\n                                                className=\"w-12 h-12 rounded-full object-cover\"\r\n                                            />\r\n                                        ) : (\r\n                                            <div className=\"w-12 h-12 rounded-full bg-primary flex items-center justify-center text-white font-bold\">\r\n                                                {friend.name.charAt(0).toUpperCase()}\r\n                                            </div>\r\n                                        )}\r\n                                        <div>\r\n                                            <h3 className=\"font-medium text-white\">{friend.name}</h3>\r\n                                            <p className=\"text-sm text-gray-400 line-clamp-1\">{friend.description}</p>\r\n                                            <span className=\"text-xs text-gray-500\">Order: {friend.order}</span>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"flex gap-2\">\r\n                                        <button\r\n                                            onClick={() => setEditingFriend(friend)}\r\n                                            className=\"p-2 text-gray-400 hover:text-white hover:bg-white/10 rounded-lg transition-colors\"\r\n                                        >\r\n                                            <Edit3 size={18} />\r\n                                        </button>\r\n                                        <button\r\n                                            onClick={() => handleDeleteFriend(friend.id!)}\r\n                                            className=\"p-2 text-gray-400 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-colors\"\r\n                                        >\r\n                                            <Trash2 size={18} />\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                            ))\r\n                        )}\r\n                    </div>\r\n                </>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction FriendForm({\r\n    friend,\r\n    onSubmit,\r\n    onCancel,\r\n}: {\r\n    friend?: Friend;\r\n    onSubmit: (friend: Omit<Friend, 'id'>) => void;\r\n    onCancel: () => void;\r\n}) {\r\n    const [formData, setFormData] = useState<Omit<Friend, 'id'>>({\r\n        name: friend?.name || '',\r\n        description: friend?.description || '',\r\n        avatarUrl: friend?.avatarUrl || '',\r\n        portfolioUrl: friend?.portfolioUrl || '',\r\n        socialLinks: friend?.socialLinks || {\r\n            github: '',\r\n            linkedin: '',\r\n            twitter: '',\r\n            instagram: '',\r\n            website: '',\r\n        },\r\n        order: friend?.order || 0,\r\n    });\r\n\r\n    const updateSocialLink = (key: keyof Friend['socialLinks'], value: string) => {\r\n        setFormData({\r\n            ...formData,\r\n            socialLinks: { ...formData.socialLinks, [key]: value }\r\n        });\r\n    };\r\n\r\n    const [isUploading, setIsUploading] = useState(false);\r\n\r\n    const handleAvatarUpload = async (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        const file = e.target.files?.[0];\r\n        if (!file) return;\r\n\r\n        setIsUploading(true);\r\n        try {\r\n            const url = await uploadImage(file, 'avatars');\r\n            setFormData({ ...formData, avatarUrl: url });\r\n        } catch (error: any) {\r\n            console.error('Failed to upload avatar:', error);\r\n            alert(`Failed to upload avatar: ${error.message}`);\r\n        } finally {\r\n            setIsUploading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"p-6 bg-gray-800/50 rounded-xl border border-gray-600 space-y-4\">\r\n            <div className=\"flex items-center justify-between\">\r\n                <h3 className=\"font-medium text-white\">{friend ? 'Edit Friend' : 'Add New Friend'}</h3>\r\n                <button onClick={onCancel} className=\"text-gray-400 hover:text-white\">\r\n                    <X size={20} />\r\n                </button>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                <div>\r\n                    <label className=\"block text-sm text-gray-300 mb-1\">Name</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        value={formData.name}\r\n                        onChange={(e) => setFormData({ ...formData, name: e.target.value })}\r\n                        placeholder=\"Friend's name\"\r\n                        className=\"w-full px-3 py-2 bg-white/5 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary\"\r\n                    />\r\n                </div>\r\n                <div>\r\n                    <label className=\"block text-sm text-gray-300 mb-1\">Order</label>\r\n                    <input\r\n                        type=\"number\"\r\n                        value={formData.order}\r\n                        onChange={(e) => setFormData({ ...formData, order: parseInt(e.target.value) || 0 })}\r\n                        className=\"w-full px-3 py-2 bg-white/5 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary\"\r\n                    />\r\n                </div>\r\n            </div>\r\n\r\n            <div>\r\n                <label className=\"block text-sm text-gray-300 mb-1\">Description</label>\r\n                <textarea\r\n                    value={formData.description}\r\n                    onChange={(e) => setFormData({ ...formData, description: e.target.value })}\r\n                    rows={2}\r\n                    placeholder=\"A short description about your friend\"\r\n                    className=\"w-full px-3 py-2 bg-white/5 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary resize-none\"\r\n                />\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                <div>\r\n                    <label className=\"block text-sm text-gray-300 mb-1\">Avatar URL</label>\r\n                    <div className=\"flex gap-2\">\r\n                        <input\r\n                            type=\"url\"\r\n                            value={formData.avatarUrl}\r\n                            onChange={(e) => setFormData({ ...formData, avatarUrl: e.target.value })}\r\n                            placeholder=\"https://...\"\r\n                            className=\"flex-1 px-3 py-2 bg-white/5 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary\"\r\n                        />\r\n                        <div className=\"relative\">\r\n                            <input\r\n                                type=\"file\"\r\n                                accept=\"image/*\"\r\n                                onChange={handleAvatarUpload}\r\n                                className=\"hidden\"\r\n                                id=\"avatar-upload\"\r\n                                disabled={isUploading}\r\n                            />\r\n                            <label\r\n                                htmlFor=\"avatar-upload\"\r\n                                className={`flex items-center justify-center p-2 bg-white/10 hover:bg-white/20 border border-gray-700 rounded-lg cursor-pointer transition-colors ${isUploading ? 'opacity-50 cursor-not-allowed' : ''}`}\r\n                            >\r\n                                {isUploading ? (\r\n                                    <Loader2 size={20} className=\"animate-spin text-gray-500\" />\r\n                                ) : (\r\n                                    <Upload size={20} className=\"text-gray-300\" />\r\n                                )}\r\n                            </label>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div>\r\n                    <label className=\"block text-sm text-gray-300 mb-1\">Portfolio URL</label>\r\n                    <input\r\n                        type=\"url\"\r\n                        value={formData.portfolioUrl}\r\n                        onChange={(e) => setFormData({ ...formData, portfolioUrl: e.target.value })}\r\n                        placeholder=\"https://...\"\r\n                        className=\"w-full px-3 py-2 bg-white/5 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary\"\r\n                    />\r\n                </div>\r\n            </div>\r\n\r\n            <div>\r\n                <label className=\"block text-sm text-gray-300 mb-2\">Social Links</label>\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\r\n                    <input\r\n                        type=\"url\"\r\n                        value={formData.socialLinks.github || ''}\r\n                        onChange={(e) => updateSocialLink('github', e.target.value)}\r\n                        placeholder=\"GitHub URL\"\r\n                        className=\"px-3 py-2 bg-white/5 border border-gray-700 rounded-lg text-white text-sm focus:outline-none focus:border-primary\"\r\n                    />\r\n                    <input\r\n                        type=\"url\"\r\n                        value={formData.socialLinks.linkedin || ''}\r\n                        onChange={(e) => updateSocialLink('linkedin', e.target.value)}\r\n                        placeholder=\"LinkedIn URL\"\r\n                        className=\"px-3 py-2 bg-white/5 border border-gray-700 rounded-lg text-white text-sm focus:outline-none focus:border-primary\"\r\n                    />\r\n                    <input\r\n                        type=\"url\"\r\n                        value={formData.socialLinks.twitter || ''}\r\n                        onChange={(e) => updateSocialLink('twitter', e.target.value)}\r\n                        placeholder=\"Twitter URL\"\r\n                        className=\"px-3 py-2 bg-white/5 border border-gray-700 rounded-lg text-white text-sm focus:outline-none focus:border-primary\"\r\n                    />\r\n                    <input\r\n                        type=\"url\"\r\n                        value={formData.socialLinks.instagram || ''}\r\n                        onChange={(e) => updateSocialLink('instagram', e.target.value)}\r\n                        placeholder=\"Instagram URL\"\r\n                        className=\"px-3 py-2 bg-white/5 border border-gray-700 rounded-lg text-white text-sm focus:outline-none focus:border-primary\"\r\n                    />\r\n                    <input\r\n                        type=\"url\"\r\n                        value={formData.socialLinks.website || ''}\r\n                        onChange={(e) => updateSocialLink('website', e.target.value)}\r\n                        placeholder=\"Website URL\"\r\n                        className=\"w-full px-3 py-2 bg-white/5 border border-gray-700 rounded-lg text-white text-sm focus:outline-none focus:border-primary\"\r\n                    />\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"flex justify-end gap-3 pt-4\">\r\n                <button onClick={onCancel} className=\"px-4 py-2 text-gray-400 hover:text-white\">\r\n                    Cancel\r\n                </button>\r\n                <button\r\n                    onClick={() => onSubmit(formData)}\r\n                    className=\"px-4 py-2 bg-primary hover:brightness-110 text-white rounded-lg transition-colors\"\r\n                >\r\n                    {friend ? 'Save Changes' : 'Add Friend'}\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction GamesTab({\r\n    settings,\r\n    updateSettings,\r\n}: {\r\n    settings: SiteConfig['gameSettings'];\r\n    updateSettings: (settings: Partial<SiteConfig['gameSettings']>) => void;\r\n}) {\r\n    const [activeSubTab, setActiveSubTab] = useState<'settings' | 'games'>('settings');\r\n    const [games, setGames] = useState<Array<{ id: string; name: string; stats: { totalPlays: number; uniquePlayers: number; topScore: number | null } }>>([]);\r\n    const [loadingGames, setLoadingGames] = useState(false);\r\n    const [expandedGame, setExpandedGame] = useState<string | null>(null);\r\n    const [gameConfigs, setGameConfigs] = useState<Record<string, any>>({});\r\n    const [savingGame, setSavingGame] = useState<string | null>(null);\r\n    const [deletingGame, setDeletingGame] = useState<string | null>(null);\r\n    const [uploadingImage, setUploadingImage] = useState<{ gameId: string; type: string } | null>(null);\r\n\r\n    // Known games list\r\n    const KNOWN_GAMES = [\r\n        { id: 'flappy-dillu', name: 'Flappy Dillu' },\r\n    ];\r\n\r\n    // Load game stats and configs\r\n    useEffect(() => {\r\n        async function loadGamesData() {\r\n            setLoadingGames(true);\r\n            try {\r\n                const { getGameStats, getGameConfig } = await import('@/lib/firebase/firestore');\r\n\r\n                const gamesWithStats = await Promise.all(\r\n                    KNOWN_GAMES.map(async (game) => {\r\n                        const stats = await getGameStats(game.id);\r\n                        const config = await getGameConfig(game.id);\r\n                        return { ...game, stats, config };\r\n                    })\r\n                );\r\n\r\n                setGames(gamesWithStats);\r\n\r\n                const configs: Record<string, any> = {};\r\n                gamesWithStats.forEach(g => {\r\n                    if (g.config) {\r\n                        configs[g.id] = g.config;\r\n                    }\r\n                });\r\n                setGameConfigs(configs);\r\n            } catch (err) {\r\n                console.error('Failed to load game data:', err);\r\n            } finally {\r\n                setLoadingGames(false);\r\n            }\r\n        }\r\n\r\n        if (activeSubTab === 'games') {\r\n            loadGamesData();\r\n        }\r\n    }, [activeSubTab]);\r\n\r\n    const handleSaveGameConfig = async (gameId: string, updates: any) => {\r\n        setSavingGame(gameId);\r\n        try {\r\n            const { saveGameConfig } = await import('@/lib/firebase/firestore');\r\n            await saveGameConfig(gameId, updates);\r\n            setGameConfigs(prev => ({ ...prev, [gameId]: { ...prev[gameId], ...updates } }));\r\n        } catch (err) {\r\n            console.error('Failed to save game config:', err);\r\n        } finally {\r\n            setSavingGame(null);\r\n        }\r\n    };\r\n\r\n    const handleDeleteGameData = async (gameId: string) => {\r\n        if (!confirm(`Are you sure you want to delete ALL game data for ${gameId}? This will remove all scores and cannot be undone!`)) {\r\n            return;\r\n        }\r\n\r\n        setDeletingGame(gameId);\r\n        try {\r\n            const { deleteGameData } = await import('@/lib/firebase/firestore');\r\n            const count = await deleteGameData(gameId);\r\n            alert(`Deleted ${count} game sessions.`);\r\n            // Refresh stats\r\n            const { getGameStats } = await import('@/lib/firebase/firestore');\r\n            const newStats = await getGameStats(gameId);\r\n            setGames(prev => prev.map(g => g.id === gameId ? { ...g, stats: newStats } : g));\r\n        } catch (err) {\r\n            console.error('Failed to delete game data:', err);\r\n            alert('Failed to delete game data');\r\n        } finally {\r\n            setDeletingGame(null);\r\n        }\r\n    };\r\n\r\n    const handleImageUpload = async (gameId: string, imageType: 'skillIssueImage' | 'congratsImage' | 'thumbnailImage', e: React.ChangeEvent<HTMLInputElement>) => {\r\n        const file = e.target.files?.[0];\r\n        if (!file) return;\r\n\r\n        setUploadingImage({ gameId, type: imageType });\r\n        try {\r\n            const url = await uploadImage(file, `games/${gameId}/${imageType}`);\r\n            await handleSaveGameConfig(gameId, { [imageType]: url });\r\n        } catch (err) {\r\n            console.error('Failed to upload image:', err);\r\n            alert('Failed to upload image');\r\n        } finally {\r\n            setUploadingImage(null);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            {/* Sub-tabs */}\r\n            <div className=\"flex gap-2 border-b border-gray-700/50 pb-4\">\r\n                <button\r\n                    onClick={() => setActiveSubTab('settings')}\r\n                    className={`px-4 py-2 rounded-lg font-medium transition-all ${activeSubTab === 'settings'\r\n                        ? 'bg-primary text-white'\r\n                        : 'bg-white/5 text-gray-400 hover:text-white hover:bg-white/10'\r\n                        }`}\r\n                >\r\n                    General Settings\r\n                </button>\r\n                <button\r\n                    onClick={() => setActiveSubTab('games')}\r\n                    className={`px-4 py-2 rounded-lg font-medium transition-all ${activeSubTab === 'games'\r\n                        ? 'bg-primary text-white'\r\n                        : 'bg-white/5 text-gray-400 hover:text-white hover:bg-white/10'\r\n                        }`}\r\n                >\r\n                    Manage Games\r\n                </button>\r\n            </div>\r\n\r\n            {activeSubTab === 'settings' && (\r\n                <div className=\"space-y-4\">\r\n                    <h2 className=\"text-xl font-bold text-white mb-4\">Game Settings</h2>\r\n\r\n                    <ToggleSetting\r\n                        label=\"Allow Guest Play\"\r\n                        description=\"Allow users to play games without logging in\"\r\n                        checked={settings.allowGuestPlay}\r\n                        onChange={(checked) => updateSettings({ allowGuestPlay: checked })}\r\n                    />\r\n\r\n                    <ToggleSetting\r\n                        label=\"Save Guest Scores Locally\"\r\n                        description=\"Store guest scores in browser localStorage (not in database)\"\r\n                        checked={settings.saveGuestScoresLocally}\r\n                        onChange={(checked) => updateSettings({ saveGuestScoresLocally: checked })}\r\n                    />\r\n\r\n                    <ToggleSetting\r\n                        label=\"Show Leaderboard\"\r\n                        description=\"Display global leaderboard on game pages\"\r\n                        checked={settings.showLeaderboard}\r\n                        onChange={(checked) => updateSettings({ showLeaderboard: checked })}\r\n                    />\r\n\r\n                    <ToggleSetting\r\n                        label=\"Require Login for Leaderboard\"\r\n                        description=\"Only logged-in users can appear on the leaderboard\"\r\n                        checked={settings.requireLoginForLeaderboard}\r\n                        onChange={(checked) => updateSettings({ requireLoginForLeaderboard: checked })}\r\n                    />\r\n\r\n                    <div className=\"mt-6 p-4 bg-white/5 border border-white/10 rounded-lg\">\r\n                        <p className=\"text-gray-400 text-sm\">\r\n                            <strong>Note:</strong> When guest play is enabled, guests can play games but their scores won&apos;t be saved to the database.\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {activeSubTab === 'games' && (\r\n                <div className=\"space-y-4\">\r\n                    <h2 className=\"text-xl font-bold text-white mb-4\">Arcade Games</h2>\r\n\r\n                    {loadingGames ? (\r\n                        <SkeletonList />\r\n                    ) : (\r\n                        <div className=\"space-y-3\">\r\n                            {games.map((game) => (\r\n                                <div\r\n                                    key={game.id}\r\n                                    className=\"bg-black/30 border border-gray-700/50 rounded-xl overflow-hidden\"\r\n                                >\r\n                                    {/* Game Header */}\r\n                                    <button\r\n                                        onClick={() => setExpandedGame(expandedGame === game.id ? null : game.id)}\r\n                                        className=\"w-full flex items-center justify-between p-4 hover:bg-white/5 transition-all\"\r\n                                    >\r\n                                        <div className=\"flex items-center gap-4\">\r\n                                            <div className=\"p-2 rounded-lg bg-white/5 border border-white/5\">\r\n                                                <Gamepad2 size={24} className=\"text-gray-400\" />\r\n                                            </div>\r\n                                            <div className=\"text-left\">\r\n                                                <h3 className=\"font-bold text-white\">{game.name}</h3>\r\n                                                <p className=\"text-sm text-gray-400\">\r\n                                                    {game.stats.totalPlays} plays  {game.stats.uniquePlayers} players  Top: {game.stats.topScore ?? 'N/A'}\r\n                                                </p>\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className={`transition-transform ${expandedGame === game.id ? 'rotate-180' : ''}`}>\r\n                                            <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" className=\"text-gray-400\">\r\n                                                <path d=\"M5 7.5L10 12.5L15 7.5\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\r\n                                            </svg>\r\n                                        </div>\r\n                                    </button>\r\n\r\n                                    {/* Expanded Content */}\r\n                                    {expandedGame === game.id && (\r\n                                        <div className=\"border-t border-gray-700/50 p-4 space-y-4\">\r\n                                            {/* Image Uploads */}\r\n                                            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                                                {/* Skill Issue Image */}\r\n                                                <div className=\"p-3 bg-black/20 rounded-lg\">\r\n                                                    <label className=\"text-xs text-gray-400 uppercase tracking-wider block mb-2\">Skill Issue Image</label>\r\n                                                    {gameConfigs[game.id]?.skillIssueImage ? (\r\n                                                        <div className=\"relative\">\r\n                                                            <img src={gameConfigs[game.id].skillIssueImage} alt=\"Skill Issue\" className=\"w-full h-24 object-cover rounded-lg\" />\r\n                                                            <button\r\n                                                                onClick={() => handleSaveGameConfig(game.id, { skillIssueImage: null })}\r\n                                                                className=\"absolute top-1 right-1 p-1 bg-red-500 rounded-full\"\r\n                                                            >\r\n                                                                <X size={12} />\r\n                                                            </button>\r\n                                                        </div>\r\n                                                    ) : (\r\n                                                        <label className=\"flex items-center justify-center h-24 border-2 border-dashed border-gray-600 rounded-lg cursor-pointer hover:border-primary transition-colors\">\r\n                                                            <input\r\n                                                                type=\"file\"\r\n                                                                accept=\"image/*\"\r\n                                                                onChange={(e) => handleImageUpload(game.id, 'skillIssueImage', e)}\r\n                                                                className=\"hidden\"\r\n                                                            />\r\n                                                            {uploadingImage?.gameId === game.id && uploadingImage.type === 'skillIssueImage' ? (\r\n                                                                <Loader2 size={20} className=\"animate-spin text-gray-500\" />\r\n                                                            ) : (\r\n                                                                <Upload size={20} className=\"text-gray-500\" />\r\n                                                            )}\r\n                                                        </label>\r\n                                                    )}\r\n                                                </div>\r\n\r\n                                                {/* Congrats Image */}\r\n                                                <div className=\"p-3 bg-black/20 rounded-lg\">\r\n                                                    <label className=\"text-xs text-gray-400 uppercase tracking-wider block mb-2\">Congrats Image</label>\r\n                                                    {gameConfigs[game.id]?.congratsImage ? (\r\n                                                        <div className=\"relative\">\r\n                                                            <img src={gameConfigs[game.id].congratsImage} alt=\"Congrats\" className=\"w-full h-24 object-cover rounded-lg\" />\r\n                                                            <button\r\n                                                                onClick={() => handleSaveGameConfig(game.id, { congratsImage: null })}\r\n                                                                className=\"absolute top-1 right-1 p-1 bg-red-500 rounded-full\"\r\n                                                            >\r\n                                                                <X size={12} />\r\n                                                            </button>\r\n                                                        </div>\r\n                                                    ) : (\r\n                                                        <label className=\"flex items-center justify-center h-24 border-2 border-dashed border-gray-600 rounded-lg cursor-pointer hover:border-primary transition-colors\">\r\n                                                            <input\r\n                                                                type=\"file\"\r\n                                                                accept=\"image/*\"\r\n                                                                onChange={(e) => handleImageUpload(game.id, 'congratsImage', e)}\r\n                                                                className=\"hidden\"\r\n                                                            />\r\n                                                            {uploadingImage?.gameId === game.id && uploadingImage.type === 'congratsImage' ? (\r\n                                                                <Loader2 size={20} className=\"animate-spin text-gray-500\" />\r\n                                                            ) : (\r\n                                                                <Upload size={20} className=\"text-gray-500\" />\r\n                                                            )}\r\n                                                        </label>\r\n                                                    )}\r\n                                                </div>\r\n\r\n                                                {/* Thumbnail Image */}\r\n                                                <div className=\"p-3 bg-black/20 rounded-lg\">\r\n                                                    <label className=\"text-xs text-gray-400 uppercase tracking-wider block mb-2\">Thumbnail</label>\r\n                                                    {gameConfigs[game.id]?.thumbnailImage ? (\r\n                                                        <div className=\"relative\">\r\n                                                            <img src={gameConfigs[game.id].thumbnailImage} alt=\"Thumbnail\" className=\"w-full h-24 object-cover rounded-lg\" />\r\n                                                            <button\r\n                                                                onClick={() => handleSaveGameConfig(game.id, { thumbnailImage: null })}\r\n                                                                className=\"absolute top-1 right-1 p-1 bg-red-500 rounded-full\"\r\n                                                            >\r\n                                                                <X size={12} />\r\n                                                            </button>\r\n                                                        </div>\r\n                                                    ) : (\r\n                                                        <label className=\"flex items-center justify-center h-24 border-2 border-dashed border-gray-600 rounded-lg cursor-pointer hover:border-primary transition-colors\">\r\n                                                            <input\r\n                                                                type=\"file\"\r\n                                                                accept=\"image/*\"\r\n                                                                onChange={(e) => handleImageUpload(game.id, 'thumbnailImage', e)}\r\n                                                                className=\"hidden\"\r\n                                                            />\r\n                                                            {uploadingImage?.gameId === game.id && uploadingImage.type === 'thumbnailImage' ? (\r\n                                                                <Loader2 size={20} className=\"animate-spin text-gray-500\" />\r\n                                                            ) : (\r\n                                                                <Upload size={20} className=\"text-gray-500\" />\r\n                                                            )}\r\n                                                        </label>\r\n                                                    )}\r\n                                                </div>\r\n                                            </div>\r\n\r\n                                            {/* Settings */}\r\n                                            <div className=\"flex flex-col sm:flex-row sm:items-center gap-4 p-3 bg-black/20 rounded-lg\">\r\n                                                <label className=\"text-sm text-gray-300\">Min Score for Congrats:</label>\r\n                                                <input\r\n                                                    type=\"number\"\r\n                                                    value={gameConfigs[game.id]?.minScoreForCongrats || 10}\r\n                                                    onChange={(e) => handleSaveGameConfig(game.id, { minScoreForCongrats: parseInt(e.target.value) || 10 })}\r\n                                                    className=\"w-full sm:w-24 px-3 py-2 bg-black/40 border border-gray-600 rounded-lg text-white\"\r\n                                                />\r\n                                            </div>\r\n\r\n                                            {/* Allowed Roles */}\r\n                                            <div className=\"p-3 bg-black/20 rounded-lg\">\r\n                                                <label className=\"text-xs text-gray-400 uppercase tracking-wider block mb-2\">Allowed Roles (RBAC)</label>\r\n                                                <div className=\"flex flex-wrap gap-2\">\r\n                                                    {['admin', 'player', 'user', 'guest', 'vip', 'beta_tester', 'friend'].map((role) => {\r\n                                                        const isAllowed = gameConfigs[game.id]?.allowedRoles?.includes(role) ||\r\n                                                            (role === 'admin') || // admin always allowed\r\n                                                            (!gameConfigs[game.id]?.allowedRoles && (role === 'player' || role === 'admin')); // default\r\n\r\n                                                        return (\r\n                                                            <button\r\n                                                                key={role}\r\n                                                                onClick={() => {\r\n                                                                    const currentRoles = gameConfigs[game.id]?.allowedRoles || ['player', 'admin'];\r\n                                                                    const newRoles = isAllowed\r\n                                                                        ? currentRoles.filter((r: string) => r !== role)\r\n                                                                        : [...currentRoles, role];\r\n                                                                    handleSaveGameConfig(game.id, { allowedRoles: Array.from(new Set(newRoles)) });\r\n                                                                }}\r\n                                                                className={`px-3 py-1 rounded-full text-xs font-medium transition-all border ${isAllowed\r\n                                                                    ? 'bg-primary/20 border-primary text-primary'\r\n                                                                    : 'bg-white/5 border-gray-700 text-gray-400 hover:text-white'\r\n                                                                    }`}\r\n                                                            >\r\n                                                                {role}\r\n                                                            </button>\r\n                                                        );\r\n                                                    })}\r\n                                                </div>\r\n                                                <p className=\"text-[10px] text-gray-500 mt-2 italic\">\r\n                                                    * Admin always has access. Players and guests have access by default unless restricted.\r\n                                                </p>\r\n                                            </div>\r\n\r\n                                            {/* Danger Zone */}\r\n                                            <div className=\"border-t border-red-500/30 pt-4 mt-4\">\r\n                                                <h4 className=\"text-red-400 font-bold text-sm mb-2\">Danger Zone</h4>\r\n                                                <button\r\n                                                    onClick={() => handleDeleteGameData(game.id)}\r\n                                                    disabled={deletingGame === game.id}\r\n                                                    className=\"flex items-center gap-2 px-4 py-2 bg-red-600/20 border border-red-500/50 rounded-lg text-red-400 hover:bg-red-600/30 transition-all disabled:opacity-50\"\r\n                                                >\r\n                                                    {deletingGame === game.id ? (\r\n                                                        <Loader2 size={16} className=\"animate-spin\" />\r\n                                                    ) : (\r\n                                                        <Trash2 size={16} />\r\n                                                    )}\r\n                                                    Delete All Game Data\r\n                                                </button>\r\n                                            </div>\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction SocialTab({\r\n    links,\r\n    updateLinks,\r\n}: {\r\n    links: SiteConfig['socialLinks'];\r\n    updateLinks: (links: Partial<SiteConfig['socialLinks']>) => void;\r\n}) {\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            <h2 className=\"text-xl font-bold text-white mb-4\">Social Links</h2>\r\n\r\n            <div className=\"space-y-4\">\r\n                <div>\r\n                    <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n                        GitHub URL\r\n                    </label>\r\n                    <input\r\n                        type=\"url\"\r\n                        value={links.github || ''}\r\n                        onChange={(e) => updateLinks({ github: e.target.value })}\r\n                        placeholder=\"https://github.com/username\"\r\n                        className=\"w-full px-4 py-3 bg-white/5 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-primary\"\r\n                    />\r\n                </div>\r\n\r\n                <div>\r\n                    <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n                        LinkedIn URL\r\n                    </label>\r\n                    <input\r\n                        type=\"url\"\r\n                        value={links.linkedin || ''}\r\n                        onChange={(e) => updateLinks({ linkedin: e.target.value })}\r\n                        placeholder=\"https://linkedin.com/in/username\"\r\n                        className=\"w-full px-4 py-3 bg-white/5 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-primary\"\r\n                    />\r\n                </div>\r\n\r\n                <div>\r\n                    <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n                        Twitter/X URL\r\n                    </label>\r\n                    <input\r\n                        type=\"url\"\r\n                        value={links.twitter || ''}\r\n                        onChange={(e) => updateLinks({ twitter: e.target.value })}\r\n                        placeholder=\"https://twitter.com/username\"\r\n                        className=\"w-full px-4 py-3 bg-white/5 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-primary\"\r\n                    />\r\n                </div>\r\n\r\n                <div>\r\n                    <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n                        Instagram URL\r\n                    </label>\r\n                    <input\r\n                        type=\"url\"\r\n                        value={links.instagram || ''}\r\n                        onChange={(e) => updateLinks({ instagram: e.target.value })}\r\n                        placeholder=\"https://instagram.com/username\"\r\n                        className=\"w-full px-4 py-3 bg-white/5 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-primary\"\r\n                    />\r\n                </div>\r\n\r\n                <div>\r\n                    <label className=\"block text-sm font-medium text-gray-300 mb-2\">\r\n                        Email Address\r\n                    </label>\r\n                    <input\r\n                        type=\"email\"\r\n                        value={links.email || ''}\r\n                        onChange={(e) => updateLinks({ email: e.target.value })}\r\n                        placeholder=\"hello@example.com\"\r\n                        className=\"w-full px-4 py-3 bg-white/5 border border-gray-700 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-primary\"\r\n                    />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n// Toggle Component\r\nfunction ToggleSetting({\r\n    label,\r\n    description,\r\n    checked,\r\n    onChange,\r\n}: {\r\n    label: string;\r\n    description: string;\r\n    checked: boolean;\r\n    onChange: (checked: boolean) => void;\r\n}) {\r\n    return (\r\n        <div className=\"flex items-center justify-between p-4 bg-white/5 rounded-lg border border-gray-700\">\r\n            <div>\r\n                <p className=\"text-white font-medium\">{label}</p>\r\n                <p className=\"text-gray-400 text-sm\">{description}</p>\r\n            </div>\r\n            <button\r\n                onClick={() => onChange(!checked)}\r\n                className={`relative w-12 h-6 rounded-full transition-colors ${checked ? 'bg-primary' : 'bg-gray-700'\r\n                    }`}\r\n            >\r\n                <motion.div\r\n                    className=\"absolute top-1 w-4 h-4 bg-white rounded-full\"\r\n                    animate={{ left: checked ? 28 : 4 }}\r\n                    transition={{ type: 'spring', stiffness: 500, damping: 30 }}\r\n                />\r\n            </button>\r\n        </div>\r\n    );\r\n}\r\n\r\n// ==================== EXPERIENCE TAB ====================\r\n\r\nfunction ExperienceTab() {\r\n    const [experience, setExperience] = useState<Experience[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [editingExp, setEditingExp] = useState<Experience | null>(null);\r\n    const [isAdding, setIsAdding] = useState(false);\r\n\r\n    useEffect(() => {\r\n        loadExperience();\r\n    }, []);\r\n\r\n    const loadExperience = async () => {\r\n        setLoading(true);\r\n        const data = await getExperience();\r\n        setExperience(data);\r\n        setLoading(false);\r\n    };\r\n\r\n    const handleAddExperience = async (exp: Omit<Experience, 'id'>) => {\r\n        await addExperience(exp);\r\n        loadExperience();\r\n        setIsAdding(false);\r\n    };\r\n\r\n    const handleUpdateExperience = async (id: string, updates: Partial<Experience>) => {\r\n        await updateExperience(id, updates);\r\n        loadExperience();\r\n        setEditingExp(null);\r\n    };\r\n\r\n    const handleDeleteExperience = async (id: string) => {\r\n        if (confirm('Are you sure you want to delete this experience entry?')) {\r\n            await deleteExperience(id);\r\n            loadExperience();\r\n        }\r\n    };\r\n\r\n    if (isAdding || editingExp) {\r\n        return (\r\n            <ExperienceForm\r\n                experience={editingExp || undefined}\r\n                onSubmit={(data) => {\r\n                    if (editingExp?.id) {\r\n                        handleUpdateExperience(editingExp.id, data);\r\n                    } else {\r\n                        handleAddExperience(data);\r\n                    }\r\n                }}\r\n                onCancel={() => {\r\n                    setIsAdding(false);\r\n                    setEditingExp(null);\r\n                }}\r\n            />\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            <div className=\"flex items-center justify-between\">\r\n                <h2 className=\"text-xl font-bold text-white\">Manage Experience</h2>\r\n                <button\r\n                    onClick={() => setIsAdding(true)}\r\n                    className=\"flex items-center gap-2 px-4 py-2 bg-primary hover:brightness-110 text-white rounded-lg transition-colors\"\r\n                >\r\n                    <Plus size={18} />\r\n                    Add Experience\r\n                </button>\r\n            </div>\r\n\r\n            {loading ? (\r\n                <SkeletonList />\r\n            ) : experience.length === 0 ? (\r\n                <div className=\"text-center py-12 bg-white/5 rounded-xl border border-dashed border-gray-700\">\r\n                    <Briefcase size={48} className=\"mx-auto text-gray-600 mb-4\" />\r\n                    <p className=\"text-gray-400\">No experience entries found. Add your first one!</p>\r\n                </div>\r\n            ) : (\r\n                <div className=\"space-y-4\">\r\n                    {experience.map((exp) => (\r\n                        <div\r\n                            key={exp.id}\r\n                            className=\"p-4 bg-white/5 rounded-xl border border-gray-700/50 flex items-center justify-between group\"\r\n                        >\r\n                            <div className=\"flex-1\">\r\n                                <h3 className=\"text-lg font-bold text-white\">{exp.role}</h3>\r\n                                <p className=\"text-primary text-sm font-medium\">{exp.company}</p>\r\n                                <p className=\"text-gray-400 text-sm mt-1\">\r\n                                    {formatDate(exp.startDate)}  {exp.isCurrent ? 'Present' : (exp.endDate ? formatDate(exp.endDate) : 'Present')} {formatDuration(exp.startDate, exp.endDate, exp.isCurrent)}\r\n                                </p>\r\n                            </div>\r\n                            <div className=\"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity\">\r\n                                <button\r\n                                    onClick={() => setEditingExp(exp)}\r\n                                    className=\"p-2 bg-white/5 hover:bg-white/10 rounded-lg text-gray-400 hover:text-white transition-colors\"\r\n                                >\r\n                                    <Edit3 size={18} />\r\n                                </button>\r\n                                <button\r\n                                    onClick={() => exp.id && handleDeleteExperience(exp.id)}\r\n                                    className=\"p-2 bg-white/5 hover:bg-red-500/20 rounded-lg text-gray-400 hover:text-red-400 transition-colors\"\r\n                                >\r\n                                    <Trash2 size={18} />\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction ExperienceForm({\r\n    experience,\r\n    onSubmit,\r\n    onCancel,\r\n}: {\r\n    experience?: Experience;\r\n    onSubmit: (experience: Omit<Experience, 'id'>) => void;\r\n    onCancel: () => void;\r\n}) {\r\n    const [formData, setFormData] = useState<Omit<Experience, 'id'>>({\r\n        company: experience?.company || '',\r\n        role: experience?.role || '',\r\n        startDate: experience?.startDate || '',\r\n        endDate: experience?.endDate || '',\r\n        isCurrent: experience?.isCurrent || false,\r\n        description: experience?.description || '',\r\n        link: experience?.link || '',\r\n        technologies: experience?.technologies || [],\r\n        order: experience?.order || 0,\r\n    });\r\n\r\n    const [newTech, setNewTech] = useState('');\r\n\r\n    const handleSubmit = (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        onSubmit(formData);\r\n    };\r\n\r\n    const addTech = () => {\r\n        if (newTech.trim()) {\r\n            setFormData({ ...formData, technologies: [...(formData.technologies || []), newTech.trim()] });\r\n            setNewTech('');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n            <h2 className=\"text-xl font-bold text-white\">\r\n                {experience ? 'Edit Experience' : 'Add Experience'}\r\n            </h2>\r\n\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                <div>\r\n                    <label className=\"block text-sm font-medium text-gray-300 mb-2\">Company Name</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        required\r\n                        value={formData.company}\r\n                        onChange={(e) => setFormData({ ...formData, company: e.target.value })}\r\n                        className=\"w-full px-4 py-3 bg-white/5 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary\"\r\n                    />\r\n                </div>\r\n                <div>\r\n                    <label className=\"block text-sm font-medium text-gray-300 mb-2\">Role/Title</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        required\r\n                        value={formData.role}\r\n                        onChange={(e) => setFormData({ ...formData, role: e.target.value })}\r\n                        className=\"w-full px-4 py-3 bg-white/5 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary\"\r\n                    />\r\n                </div>\r\n                <div>\r\n                    <label className=\"block text-sm font-medium text-gray-300 mb-2\">Start Month/Year</label>\r\n                    <input\r\n                        type=\"month\"\r\n                        required\r\n                        value={formData.startDate}\r\n                        onChange={(e) => setFormData({ ...formData, startDate: e.target.value })}\r\n                        className=\"w-full px-4 py-3 bg-white/5 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary\"\r\n                    />\r\n                </div>\r\n                <div>\r\n                    <div className=\"flex items-center justify-between mb-2\">\r\n                        <label className=\"block text-sm font-medium text-gray-300\">End Month/Year</label>\r\n                        <label className=\"flex items-center gap-2 text-xs text-gray-400 cursor-pointer\">\r\n                            <input\r\n                                type=\"checkbox\"\r\n                                checked={formData.isCurrent}\r\n                                onChange={(e) => setFormData({ ...formData, isCurrent: e.target.checked })}\r\n                                className=\"rounded border-gray-700 bg-white/5 text-primary focus:ring-primary\"\r\n                            />\r\n                            Present\r\n                        </label>\r\n                    </div>\r\n                    <input\r\n                        type=\"month\"\r\n                        disabled={formData.isCurrent}\r\n                        required={!formData.isCurrent}\r\n                        value={formData.isCurrent ? '' : (formData.endDate || '')}\r\n                        onChange={(e) => setFormData({ ...formData, endDate: e.target.value })}\r\n                        className=\"w-full px-4 py-3 bg-white/5 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary disabled:opacity-50\"\r\n                    />\r\n                </div>\r\n                <div>\r\n                    <label className=\"block text-sm font-medium text-gray-300 mb-2\">Company Link</label>\r\n                    <input\r\n                        type=\"url\"\r\n                        value={formData.link || ''}\r\n                        onChange={(e) => setFormData({ ...formData, link: e.target.value })}\r\n                        className=\"w-full px-4 py-3 bg-white/5 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary\"\r\n                    />\r\n                </div>\r\n            </div>\r\n\r\n            <div>\r\n                <label className=\"block text-sm font-medium text-gray-300 mb-2\">Description</label>\r\n                <textarea\r\n                    required\r\n                    value={formData.description}\r\n                    onChange={(e) => setFormData({ ...formData, description: e.target.value })}\r\n                    rows={4}\r\n                    className=\"w-full px-4 py-3 bg-white/5 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary resize-none\"\r\n                />\r\n            </div>\r\n\r\n            <div>\r\n                <label className=\"block text-sm font-medium text-gray-300 mb-2\">Technologies</label>\r\n                <div className=\"flex flex-wrap gap-2 mb-2\">\r\n                    {formData.technologies?.map((tech, idx) => (\r\n                        <span key={idx} className=\"px-3 py-1 bg-white/10 rounded-full text-xs text-gray-300 flex items-center gap-1\">\r\n                            {tech}\r\n                            <button\r\n                                type=\"button\"\r\n                                onClick={() => setFormData({\r\n                                    ...formData,\r\n                                    technologies: formData.technologies?.filter((_, i) => i !== idx)\r\n                                })}\r\n                                className=\"hover:text-red-400\"\r\n                            >\r\n                                <X size={12} />\r\n                            </button>\r\n                        </span>\r\n                    ))}\r\n                </div>\r\n                <div className=\"flex gap-2\">\r\n                    <input\r\n                        type=\"text\"\r\n                        value={newTech}\r\n                        onChange={(e) => setNewTech(e.target.value)}\r\n                        placeholder=\"Add technology...\"\r\n                        className=\"flex-1 px-4 py-2 bg-white/5 border border-gray-700 rounded-lg text-white focus:outline-none\"\r\n                    />\r\n                    <button\r\n                        type=\"button\"\r\n                        onClick={addTech}\r\n                        className=\"px-4 py-2 bg-white/10 hover:bg-white/20 text-white rounded-lg transition-colors\"\r\n                    >\r\n                        Add\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            <div>\r\n                <label className=\"block text-sm font-medium text-gray-300 mb-2\">Display Order</label>\r\n                <input\r\n                    type=\"number\"\r\n                    value={formData.order}\r\n                    onChange={(e) => setFormData({ ...formData, order: parseInt(e.target.value) || 0 })}\r\n                    className=\"w-full px-4 py-3 bg-white/5 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary\"\r\n                />\r\n            </div>\r\n\r\n            <div className=\"flex justify-end gap-3 pt-4\">\r\n                <button\r\n                    type=\"button\"\r\n                    onClick={onCancel}\r\n                    className=\"px-6 py-2 bg-white/5 hover:bg-white/10 border border-gray-700 rounded-lg text-gray-300 transition-all\"\r\n                >\r\n                    Cancel\r\n                </button>\r\n                <button\r\n                    type=\"submit\"\r\n                    className=\"px-8 py-2 bg-primary hover:brightness-110 text-white rounded-lg font-medium shadow-lg shadow-primary/20 transition-all\"\r\n                >\r\n                    {experience ? 'Save Changes' : 'Add Experience'}\r\n                </button>\r\n            </div>\r\n        </form>\r\n    );\r\n}\r\n\r\n// ==================== ACADEMIC TAB ====================\r\n\r\nfunction AcademicTab() {\r\n    const [education, setEducation] = useState<Education[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [editingEdu, setEditingEdu] = useState<Education | null>(null);\r\n    const [isAdding, setIsAdding] = useState(false);\r\n\r\n    useEffect(() => {\r\n        loadEducation();\r\n    }, []);\r\n\r\n    const loadEducation = async () => {\r\n        setLoading(true);\r\n        const data = await getEducation();\r\n        setEducation(data);\r\n        setLoading(false);\r\n    };\r\n\r\n    const handleAddEducation = async (edu: Omit<Education, 'id'>) => {\r\n        await addEducation(edu);\r\n        loadEducation();\r\n        setIsAdding(false);\r\n    };\r\n\r\n    const handleUpdateEducation = async (id: string, updates: Partial<Education>) => {\r\n        await updateEducation(id, updates);\r\n        loadEducation();\r\n        setEditingEdu(null);\r\n    };\r\n\r\n    const handleDeleteEducation = async (id: string) => {\r\n        if (confirm('Are you sure you want to delete this education entry?')) {\r\n            await deleteEducation(id);\r\n            loadEducation();\r\n        }\r\n    };\r\n\r\n    if (isAdding || editingEdu) {\r\n        return (\r\n            <AcademicForm\r\n                education={editingEdu || undefined}\r\n                onSubmit={(data) => {\r\n                    if (editingEdu?.id) {\r\n                        handleUpdateEducation(editingEdu.id, data);\r\n                    } else {\r\n                        handleAddEducation(data);\r\n                    }\r\n                }}\r\n                onCancel={() => {\r\n                    setIsAdding(false);\r\n                    setEditingEdu(null);\r\n                }}\r\n            />\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            <div className=\"flex items-center justify-between\">\r\n                <h2 className=\"text-xl font-bold text-white\">Manage Education</h2>\r\n                <button\r\n                    onClick={() => setIsAdding(true)}\r\n                    className=\"flex items-center gap-2 px-4 py-2 bg-primary hover:brightness-110 text-white rounded-lg transition-colors\"\r\n                >\r\n                    <Plus size={18} />\r\n                    Add Education\r\n                </button>\r\n            </div>\r\n\r\n            {loading ? (\r\n                <SkeletonList />\r\n            ) : education.length === 0 ? (\r\n                <div className=\"text-center py-12 bg-white/5 rounded-xl border border-dashed border-gray-700\">\r\n                    <GraduationCap size={48} className=\"mx-auto text-gray-600 mb-4\" />\r\n                    <p className=\"text-gray-400\">No education entries found. Add your first one!</p>\r\n                </div>\r\n            ) : (\r\n                <div className=\"space-y-4\">\r\n                    {education.map((edu) => (\r\n                        <div\r\n                            key={edu.id}\r\n                            className=\"p-4 bg-white/5 rounded-xl border border-gray-700/50 flex items-center justify-between group\"\r\n                        >\r\n                            <div className=\"flex-1\">\r\n                                <h3 className=\"text-lg font-bold text-white\">\r\n                                    {edu.degree} {edu.score && <span className=\"text-primary/70 text-sm ml-2\"> {edu.score}</span>}\r\n                                </h3>\r\n                                <p className=\"text-primary text-sm font-medium\">{edu.institution}</p>\r\n                                <p className=\"text-gray-400 text-sm mt-1\">\r\n                                    {formatDate(edu.startDate)}  {edu.isCurrent ? 'Present' : (edu.endDate ? formatDate(edu.endDate) : 'Present')} {formatDuration(edu.startDate, edu.endDate, edu.isCurrent)}\r\n                                </p>\r\n                            </div>\r\n                            <div className=\"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity\">\r\n                                <button\r\n                                    onClick={() => setEditingEdu(edu)}\r\n                                    className=\"p-2 bg-white/5 hover:bg-white/10 rounded-lg text-gray-400 hover:text-white transition-colors\"\r\n                                >\r\n                                    <Edit3 size={18} />\r\n                                </button>\r\n                                <button\r\n                                    onClick={() => edu.id && handleDeleteEducation(edu.id)}\r\n                                    className=\"p-2 bg-white/5 hover:bg-red-500/20 rounded-lg text-gray-400 hover:text-red-400 transition-colors\"\r\n                                >\r\n                                    <Trash2 size={18} />\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction AcademicForm({\r\n    education,\r\n    onSubmit,\r\n    onCancel,\r\n}: {\r\n    education?: Education;\r\n    onSubmit: (education: Omit<Education, 'id'>) => void;\r\n    onCancel: () => void;\r\n}) {\r\n    const [formData, setFormData] = useState<Omit<Education, 'id'>>({\r\n        institution: education?.institution || '',\r\n        degree: education?.degree || '',\r\n        startDate: education?.startDate || '',\r\n        endDate: education?.endDate || '',\r\n        isCurrent: education?.isCurrent || false,\r\n        score: education?.score || '',\r\n        description: education?.description || '',\r\n        link: education?.link || '',\r\n        order: education?.order || 0,\r\n    });\r\n\r\n    const handleSubmit = (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        onSubmit(formData);\r\n    };\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n            <h2 className=\"text-xl font-bold text-white\">\r\n                {education ? 'Edit Education' : 'Add Education'}\r\n            </h2>\r\n\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                <div>\r\n                    <label className=\"block text-sm font-medium text-gray-300 mb-2\">Institution</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        required\r\n                        value={formData.institution}\r\n                        onChange={(e) => setFormData({ ...formData, institution: e.target.value })}\r\n                        className=\"w-full px-4 py-3 bg-white/5 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary\"\r\n                    />\r\n                </div>\r\n                <div>\r\n                    <label className=\"block text-sm font-medium text-gray-300 mb-2\">Degree/Qualification</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        required\r\n                        value={formData.degree}\r\n                        onChange={(e) => setFormData({ ...formData, degree: e.target.value })}\r\n                        className=\"w-full px-4 py-3 bg-white/5 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary\"\r\n                    />\r\n                </div>\r\n                <div>\r\n                    <label className=\"block text-sm font-medium text-gray-300 mb-2\">Start Month/Year</label>\r\n                    <input\r\n                        type=\"month\"\r\n                        required\r\n                        value={formData.startDate}\r\n                        onChange={(e) => setFormData({ ...formData, startDate: e.target.value })}\r\n                        className=\"w-full px-4 py-3 bg-white/5 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary\"\r\n                    />\r\n                </div>\r\n                <div>\r\n                    <div className=\"flex items-center justify-between mb-2\">\r\n                        <label className=\"block text-sm font-medium text-gray-300\">End Month/Year</label>\r\n                        <label className=\"flex items-center gap-2 text-xs text-gray-400 cursor-pointer\">\r\n                            <input\r\n                                type=\"checkbox\"\r\n                                checked={formData.isCurrent}\r\n                                onChange={(e) => setFormData({ ...formData, isCurrent: e.target.checked })}\r\n                                className=\"rounded border-gray-700 bg-white/5 text-primary focus:ring-primary\"\r\n                            />\r\n                            Present\r\n                        </label>\r\n                    </div>\r\n                    <input\r\n                        type=\"month\"\r\n                        disabled={formData.isCurrent}\r\n                        required={!formData.isCurrent}\r\n                        value={formData.isCurrent ? '' : (formData.endDate || '')}\r\n                        onChange={(e) => setFormData({ ...formData, endDate: e.target.value })}\r\n                        className=\"w-full px-4 py-3 bg-white/5 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary disabled:opacity-50\"\r\n                    />\r\n                </div>\r\n                <div>\r\n                    <label className=\"block text-sm font-medium text-gray-300 mb-2\">Institution Link</label>\r\n                    <input\r\n                        type=\"url\"\r\n                        value={formData.link || ''}\r\n                        onChange={(e) => setFormData({ ...formData, link: e.target.value })}\r\n                        className=\"w-full px-4 py-3 bg-white/5 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary\"\r\n                    />\r\n                </div>\r\n                <div>\r\n                    <label className=\"block text-sm font-medium text-gray-300 mb-2\">Score/Percentage (Optional)</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        value={formData.score || ''}\r\n                        onChange={(e) => setFormData({ ...formData, score: e.target.value })}\r\n                        placeholder=\"e.g. 95% or CGPA: 9.8\"\r\n                        className=\"w-full px-4 py-3 bg-white/5 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary\"\r\n                    />\r\n                </div>\r\n            </div>\r\n\r\n            <div>\r\n                <label className=\"block text-sm font-medium text-gray-300 mb-2\">Description (Optional)</label>\r\n                <textarea\r\n                    value={formData.description || ''}\r\n                    onChange={(e) => setFormData({ ...formData, description: e.target.value })}\r\n                    rows={4}\r\n                    className=\"w-full px-4 py-3 bg-white/5 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary resize-none\"\r\n                />\r\n            </div>\r\n\r\n            <div>\r\n                <label className=\"block text-sm font-medium text-gray-300 mb-2\">Display Order</label>\r\n                <input\r\n                    type=\"number\"\r\n                    value={formData.order}\r\n                    onChange={(e) => setFormData({ ...formData, order: parseInt(e.target.value) || 0 })}\r\n                    className=\"w-full px-4 py-3 bg-white/5 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary\"\r\n                />\r\n            </div>\r\n\r\n            <div className=\"flex justify-end gap-3 pt-4\">\r\n                <button\r\n                    type=\"button\"\r\n                    onClick={onCancel}\r\n                    className=\"px-6 py-2 bg-white/5 hover:bg-white/10 border border-gray-700 rounded-lg text-gray-300 transition-all\"\r\n                >\r\n                    Cancel\r\n                </button>\r\n                <button\r\n                    type=\"submit\"\r\n                    className=\"px-8 py-2 bg-primary hover:brightness-110 text-white rounded-lg font-medium shadow-lg shadow-primary/20 transition-all\"\r\n                >\r\n                    {education ? 'Save Changes' : 'Add Education'}\r\n                </button>\r\n            </div>\r\n        </form>\r\n    );\r\n}\r\n\r\n// ==================== ACHIEVEMENTS TAB ====================\r\n\r\nfunction AchievementsTab() {\r\n    const [achievements, setAchievements] = useState<Achievement[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [editingAch, setEditingAch] = useState<Achievement | null>(null);\r\n    const [isAdding, setIsAdding] = useState(false);\r\n\r\n    useEffect(() => {\r\n        loadAchievements();\r\n    }, []);\r\n\r\n    const loadAchievements = async () => {\r\n        setLoading(true);\r\n        const data = await getAchievements();\r\n        setAchievements(data);\r\n        setLoading(false);\r\n    };\r\n\r\n    const handleAddAchievement = async (ach: Omit<Achievement, 'id'>) => {\r\n        await addAchievement(ach);\r\n        loadAchievements();\r\n        setIsAdding(false);\r\n    };\r\n\r\n    const handleUpdateAchievement = async (id: string, updates: Partial<Achievement>) => {\r\n        await updateAchievement(id, updates);\r\n        loadAchievements();\r\n        setEditingAch(null);\r\n    };\r\n\r\n    const handleDeleteAchievement = async (id: string) => {\r\n        if (confirm('Are you sure you want to delete this achievement?')) {\r\n            await deleteAchievement(id);\r\n            loadAchievements();\r\n        }\r\n    };\r\n\r\n    if (isAdding || editingAch) {\r\n        return (\r\n            <AchievementForm\r\n                achievement={editingAch || undefined}\r\n                onSubmit={(data) => {\r\n                    if (editingAch?.id) {\r\n                        handleUpdateAchievement(editingAch.id, data);\r\n                    } else {\r\n                        handleAddAchievement(data);\r\n                    }\r\n                }}\r\n                onCancel={() => {\r\n                    setIsAdding(false);\r\n                    setEditingAch(null);\r\n                }}\r\n            />\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            <div className=\"flex items-center justify-between\">\r\n                <h2 className=\"text-xl font-bold text-white\">Manage Achievements</h2>\r\n                <button\r\n                    onClick={() => setIsAdding(true)}\r\n                    className=\"flex items-center gap-2 px-4 py-2 bg-primary hover:brightness-110 text-white rounded-lg transition-colors\"\r\n                >\r\n                    <Plus size={18} />\r\n                    Add Achievement\r\n                </button>\r\n            </div>\r\n\r\n            {loading ? (\r\n                <SkeletonList />\r\n            ) : achievements.length === 0 ? (\r\n                <div className=\"text-center py-12 bg-white/5 rounded-xl border border-dashed border-gray-700\">\r\n                    <Trophy size={48} className=\"mx-auto text-gray-600 mb-4\" />\r\n                    <p className=\"text-gray-400\">No achievements found. Add your first one!</p>\r\n                </div>\r\n            ) : (\r\n                <div className=\"space-y-4\">\r\n                    {achievements.map((ach) => (\r\n                        <div\r\n                            key={ach.id}\r\n                            className=\"p-4 bg-white/5 rounded-xl border border-gray-700/50 flex items-center justify-between group\"\r\n                        >\r\n                            <div className=\"flex-1\">\r\n                                <h3 className=\"text-lg font-bold text-white\">{ach.title}</h3>\r\n                                <p className=\"text-primary text-sm font-medium\">{ach.issuer}</p>\r\n                                <p className=\"text-gray-400 text-sm mt-1\">{ach.date}</p>\r\n                            </div>\r\n                            <div className=\"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity\">\r\n                                <button\r\n                                    onClick={() => setEditingAch(ach)}\r\n                                    className=\"p-2 bg-white/5 hover:bg-white/10 rounded-lg text-gray-400 hover:text-white transition-colors\"\r\n                                >\r\n                                    <Edit3 size={18} />\r\n                                </button>\r\n                                <button\r\n                                    onClick={() => ach.id && handleDeleteAchievement(ach.id)}\r\n                                    className=\"p-2 bg-white/5 hover:bg-red-500/20 rounded-lg text-gray-400 hover:text-red-400 transition-colors\"\r\n                                >\r\n                                    <Trash2 size={18} />\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction AchievementForm({\r\n    achievement,\r\n    onSubmit,\r\n    onCancel,\r\n}: {\r\n    achievement?: Achievement;\r\n    onSubmit: (achievement: Omit<Achievement, 'id'>) => void;\r\n    onCancel: () => void;\r\n}) {\r\n    const [formData, setFormData] = useState<Omit<Achievement, 'id'>>({\r\n        title: achievement?.title || '',\r\n        issuer: achievement?.issuer || '',\r\n        date: achievement?.date || '',\r\n        description: achievement?.description || '',\r\n        link: achievement?.link || '',\r\n        imageUrl: achievement?.imageUrl || '',\r\n        order: achievement?.order || 0,\r\n    });\r\n    const [isUploading, setIsUploading] = useState(false);\r\n\r\n    const handleSubmit = (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        onSubmit(formData);\r\n    };\r\n\r\n    const handleImageUpload = async (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        const file = e.target.files?.[0];\r\n        if (!file) return;\r\n\r\n        setIsUploading(true);\r\n        try {\r\n            const url = await uploadImage(file, 'achievements');\r\n            setFormData({ ...formData, imageUrl: url });\r\n        } catch (error: any) {\r\n            alert(`Failed to upload: ${error.message}`);\r\n        } finally {\r\n            setIsUploading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n            <h2 className=\"text-xl font-bold text-white\">\r\n                {achievement ? 'Edit Achievement' : 'Add Achievement'}\r\n            </h2>\r\n\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                <div>\r\n                    <label className=\"block text-sm font-medium text-gray-300 mb-2\">Achievement Title</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        required\r\n                        value={formData.title}\r\n                        onChange={(e) => setFormData({ ...formData, title: e.target.value })}\r\n                        className=\"w-full px-4 py-3 bg-white/5 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary\"\r\n                    />\r\n                </div>\r\n                <div>\r\n                    <label className=\"block text-sm font-medium text-gray-300 mb-2\">Issuer</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        required\r\n                        value={formData.issuer}\r\n                        onChange={(e) => setFormData({ ...formData, issuer: e.target.value })}\r\n                        className=\"w-full px-4 py-3 bg-white/5 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary\"\r\n                    />\r\n                </div>\r\n                <div>\r\n                    <label className=\"block text-sm font-medium text-gray-300 mb-2\">Date</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        required\r\n                        value={formData.date}\r\n                        onChange={(e) => setFormData({ ...formData, date: e.target.value })}\r\n                        className=\"w-full px-4 py-3 bg-white/5 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary\"\r\n                    />\r\n                </div>\r\n                <div>\r\n                    <label className=\"block text-sm font-medium text-gray-300 mb-2\">Link</label>\r\n                    <input\r\n                        type=\"url\"\r\n                        value={formData.link || ''}\r\n                        onChange={(e) => setFormData({ ...formData, link: e.target.value })}\r\n                        className=\"w-full px-4 py-3 bg-white/5 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary\"\r\n                    />\r\n                </div>\r\n            </div>\r\n\r\n            <div>\r\n                <label className=\"block text-sm font-medium text-gray-300 mb-2\">Achievement Image</label>\r\n                <div className=\"flex gap-4\">\r\n                    {formData.imageUrl && (\r\n                        <div className=\"relative w-24 h-24 rounded-lg overflow-hidden border border-gray-700\">\r\n                            <img src={formData.imageUrl} alt=\"Achievement\" className=\"w-full h-full object-cover\" />\r\n                            <button\r\n                                type=\"button\"\r\n                                onClick={() => setFormData({ ...formData, imageUrl: '' })}\r\n                                className=\"absolute top-1 right-1 p-1 bg-red-500 rounded-full text-white\"\r\n                            >\r\n                                <X size={12} />\r\n                            </button>\r\n                        </div>\r\n                    )}\r\n                    <label className={`flex-1 flex flex-col items-center justify-center border-2 border-dashed border-gray-700 rounded-lg cursor-pointer hover:border-primary transition-colors ${isUploading ? 'opacity-50' : ''}`}>\r\n                        <input type=\"file\" accept=\"image/*\" onChange={handleImageUpload} className=\"hidden\" disabled={isUploading} />\r\n                        {isUploading ? <Loader2 size={24} className=\"animate-spin text-gray-500\" /> : <Upload size={24} className=\"text-gray-500 mb-2\" />}\r\n                        <span className=\"text-sm text-gray-400\">Click to upload badge or certificate image</span>\r\n                    </label>\r\n                </div>\r\n            </div>\r\n\r\n            <div>\r\n                <label className=\"block text-sm font-medium text-gray-300 mb-2\">Description (Optional)</label>\r\n                <textarea\r\n                    value={formData.description || ''}\r\n                    onChange={(e) => setFormData({ ...formData, description: e.target.value })}\r\n                    rows={4}\r\n                    className=\"w-full px-4 py-3 bg-white/5 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary resize-none\"\r\n                />\r\n            </div>\r\n\r\n            <div>\r\n                <label className=\"block text-sm font-medium text-gray-300 mb-2\">Display Order</label>\r\n                <input\r\n                    type=\"number\"\r\n                    value={formData.order}\r\n                    onChange={(e) => setFormData({ ...formData, order: parseInt(e.target.value) || 0 })}\r\n                    className=\"w-full px-4 py-3 bg-white/5 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary\"\r\n                />\r\n            </div>\r\n\r\n            <div className=\"flex justify-end gap-3 pt-4\">\r\n                <button\r\n                    type=\"button\"\r\n                    onClick={onCancel}\r\n                    className=\"px-6 py-2 bg-white/5 hover:bg-white/10 border border-gray-700 rounded-lg text-gray-300 transition-all\"\r\n                >\r\n                    Cancel\r\n                </button>\r\n                <button\r\n                    type=\"submit\"\r\n                    className=\"px-8 py-2 bg-primary hover:brightness-110 text-white rounded-lg font-medium shadow-lg shadow-primary/20 transition-all\"\r\n                >\r\n                    {achievement ? 'Save Changes' : 'Add Achievement'}\r\n                </button>\r\n            </div>\r\n        </form>\r\n    );\r\n}\r\n\r\n// ==================== SERVICES TAB ====================\r\n\r\nfunction ServicesTab() {\r\n    const [services, setServices] = useState<Service[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [editingServ, setEditingServ] = useState<Service | null>(null);\r\n    const [isAdding, setIsAdding] = useState(false);\r\n\r\n    useEffect(() => {\r\n        loadServices();\r\n    }, []);\r\n\r\n    const loadServices = async () => {\r\n        setLoading(true);\r\n        const data = await getServices();\r\n        setServices(data);\r\n        setLoading(false);\r\n    };\r\n\r\n    const handleAddService = async (serv: Omit<Service, 'id'>) => {\r\n        await addService(serv);\r\n        loadServices();\r\n        setIsAdding(false);\r\n    };\r\n\r\n    const handleUpdateService = async (id: string, updates: Partial<Service>) => {\r\n        await updateService(id, updates);\r\n        loadServices();\r\n        setEditingServ(null);\r\n    };\r\n\r\n    const handleDeleteService = async (id: string) => {\r\n        if (confirm('Are you sure you want to delete this service?')) {\r\n            await deleteService(id);\r\n            loadServices();\r\n        }\r\n    };\r\n\r\n    if (isAdding || editingServ) {\r\n        return (\r\n            <ServiceForm\r\n                service={editingServ || undefined}\r\n                onSubmit={(data) => {\r\n                    if (editingServ?.id) {\r\n                        handleUpdateService(editingServ.id, data);\r\n                    } else {\r\n                        handleAddService(data);\r\n                    }\r\n                }}\r\n                onCancel={() => {\r\n                    setIsAdding(false);\r\n                    setEditingServ(null);\r\n                }}\r\n            />\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            <div className=\"flex items-center justify-between\">\r\n                <h2 className=\"text-xl font-bold text-white\">Manage Services</h2>\r\n                <button\r\n                    onClick={() => setIsAdding(true)}\r\n                    className=\"flex items-center gap-2 px-4 py-2 bg-primary hover:brightness-110 text-white rounded-lg transition-colors\"\r\n                >\r\n                    <Plus size={18} />\r\n                    Add Service\r\n                </button>\r\n            </div>\r\n\r\n            {loading ? (\r\n                <SkeletonList />\r\n            ) : services.length === 0 ? (\r\n                <div className=\"text-center py-12 bg-white/5 rounded-xl border border-dashed border-gray-700\">\r\n                    <Layout size={48} className=\"mx-auto text-gray-600 mb-4\" />\r\n                    <p className=\"text-gray-400\">No services found. Add your first one!</p>\r\n                </div>\r\n            ) : (\r\n                <div className=\"space-y-4\">\r\n                    {services.map((serv) => (\r\n                        <div\r\n                            key={serv.id}\r\n                            className=\"p-4 bg-white/5 rounded-xl border border-gray-700/50 flex items-center justify-between group\"\r\n                        >\r\n                            <div className=\"flex items-center gap-4\">\r\n                                <div className=\"p-2 bg-primary/10 rounded-lg text-primary\">\r\n                                    <Layout size={20} />\r\n                                </div>\r\n                                <div>\r\n                                    <h3 className=\"text-lg font-bold text-white\">{serv.title}</h3>\r\n                                    <p className=\"text-gray-400 text-sm line-clamp-1\">{serv.description}</p>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity\">\r\n                                <button\r\n                                    onClick={() => setEditingServ(serv)}\r\n                                    className=\"p-2 bg-white/5 hover:bg-white/10 rounded-lg text-gray-400 hover:text-white transition-colors\"\r\n                                >\r\n                                    <Edit3 size={18} />\r\n                                </button>\r\n                                <button\r\n                                    onClick={() => serv.id && handleDeleteService(serv.id)}\r\n                                    className=\"p-2 bg-white/5 hover:bg-red-500/20 rounded-lg text-gray-400 hover:text-red-400 transition-colors\"\r\n                                >\r\n                                    <Trash2 size={18} />\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction ServiceForm({\r\n    service,\r\n    onSubmit,\r\n    onCancel,\r\n}: {\r\n    service?: Service;\r\n    onSubmit: (service: Omit<Service, 'id'>) => void;\r\n    onCancel: () => void;\r\n}) {\r\n    const [formData, setFormData] = useState<Omit<Service, 'id'>>({\r\n        title: service?.title || '',\r\n        description: service?.description || '',\r\n        icon: service?.icon || 'Code',\r\n        order: service?.order || 0,\r\n    });\r\n\r\n    const handleSubmit = (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        onSubmit(formData);\r\n    };\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n            <h2 className=\"text-xl font-bold text-white\">\r\n                {service ? 'Edit Service' : 'Add Service'}\r\n            </h2>\r\n\r\n            <div className=\"space-y-4\">\r\n                <div>\r\n                    <label className=\"block text-sm font-medium text-gray-300 mb-2\">Service Title</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        required\r\n                        value={formData.title}\r\n                        onChange={(e) => setFormData({ ...formData, title: e.target.value })}\r\n                        className=\"w-full px-4 py-3 bg-white/5 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary\"\r\n                    />\r\n                </div>\r\n\r\n                <div>\r\n                    <label className=\"block text-sm font-medium text-gray-300 mb-2\">Icon Name (Lucide)</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        required\r\n                        value={formData.icon}\r\n                        onChange={(e) => setFormData({ ...formData, icon: e.target.value })}\r\n                        placeholder=\"Code, Layout, Server, Database, Smartphone...\"\r\n                        className=\"w-full px-4 py-3 bg-white/5 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary\"\r\n                    />\r\n                    <p className=\"text-xs text-gray-500 mt-1\">Visit lucide.dev for icon names.</p>\r\n                </div>\r\n\r\n                <div>\r\n                    <label className=\"block text-sm font-medium text-gray-300 mb-2\">Description</label>\r\n                    <textarea\r\n                        required\r\n                        value={formData.description}\r\n                        onChange={(e) => setFormData({ ...formData, description: e.target.value })}\r\n                        rows={4}\r\n                        className=\"w-full px-4 py-3 bg-white/5 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary resize-none\"\r\n                    />\r\n                </div>\r\n\r\n                <div>\r\n                    <label className=\"block text-sm font-medium text-gray-300 mb-2\">Display Order</label>\r\n                    <input\r\n                        type=\"number\"\r\n                        value={formData.order}\r\n                        onChange={(e) => setFormData({ ...formData, order: parseInt(e.target.value) || 0 })}\r\n                        className=\"w-full px-4 py-3 bg-white/5 border border-gray-700 rounded-lg text-white focus:outline-none focus:border-primary\"\r\n                    />\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"flex justify-end gap-3 pt-4\">\r\n                <button\r\n                    type=\"button\"\r\n                    onClick={onCancel}\r\n                    className=\"px-6 py-2 bg-white/5 hover:bg-white/10 border border-gray-700 rounded-lg text-gray-300 transition-all\"\r\n                >\r\n                    Cancel\r\n                </button>\r\n                <button\r\n                    type=\"submit\"\r\n                    className=\"px-8 py-2 bg-primary hover:brightness-110 text-white rounded-lg font-medium shadow-lg shadow-primary/20 transition-all\"\r\n                >\r\n                    {service ? 'Save Changes' : 'Add Service'}\r\n                </button>\r\n            </div>\r\n        </form>\r\n    );\r\n}\r\n\r\n// ==================== LAYOUT TAB ====================\r\n\r\nfunction LayoutTab({\r\n    layout,\r\n    updateLayout,\r\n}: {\r\n    layout: SiteConfig['layout'];\r\n    updateLayout: (layout: Partial<SiteConfig['layout']>) => void;\r\n}) {\r\n    const sections = layout?.sectionOrder || ['hero', 'about', 'experience', 'services', 'academic', 'achievements', 'projects', 'friends', 'contact'];\r\n    const hiddenSections = layout?.hiddenSections || [];\r\n\r\n    const handleReorder = (newOrder: string[]) => {\r\n        updateLayout({ sectionOrder: newOrder });\r\n    };\r\n\r\n    const toggleVisibility = (sectionId: string) => {\r\n        const newHidden = hiddenSections.includes(sectionId)\r\n            ? hiddenSections.filter(id => id !== sectionId)\r\n            : [...hiddenSections, sectionId];\r\n        updateLayout({ hiddenSections: newHidden });\r\n    };\r\n\r\n    const moveSection = (index: number, direction: 'up' | 'down') => {\r\n        const newSections = [...sections];\r\n        const targetIndex = direction === 'up' ? index - 1 : index + 1;\r\n\r\n        if (targetIndex >= 0 && targetIndex < newSections.length) {\r\n            [newSections[index], newSections[targetIndex]] = [newSections[targetIndex], newSections[index]];\r\n            updateLayout({ sectionOrder: newSections });\r\n        }\r\n    };\r\n\r\n    const sectionLabels: Record<string, string> = {\r\n        hero: 'Hero Section',\r\n        about: 'About Me',\r\n        experience: 'Work Experience',\r\n        services: 'Services & Expertise',\r\n        academic: 'Academic Background',\r\n        achievements: 'Achievements & Certifications',\r\n        projects: 'Projects Showcase',\r\n        friends: 'Friends Section',\r\n        contact: 'Contact Section',\r\n    };\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                    <h2 className=\"text-xl font-bold text-white\">Page Layout</h2>\r\n                    <p className=\"text-gray-400 text-sm mt-1\">Click and drag handles or use arrows to reorder sections.</p>\r\n                </div>\r\n            </div>\r\n\r\n            <Reorder.Group\r\n                axis=\"y\"\r\n                values={sections}\r\n                onReorder={handleReorder}\r\n                className=\"bg-white/5 rounded-xl border border-gray-700/50 overflow-hidden divide-y divide-gray-700/50\"\r\n            >\r\n                {sections.map((sectionId, index) => (\r\n                    <ReorderItem\r\n                        key={sectionId}\r\n                        sectionId={sectionId}\r\n                        label={sectionLabels[sectionId] || sectionId}\r\n                        index={index}\r\n                        total={sections.length}\r\n                        isHidden={hiddenSections.includes(sectionId)}\r\n                        onMove={moveSection}\r\n                        onToggleVisibility={toggleVisibility}\r\n                    />\r\n                ))}\r\n            </Reorder.Group>\r\n\r\n            <div className=\"p-4 bg-primary/10 border border-primary/20 rounded-xl\">\r\n                <p className=\"text-sm text-primary flex items-center gap-2\">\r\n                    <Check size={16} />\r\n                    Drag the icons on the left to reorder sections instantly.\r\n                </p>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction ReorderItem({\r\n    sectionId,\r\n    label,\r\n    index,\r\n    total,\r\n    isHidden,\r\n    onMove,\r\n    onToggleVisibility\r\n}: {\r\n    sectionId: string;\r\n    label: string;\r\n    index: number;\r\n    total: number;\r\n    isHidden: boolean;\r\n    onMove: (index: number, direction: 'up' | 'down') => void;\r\n    onToggleVisibility: (sectionId: string) => void;\r\n}) {\r\n    const controls = useDragControls();\r\n\r\n    return (\r\n        <Reorder.Item\r\n            value={sectionId}\r\n            dragListener={false}\r\n            dragControls={controls}\r\n            className={`flex items-center justify-between p-4 hover:bg-white/5 transition-colors group select-none bg-gray-900/40 ${isHidden ? 'opacity-50 grayscale' : ''}`}\r\n        >\r\n            <div className=\"flex items-center gap-4\">\r\n                <div\r\n                    className=\"text-gray-600 group-hover:text-primary transition-colors cursor-grab active:cursor-grabbing p-1 -ml-1\"\r\n                    onPointerDown={(e) => controls.start(e)}\r\n                >\r\n                    <GripVertical size={20} />\r\n                </div>\r\n                <div>\r\n                    <h3 className={`font-medium capitalize ${isHidden ? 'text-gray-500' : 'text-white'}`}>\r\n                        {label}\r\n                        {isHidden && <span className=\"ml-2 text-[10px] bg-white/5 px-1.5 py-0.5 rounded text-gray-400\">HIDDEN</span>}\r\n                    </h3>\r\n                    <p className=\"text-xs text-gray-500\">ID: {sectionId}</p>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"flex items-center gap-2\">\r\n                <button\r\n                    onClick={() => onToggleVisibility(sectionId)}\r\n                    className={`p-2 rounded-lg transition-all ${isHidden ? 'bg-white/5 text-gray-400 hover:text-white' : 'bg-primary/10 text-primary hover:bg-primary/20'}`}\r\n                    title={isHidden ? \"Show Section\" : \"Hide Section\"}\r\n                >\r\n                    {isHidden ? <EyeOff size={18} /> : <Eye size={18} />}\r\n                </button>\r\n                <button\r\n                    onClick={() => onMove(index, 'up')}\r\n                    disabled={index === 0}\r\n                    className=\"p-2 rounded-lg bg-white/5 hover:bg-white/10 text-gray-400 hover:text-white disabled:opacity-20 transition-all md:flex hidden\"\r\n                    title=\"Move Up\"\r\n                >\r\n                    <MoveUp size={18} />\r\n                </button>\r\n                <button\r\n                    onClick={() => onMove(index, 'down')}\r\n                    disabled={index === total - 1}\r\n                    className=\"p-2 rounded-lg bg-white/5 hover:bg-white/10 text-gray-400 hover:text-white disabled:opacity-20 transition-all md:flex hidden\"\r\n                    title=\"Move Down\"\r\n                >\r\n                    <MoveDown size={18} />\r\n                </button>\r\n            </div>\r\n        </Reorder.Item>\r\n    );\r\n}\r\n\r\nfunction UsersTab() {\r\n    const [users, setUsers] = useState<any[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [updatingUid, setUpdatingUid] = useState<string | null>(null);\r\n\r\n    useEffect(() => {\r\n        loadUsers();\r\n    }, []);\r\n\r\n    const loadUsers = async () => {\r\n        try {\r\n            const fetchedUsers = await getAllUsers();\r\n            setUsers(fetchedUsers);\r\n        } catch (err) {\r\n            console.error('Failed to load users:', err);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleRoleChange = async (uid: string, newRole: UserRole) => {\r\n        setUpdatingUid(uid);\r\n        try {\r\n            await updateUserRole(uid, newRole);\r\n            setUsers(prev => prev.map(u => u.uid === uid ? { ...u, role: newRole } : u));\r\n        } catch (err) {\r\n            console.error('Failed to update role:', err);\r\n            alert('Failed to update user role');\r\n        } finally {\r\n            setUpdatingUid(null);\r\n        }\r\n    };\r\n\r\n    const roles: UserRole[] = ['user', 'player', 'admin', 'vip', 'beta_tester', 'friend', 'guest'];\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                    <h2 className=\"text-xl font-bold text-white\">User Management</h2>\r\n                    <p className=\"text-gray-400 text-sm\">Manage user roles and permissions (RBAC)</p>\r\n                </div>\r\n            </div>\r\n\r\n            {loading ? (\r\n                <div className=\"space-y-4\">\r\n                    {[1, 2, 3].map(i => <Skeleton key={i} className=\"h-20 w-full rounded-xl\" />)}\r\n                </div>\r\n            ) : (\r\n                <div className=\"grid gap-4\">\r\n                    {users.map((u) => (\r\n                        <div key={u.uid} className=\"bg-black/20 border border-gray-700/50 rounded-xl p-4 flex flex-col md:flex-row md:items-center justify-between gap-4\">\r\n                            <div className=\"flex items-center gap-4\">\r\n                                <div className=\"h-10 w-10 rounded-full bg-primary/20 flex items-center justify-center text-primary font-bold\">\r\n                                    {u.photoURL ? (\r\n                                        <img src={u.photoURL} alt=\"\" className=\"h-full w-full rounded-full object-cover\" />\r\n                                    ) : (\r\n                                        (u.displayName?.[0] || u.email?.[0] || '?').toUpperCase()\r\n                                    )}\r\n                                </div>\r\n                                <div>\r\n                                    <h3 className=\"text-white font-medium\">{u.displayName || u.email || 'Anonymous User'}</h3>\r\n                                    <p className=\"text-xs text-gray-500\">{u.uid}</p>\r\n                                    <p className=\"text-xs text-gray-400\">{u.email}</p>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"flex flex-wrap gap-2\">\r\n                                {roles.map((role) => (\r\n                                    <button\r\n                                        key={role}\r\n                                        disabled={updatingUid === u.uid}\r\n                                        onClick={() => handleRoleChange(u.uid, role)}\r\n                                        className={`px-3 py-1 rounded-full text-xs font-medium transition-all border ${u.role === role\r\n                                            ? 'bg-primary border-primary text-white'\r\n                                            : 'bg-white/5 border-gray-700 text-gray-400 hover:text-white hover:bg-white/10'\r\n                                            } ${updatingUid === u.uid ? 'opacity-50 cursor-wait' : ''}`}\r\n                                    >\r\n                                        {role === u.role && updatingUid === u.uid ? (\r\n                                            <Loader2 size={12} className=\"animate-spin\" />\r\n                                        ) : (\r\n                                            role\r\n                                        )}\r\n                                    </button>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n                    {users.length === 0 && (\r\n                        <div className=\"text-center py-12 bg-black/20 rounded-xl border border-gray-700/50\">\r\n                            <Users className=\"mx-auto text-gray-600 mb-4\" size={48} />\r\n                            <p className=\"text-gray-400\">No users found in the database.</p>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"R:\\Works\\Portfolio\\src\\app\\api\\upload\\route.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":37,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":37,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1358,1361],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1358,1361],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { NextResponse } from 'next/server';\r\nimport fs from 'fs';\r\nimport path from 'path';\r\n\r\nexport async function POST(request: Request): Promise<NextResponse> {\r\n    const { searchParams } = new URL(request.url);\r\n    const filename = searchParams.get('filename');\r\n\r\n    if (!filename) {\r\n        return NextResponse.json({ error: 'Filename is required' }, { status: 400 });\r\n    }\r\n\r\n    try {\r\n        // Handle direct binary body upload (which storage.ts uses)\r\n        const arrayBuffer = await request.arrayBuffer();\r\n        const buffer = Buffer.from(arrayBuffer);\r\n\r\n        if (buffer.length === 0) {\r\n            return NextResponse.json({ error: 'Empty file received' }, { status: 400 });\r\n        }\r\n\r\n        // Ensure the upload directory exists\r\n        const uploadDir = path.join(process.cwd(), 'public', 'uploads');\r\n        if (!fs.existsSync(uploadDir)) {\r\n            fs.mkdirSync(uploadDir, { recursive: true });\r\n        }\r\n\r\n        // Create a safe unique filename\r\n        const safeFilename = filename.replace(/[^a-z0-9.-]/gi, '_').toLowerCase();\r\n        const filePath = path.join(uploadDir, safeFilename);\r\n\r\n        // Write the file\r\n        fs.writeFileSync(filePath, buffer);\r\n\r\n        // Return the relative URL from public\r\n        return NextResponse.json({ url: `/uploads/${safeFilename}` });\r\n    } catch (error: any) {\r\n        console.error('Upload error:', error);\r\n        return NextResponse.json({ error: error.message || 'Upload failed' }, { status: 500 });\r\n    }\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"R:\\Works\\Portfolio\\src\\app\\arcade\\flappy-dillu\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Play' is defined but never used.","line":6,"column":40,"nodeType":"Identifier","messageId":"unusedVar","endLine":6,"endColumn":44,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Play"},"fix":{"range":[229,235],"text":""},"desc":"Remove unused variable \"Play\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'LogIn' is defined but never used.","line":6,"column":46,"nodeType":"Identifier","messageId":"unusedVar","endLine":6,"endColumn":51,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"LogIn"},"fix":{"range":[235,242],"text":""},"desc":"Remove unused variable \"LogIn\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'CANVAS_WIDTH' is assigned a value but never used.","line":23,"column":7,"nodeType":"Identifier","messageId":"unusedVar","endLine":23,"endColumn":19},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'CANVAS_HEIGHT' is assigned a value but never used.","line":24,"column":7,"nodeType":"Identifier","messageId":"unusedVar","endLine":24,"endColumn":20},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'scoreSaved' is assigned a value but never used.","line":86,"column":12,"nodeType":"Identifier","messageId":"unusedVar","endLine":86,"endColumn":22},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'playerName' is assigned a value but never used.","line":93,"column":11,"nodeType":"Identifier","messageId":"unusedVar","endLine":93,"endColumn":21},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'isLoggedIn' is assigned a value but never used.","line":94,"column":11,"nodeType":"Identifier","messageId":"unusedVar","endLine":94,"endColumn":21},{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nR:\\Works\\Portfolio\\src\\app\\arcade\\flappy-dillu\\page.tsx:112:20\n  110 |     useEffect(() => {\n  111 |         const saved = localStorage.getItem(\"flappy-dillu-highscore\");\n> 112 |         if (saved) setHighScore(parseInt(saved, 10));\n      |                    ^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  113 |     }, []);\n  114 |\n  115 |     // Handle Resize","line":112,"column":20,"nodeType":null,"endLine":112,"endColumn":32},{"ruleId":"prefer-const","severity":2,"message":"'animationStartTime' is never reassigned. Use 'const' instead.","line":349,"column":13,"nodeType":"Identifier","messageId":"useConst","endLine":349,"endColumn":31,"fix":{"range":[13159,13202],"text":"const animationStartTime = performance.now();"}},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":559,"column":45,"nodeType":"JSXOpeningElement","endLine":559,"endColumn":178},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":568,"column":112,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[23916,23946],"text":"&quot;Don't worry bro, it happens.\""},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[23916,23946],"text":"&ldquo;Don't worry bro, it happens.\""},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[23916,23946],"text":"&#34;Don't worry bro, it happens.\""},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[23916,23946],"text":"&rdquo;Don't worry bro, it happens.\""},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":568,"column":116,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[23916,23946],"text":"\"Don&apos;t worry bro, it happens.\""},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[23916,23946],"text":"\"Don&lsquo;t worry bro, it happens.\""},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[23916,23946],"text":"\"Don&#39;t worry bro, it happens.\""},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[23916,23946],"text":"\"Don&rsquo;t worry bro, it happens.\""},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":568,"column":141,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[23916,23946],"text":"\"Don't worry bro, it happens.&quot;"},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[23916,23946],"text":"\"Don't worry bro, it happens.&ldquo;"},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[23916,23946],"text":"\"Don't worry bro, it happens.&#34;"},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[23916,23946],"text":"\"Don't worry bro, it happens.&rdquo;"},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":575,"column":45,"nodeType":"JSXOpeningElement","endLine":575,"endColumn":172}],"suppressedMessages":[],"errorCount":5,"fatalErrorCount":0,"warningCount":9,"fixableErrorCount":1,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useEffect, useRef, useState, useCallback } from \"react\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { ArrowLeft, RotateCcw, Trophy, Play, LogIn } from \"lucide-react\";\r\nimport Link from \"next/link\";\r\nimport { useAuth } from \"@/context/AuthContext\";\r\nimport { useGuestName } from \"@/context/GuestNameContext\";\r\nimport { useGameData } from \"@/hooks/useGameData\";\r\nimport { GameLayout } from \"@/components/arcade/GameLayout\";\r\nimport { useSiteConfig } from \"@/context/SiteConfigContext\";\r\n\r\ntype GameState = \"READY\" | \"PLAYING\" | \"GAME_OVER\";\r\n\r\ninterface Pipe {\r\n    x: number;\r\n    gapY: number;\r\n    gapSize: number; // Store the specific gap for this pipe\r\n    passed: boolean;\r\n}\r\n\r\nconst CANVAS_WIDTH = 400; // Legacy ref, mostly unused now\r\nconst CANVAS_HEIGHT = 600; // Legacy ref\r\n\r\n// ========== RESPONSIVE GAME SETTINGS ==========\r\n// All values are calculated relative to screen dimensions for universal compatibility\r\n\r\n// Bird size: 12% of the smaller dimension (works for both portrait and landscape)\r\nconst getBirdSize = (width: number, height: number) => Math.min(width, height) * 0.12;\r\n\r\n// Bird X position: 15% from left edge\r\nconst getBirdX = (width: number) => width * 0.15;\r\n\r\n// Pipe width: 10% of screen width\r\nconst getPipeWidth = (width: number) => Math.max(40, width * 0.1);\r\n\r\n// Base pipe gap: 35% of screen height (comfortable gap)\r\nconst getBasePipeGap = (height: number) => height * 0.35;\r\n\r\n// Minimum pipe gap: 25% of screen height (harder)\r\nconst getMinPipeGap = (height: number) => height * 0.25;\r\n\r\n// Pipe speed: 25% of screen width per second\r\nconst getPipeSpeed = (width: number) => width * 0.25;\r\n\r\n// Pipe spawn interval: spawn when pipes are 40% of screen width apart\r\nconst getPipeSpawnInterval = (width: number, speed: number) => (width * 0.4) / speed;\r\n\r\n// Gravity: 200% of screen height per second squared\r\nconst getGravity = (height: number) => height * 2.0;\r\n\r\n// Jump force: -60% of screen height per second\r\nconst getJumpForce = (height: number) => height * -0.6;\r\n\r\n// Dynamic gap based on score (gets harder as score increases)\r\nconst getPipeGap = (baseGap: number, minGap: number, score: number) => {\r\n    const reduction = score * (baseGap * 0.02); // 2% reduction per point\r\n    return Math.max(minGap, baseGap - reduction);\r\n};\r\n\r\nconst GAME_ID = \"flappy-dillu\";\r\nconst GAME_NAME = \"Flappy Dillu\";\r\n\r\nexport default function FlappyDilluPage() {\r\n    const [scoreUpdateTrigger, setScoreUpdateTrigger] = useState(0); // Trigger for leaderboard\r\n    const containerRef = useRef<HTMLDivElement>(null);\r\n    const [dimensions, setDimensions] = useState({ width: 0, height: 0 });\r\n\r\n    const canvasRef = useRef<HTMLCanvasElement>(null);\r\n    const gameLoopRef = useRef<number | null>(null);\r\n    const gameStartTime = useRef<number>(0);\r\n\r\n    const { user } = useAuth();\r\n    const { config } = useSiteConfig();\r\n    const { guestName } = useGuestName();\r\n    const { saveScore, getLeaderboard } = useGameData();\r\n\r\n    // Theme and settings from config\r\n    const { primary: primaryColor } = config.colors;\r\n    const { requireLoginForLeaderboard } = config.gameSettings;\r\n\r\n    const [gameState, setGameState] = useState<GameState>(\"READY\");\r\n    const [score, setScore] = useState(0);\r\n    const [highScore, setHighScore] = useState(0);\r\n    const [scoreSaved, setScoreSaved] = useState(false);\r\n\r\n    // Custom Game Over States\r\n    const [gameOverType, setGameOverType] = useState<'normal' | 'skill_issue' | 'top_10' | 'guest_top_10'>('normal');\r\n    const [achievedRank, setAchievedRank] = useState<number | null>(null);\r\n\r\n    // Get player name from auth or guest context\r\n    const playerName = user?.displayName || guestName || \"Guest\";\r\n    const isLoggedIn = !!user;\r\n\r\n    // Game state refs\r\n    const birdY = useRef(300);\r\n    const birdVelocity = useRef(0);\r\n    const pipes = useRef<Pipe[]>([]);\r\n    const scoreRef = useRef(0);\r\n    const gameStateRef = useRef<GameState>(\"READY\");\r\n    const lastTimeRef = useRef<number>(0);\r\n    const pipeSpawnTimer = useRef<number>(0);\r\n    const gameOverSpaceCount = useRef(0);\r\n\r\n    useEffect(() => {\r\n        gameStateRef.current = gameState;\r\n    }, [gameState]);\r\n\r\n    useEffect(() => {\r\n        const saved = localStorage.getItem(\"flappy-dillu-highscore\");\r\n        if (saved) setHighScore(parseInt(saved, 10));\r\n    }, []);\r\n\r\n    // Handle Resize\r\n    useEffect(() => {\r\n        const updateSize = () => {\r\n            if (containerRef.current) {\r\n                const { clientWidth, clientHeight } = containerRef.current;\r\n                setDimensions({\r\n                    width: clientWidth,\r\n                    height: clientHeight\r\n                });\r\n\r\n                // If game is NOT running (READY), center the bird\r\n                if (gameStateRef.current === \"READY\") {\r\n                    birdY.current = clientHeight / 2;\r\n                }\r\n            }\r\n        };\r\n\r\n        window.addEventListener('resize', updateSize);\r\n        updateSize(); // Initial\r\n\r\n        // ResizeObserver for more robust sizing\r\n        const observer = new ResizeObserver(updateSize);\r\n        if (containerRef.current) observer.observe(containerRef.current);\r\n\r\n        return () => {\r\n            window.removeEventListener('resize', updateSize);\r\n            observer.disconnect();\r\n        };\r\n    }, []);\r\n\r\n    const resetGame = useCallback(() => {\r\n        // Use current dimensions from state/ref\r\n        if (containerRef.current) {\r\n            birdY.current = containerRef.current.clientHeight / 2;\r\n        }\r\n        birdVelocity.current = 0;\r\n        pipes.current = [];\r\n        scoreRef.current = 0;\r\n        pipeSpawnTimer.current = 0;\r\n        lastTimeRef.current = 0;\r\n        gameStartTime.current = 0;\r\n        setScore(0);\r\n        setScoreSaved(false);\r\n        setGameOverType('normal'); // Reset type\r\n        setAchievedRank(null);\r\n    }, []);\r\n\r\n    const restartGame = useCallback(() => {\r\n        resetGame();\r\n        setGameState(\"READY\");\r\n    }, [resetGame]);\r\n\r\n    const jump = useCallback(() => {\r\n        if (gameStateRef.current === \"READY\") {\r\n            lastTimeRef.current = performance.now();\r\n            gameStartTime.current = performance.now();\r\n            setGameState(\"PLAYING\");\r\n\r\n            if (containerRef.current) {\r\n                const width = containerRef.current.clientWidth;\r\n                const height = containerRef.current.clientHeight;\r\n\r\n                // Use responsive jump force\r\n                birdVelocity.current = getJumpForce(height);\r\n\r\n                // Calculate responsive game parameters\r\n                const pipeSpeed = getPipeSpeed(width);\r\n                const spawnInterval = getPipeSpawnInterval(width, pipeSpeed);\r\n                const spacing = pipeSpeed * spawnInterval;\r\n                const baseGap = getBasePipeGap(height);\r\n                const minGap = getMinPipeGap(height);\r\n                const birdSize = getBirdSize(width, height);\r\n\r\n                // Clear existing pipes\r\n                pipes.current = [];\r\n\r\n                // Start pipes from 60% of screen width\r\n                let currentX = width * 0.6;\r\n                const minGapTop = height * 0.08; // 8% from top\r\n\r\n                while (currentX < width + spacing) {\r\n                    const currentGap = getPipeGap(baseGap, minGap, scoreRef.current);\r\n                    const maxGapTop = height - currentGap - birdSize;\r\n\r\n                    const gapY = Math.random() * (maxGapTop - minGapTop) + minGapTop;\r\n                    pipes.current.push({ x: currentX, gapY, gapSize: currentGap, passed: false });\r\n                    currentX += spacing;\r\n                }\r\n\r\n                if (pipes.current.length > 0) {\r\n                    const lastPipeX = pipes.current[pipes.current.length - 1].x;\r\n                    const distanceToWait = (lastPipeX + spacing) - width;\r\n                    const timeToWait = distanceToWait / pipeSpeed;\r\n                    pipeSpawnTimer.current = spawnInterval - timeToWait;\r\n                } else {\r\n                    pipeSpawnTimer.current = 0;\r\n                }\r\n            }\r\n\r\n        } else if (gameStateRef.current === \"PLAYING\") {\r\n            if (containerRef.current) {\r\n                const height = containerRef.current.clientHeight;\r\n                birdVelocity.current = getJumpForce(height);\r\n            }\r\n        }\r\n    }, []);\r\n\r\n    // Global keyboard handler\r\n    useEffect(() => {\r\n        const handleKeyDown = (e: KeyboardEvent) => {\r\n            if (e.code === \"Space\" || e.code === \"ArrowUp\") {\r\n                e.preventDefault();\r\n                if (gameStateRef.current === \"GAME_OVER\") {\r\n                    gameOverSpaceCount.current += 1;\r\n                    if (gameOverSpaceCount.current >= 2) {\r\n                        restartGame();\r\n                    }\r\n                } else {\r\n                    jump();\r\n                }\r\n            }\r\n        };\r\n\r\n        window.addEventListener(\"keydown\", handleKeyDown);\r\n        return () => window.removeEventListener(\"keydown\", handleKeyDown);\r\n    }, [jump, restartGame]);\r\n\r\n    const handleCanvasClick = useCallback(() => {\r\n        jump();\r\n    }, [jump]);\r\n\r\n    const birdImageRef = useRef<HTMLImageElement | null>(null);\r\n\r\n    // Load Bird Image\r\n    useEffect(() => {\r\n        const img = new Image();\r\n        img.src = \"/resource/flappy_dillu/dillu_flappy_face.png\";\r\n        img.onload = () => {\r\n            birdImageRef.current = img;\r\n        };\r\n    }, []);\r\n\r\n    // Render function updated to use dynamic dimensions\r\n    const renderFrame = useCallback((ctx: CanvasRenderingContext2D) => {\r\n        const { width, height } = ctx.canvas;\r\n\r\n        // Calculate responsive sizes for this frame\r\n        const birdSize = getBirdSize(width, height);\r\n        const birdX = getBirdX(width);\r\n        const pipeWidth = getPipeWidth(width);\r\n        const baseGap = getBasePipeGap(height);\r\n        const minGap = getMinPipeGap(height);\r\n\r\n        // Background\r\n        ctx.fillStyle = \"#0a0a0a\";\r\n        ctx.fillRect(0, 0, width, height);\r\n\r\n        // Grid pattern (responsive spacing)\r\n        const gridSize = Math.max(20, Math.min(width, height) * 0.04);\r\n        ctx.strokeStyle = `rgba(var(--primary-rgb), 0.05)`;\r\n        ctx.lineWidth = 1;\r\n        for (let x = 0; x < width; x += gridSize) {\r\n            ctx.beginPath();\r\n            ctx.moveTo(x, 0);\r\n            ctx.lineTo(x, height);\r\n            ctx.stroke();\r\n        }\r\n        for (let y = 0; y < height; y += gridSize) {\r\n            ctx.beginPath();\r\n            ctx.moveTo(0, y);\r\n            ctx.lineTo(width, y);\r\n            ctx.stroke();\r\n        }\r\n\r\n        // Pipes\r\n        ctx.fillStyle = primaryColor;\r\n        pipes.current.forEach((pipe) => {\r\n            const currentGap = pipe.gapSize || getPipeGap(baseGap, minGap, 0);\r\n\r\n            ctx.fillRect(pipe.x, 0, pipeWidth, pipe.gapY);\r\n            ctx.fillRect(pipe.x, pipe.gapY + currentGap, pipeWidth, height - pipe.gapY - currentGap);\r\n\r\n            ctx.fillStyle = \"rgba(0, 0, 0, 0.3)\";\r\n            // Cap (5% of pipe width for overhang)\r\n            const capOverhang = pipeWidth * 0.1;\r\n            const capHeight = pipeWidth * 0.25;\r\n            ctx.fillRect(pipe.x - capOverhang, pipe.gapY - capHeight, pipeWidth + capOverhang * 2, capHeight);\r\n            ctx.fillRect(pipe.x - capOverhang, pipe.gapY + currentGap, pipeWidth + capOverhang * 2, capHeight);\r\n            ctx.fillStyle = primaryColor;\r\n        });\r\n\r\n        // Bird Calculation\r\n        const birdYPos = birdY.current;\r\n\r\n        if (birdImageRef.current) {\r\n            const img = birdImageRef.current;\r\n            const aspect = img.naturalWidth / img.naturalHeight;\r\n\r\n            const drawHeight = birdSize;\r\n            const drawWidth = drawHeight * aspect;\r\n\r\n            ctx.save();\r\n            ctx.translate(birdX + birdSize / 2, birdYPos + birdSize / 2);\r\n\r\n            // Rotation based on velocity (normalized to screen size)\r\n            let targetRotation = birdVelocity.current / height * 0.8;\r\n            targetRotation = Math.max(-0.5, Math.min(Math.PI / 2, targetRotation));\r\n            ctx.rotate(targetRotation);\r\n\r\n            ctx.drawImage(img, -drawWidth / 2, -drawHeight / 2, drawWidth, drawHeight);\r\n            ctx.restore();\r\n        } else {\r\n            // Fallback circle\r\n            ctx.beginPath();\r\n            ctx.arc(birdX + birdSize / 2, birdYPos + birdSize / 2, birdSize / 2, 0, Math.PI * 2);\r\n            ctx.fillStyle = \"#fbbf24\";\r\n            ctx.fill();\r\n        }\r\n    }, [primaryColor]);\r\n\r\n    // Main game loop updated\r\n    useEffect(() => {\r\n        if (gameState !== \"READY\" && gameState !== \"PLAYING\") return;\r\n\r\n        const canvas = canvasRef.current;\r\n        if (!canvas) return;\r\n        const ctx = canvas.getContext(\"2d\");\r\n        if (!ctx) return;\r\n\r\n        // Ensure canvas setup\r\n        const cleanup = () => {\r\n            if (gameLoopRef.current) cancelAnimationFrame(gameLoopRef.current);\r\n        };\r\n\r\n        let animationStartTime = performance.now();\r\n\r\n        const endGame = async () => {\r\n            setGameState(\"GAME_OVER\");\r\n            gameOverSpaceCount.current = 0; // Reset counter overlay\r\n\r\n            const finalScore = scoreRef.current;\r\n            const duration = Math.floor((performance.now() - gameStartTime.current) / 1000);\r\n\r\n            // 1. Check for Skill Issue (0 Score)\r\n            if (finalScore === 0) {\r\n                setGameOverType('skill_issue');\r\n                return; // No need to check leaderboard\r\n            }\r\n\r\n            if (finalScore > highScore) {\r\n                setHighScore(finalScore);\r\n                localStorage.setItem(\"flappy-dillu-highscore\", finalScore.toString());\r\n            }\r\n\r\n            // 2. Check Rank / Top 10\r\n            try {\r\n                // Fetch current top 10\r\n                const leaderboard = await getLeaderboard(GAME_ID, 10);\r\n\r\n                // Calculate potential rank\r\n                let potentialRank = 1;\r\n                for (const entry of leaderboard) {\r\n                    if (finalScore < entry.score) {\r\n                        potentialRank++;\r\n                    }\r\n                }\r\n\r\n                // If leaderboard is full (10) and we are worse than 10th\r\n                if (leaderboard.length >= 10 && finalScore <= leaderboard[leaderboard.length - 1].score) {\r\n                    setGameOverType('normal');\r\n                } else if (potentialRank <= 10) {\r\n                    setAchievedRank(potentialRank);\r\n                    if (user) {\r\n                        setGameOverType('top_10');\r\n                    } else {\r\n                        setGameOverType('guest_top_10');\r\n                    }\r\n                } else {\r\n                    setGameOverType('normal');\r\n                }\r\n\r\n            } catch (err) {\r\n                console.error(\"Rank check failed\", err);\r\n                setGameOverType('normal');\r\n            }\r\n\r\n            if ((user || !requireLoginForLeaderboard) && finalScore > 0) {\r\n                const sessionId = await saveScore(GAME_ID, GAME_NAME, finalScore, duration);\r\n                if (sessionId) {\r\n                    setScoreSaved(true);\r\n                    setScoreUpdateTrigger(Date.now());\r\n                }\r\n            }\r\n        };\r\n\r\n        const gameLoop = (currentTime: number) => {\r\n            const currentState = gameStateRef.current;\r\n            const { width, height } = ctx.canvas;\r\n\r\n            if (currentState !== \"READY\" && currentState !== \"PLAYING\") return;\r\n\r\n            if (currentState === \"READY\") {\r\n                const elapsed = (currentTime - animationStartTime) / 1000;\r\n                birdY.current = (height / 2) + Math.sin(elapsed * 3) * 15;\r\n                renderFrame(ctx);\r\n\r\n                // Overlay for READY\r\n                ctx.fillStyle = \"rgba(0,0,0,0.4)\";\r\n                ctx.fillRect(0, 0, width, height);\r\n\r\n            } else if (currentState === \"PLAYING\") {\r\n                if (lastTimeRef.current === 0) lastTimeRef.current = currentTime;\r\n\r\n                // Cap delta time to prevent huge jumps\r\n                const deltaTime = Math.min((currentTime - lastTimeRef.current) / 1000, 0.05);\r\n                lastTimeRef.current = currentTime;\r\n\r\n                // Calculate responsive game parameters\r\n                const gravity = getGravity(height);\r\n                const pipeSpeed = getPipeSpeed(width);\r\n                const spawnInterval = getPipeSpawnInterval(width, pipeSpeed);\r\n                const baseGap = getBasePipeGap(height);\r\n                const minGap = getMinPipeGap(height);\r\n                const birdSize = getBirdSize(width, height);\r\n                const birdX = getBirdX(width);\r\n                const pipeWidth = getPipeWidth(width);\r\n\r\n                birdVelocity.current += gravity * deltaTime;\r\n                birdY.current += birdVelocity.current * deltaTime;\r\n\r\n                pipeSpawnTimer.current += deltaTime;\r\n                if (pipeSpawnTimer.current >= spawnInterval) {\r\n                    pipeSpawnTimer.current = 0;\r\n                    const currentGap = getPipeGap(baseGap, minGap, scoreRef.current);\r\n                    const minGapTop = height * 0.08;\r\n                    const maxGapTop = height - currentGap - birdSize;\r\n                    const gapY = Math.random() * (maxGapTop - minGapTop) + minGapTop;\r\n\r\n                    pipes.current.push({ x: width, gapY, gapSize: currentGap, passed: false });\r\n                }\r\n\r\n                pipes.current = pipes.current.filter((pipe) => pipe.x + pipeWidth > 0);\r\n                pipes.current.forEach((pipe) => {\r\n                    pipe.x -= pipeSpeed * deltaTime;\r\n                    if (!pipe.passed && pipe.x + pipeWidth < birdX) {\r\n                        pipe.passed = true;\r\n                        scoreRef.current++;\r\n                        setScore(scoreRef.current);\r\n                    }\r\n                });\r\n\r\n                // Collision detection with responsive hitbox\r\n                const HITBOX_SCALE = 0.6;\r\n                const hitboxSize = birdSize * HITBOX_SCALE;\r\n                const hitboxOffset = (birdSize - hitboxSize) / 2;\r\n\r\n                const birdLeft = birdX + hitboxOffset;\r\n                const birdRight = birdLeft + hitboxSize;\r\n                const birdTop = birdY.current + hitboxOffset;\r\n                const birdBottom = birdTop + hitboxSize;\r\n\r\n                // Floor/Ceiling collision\r\n                if (birdTop < 0 || birdBottom > height) {\r\n                    endGame();\r\n                    return;\r\n                }\r\n\r\n                for (const pipe of pipes.current) {\r\n                    if (birdRight > pipe.x && birdLeft < pipe.x + pipeWidth) {\r\n                        const currentGap = pipe.gapSize || getPipeGap(baseGap, minGap, 0);\r\n                        if (birdTop < pipe.gapY || birdBottom > pipe.gapY + currentGap) {\r\n                            endGame();\r\n                            return;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                renderFrame(ctx);\r\n            }\r\n\r\n            gameLoopRef.current = requestAnimationFrame(gameLoop);\r\n        };\r\n\r\n        gameLoopRef.current = requestAnimationFrame(gameLoop);\r\n\r\n        return cleanup;\r\n    }, [gameState, highScore, renderFrame, user, saveScore, getLeaderboard, requireLoginForLeaderboard]);\r\n\r\n\r\n    return (\r\n        <GameLayout\r\n            gameId={GAME_ID}\r\n            gameName={GAME_NAME}\r\n            scoreUpdateTrigger={scoreUpdateTrigger}\r\n            currentScore={score}\r\n        >\r\n            <div ref={containerRef} className=\"absolute inset-0 bg-[#0a0a0a] overflow-hidden\">\r\n                <canvas\r\n                    ref={canvasRef}\r\n                    width={dimensions.width}\r\n                    height={dimensions.height}\r\n                    onClick={handleCanvasClick}\r\n                    className=\"block w-full h-full cursor-pointer touch-none\"\r\n                    style={{ touchAction: 'none' }}\r\n                />\r\n\r\n                {/* UI Overlays */}\r\n                <AnimatePresence>\r\n                    {gameState === \"READY\" && (\r\n                        <motion.div\r\n                            initial={{ opacity: 0 }}\r\n                            animate={{ opacity: 1 }}\r\n                            exit={{ opacity: 0 }}\r\n                            className=\"absolute inset-0 flex flex-col items-center justify-center bg-black/40 backdrop-blur-[2px] pointer-events-none\"\r\n                        >\r\n                            <div className=\"bg-black/60 p-6 rounded-2xl border border-white/10 text-center\">\r\n                                <h2 className=\"text-4xl font-bold bg-gradient-to-r from-yellow-400 to-orange-500 bg-clip-text text-transparent mb-2\">\r\n                                    Flappy Dillu\r\n                                </h2>\r\n                                <p className=\"text-white/80\">Press Space or Tap to Jump</p>\r\n                            </div>\r\n                        </motion.div>\r\n                    )}\r\n\r\n                    {gameState === \"PLAYING\" && (\r\n                        <div className=\"absolute top-8 left-0 right-0 text-center pointer-events-none\">\r\n                            <span className=\"text-6xl font-black text-white drop-shadow-[0_4px_4px_rgba(0,0,0,0.5)] stroke-black tracking-wider\">\r\n                                {score}\r\n                            </span>\r\n                        </div>\r\n                    )}\r\n\r\n                    {gameState === \"GAME_OVER\" && (\r\n                        <motion.div\r\n                            initial={{ opacity: 0, scale: 0.9 }}\r\n                            animate={{ opacity: 1, scale: 1 }}\r\n                            className=\"absolute inset-0 flex items-center justify-center bg-black/80 backdrop-blur-md z-50 p-4\"\r\n                        >\r\n                            <div className=\"flex flex-col items-center w-[90%] max-w-sm md:max-w-md relative z-20\">\r\n                                {/* CARD CONTENT BASED ON TYPE */}\r\n                                {gameOverType === 'skill_issue' ? (\r\n                                    <div className=\"relative w-full aspect-[3/4] rounded-[1.5rem] md:rounded-[2rem] overflow-hidden shadow-2xl border border-primary/30 mb-4 md:mb-6 group\">\r\n                                        {/* Full Background Image */}\r\n                                        <div className=\"absolute inset-0 bg-primary/20\">\r\n                                            <img src=\"/resource/flappy_dillu/dillu_flappy_skill_issue.png\" alt=\"Skill Issue\" className=\"w-full h-full object-cover object-top\" />\r\n                                        </div>\r\n\r\n                                        {/* Gradient Overlay */}\r\n                                        <div className=\"absolute inset-x-0 bottom-0 h-2/3 bg-gradient-to-t from-black via-black/80 to-transparent flex flex-col justify-end p-6 md:p-8 text-center\">\r\n                                            <h2 className=\"text-4xl md:text-5xl font-black text-primary mb-2 drop-shadow-[0_4px_4px_rgba(0,0,0,1)] tracking-tighter\">SKILL ISSUE</h2>\r\n                                            <div className=\"bg-primary/20 backdrop-blur-md px-4 py-1 md:px-6 md:py-2 rounded-full border border-primary/40 inline-flex items-center justify-center gap-2 mx-auto mb-3 md:mb-4\">\r\n                                                <span className=\"text-white font-bold tracking-widest text-xs md:text-sm\">SCORE: 0</span>\r\n                                            </div>\r\n                                            <p className=\"text-white/70 italic text-xs md:text-sm font-medium\">\"Don't worry bro, it happens.\"</p>\r\n                                        </div>\r\n                                    </div>\r\n                                ) : (gameOverType === 'top_10' || gameOverType === 'guest_top_10') ? (\r\n                                    <div className=\"relative w-full aspect-[3/4] rounded-[1.5rem] md:rounded-[2rem] overflow-hidden shadow-2xl border border-yellow-500/30 mb-4 md:mb-6 group\">\r\n                                        {/* Full Background Image */}\r\n                                        <div className=\"absolute inset-0 bg-yellow-900/20\">\r\n                                            <img src=\"/resource/flappy_dillu/dillu_flappy_congrats.png\" alt=\"Congrats\" className=\"w-full h-full object-cover object-top\" />\r\n                                        </div>\r\n\r\n                                        {/* Gradient Overlay */}\r\n                                        <div className=\"absolute inset-x-0 bottom-0 h-3/4 bg-gradient-to-t from-black via-black/90 to-transparent flex flex-col justify-end p-6 md:p-8 text-center\">\r\n                                            <div className=\"mb-1\">\r\n                                                <span className=\"text-yellow-400 font-bold uppercase tracking-[0.2em] text-[10px] md:text-xs drop-shadow-md\">Outstanding Performance</span>\r\n                                            </div>\r\n\r\n                                            <h2 className=\"text-6xl md:text-7xl font-black text-white mb-1 drop-shadow-2xl\">{score}</h2>\r\n                                            <p className=\"text-white/40 font-medium text-[10px] md:text-xs uppercase tracking-widest mb-4 md:mb-6 border-b border-white/10 pb-4 md:pb-6\">Total Points</p>\r\n\r\n                                            <div className=\"flex justify-between items-end w-full px-2\">\r\n                                                <div className=\"text-left\">\r\n                                                    <p className=\"text-white/40 text-[10px] uppercase font-bold tracking-wider mb-1\">Rank</p>\r\n                                                    <p className=\"text-yellow-400 text-2xl md:text-3xl font-black leading-none\">#{achievedRank || '?'}</p>\r\n                                                </div>\r\n                                                <div className=\"text-right max-w-[60%]\">\r\n                                                    <p className=\"text-white/60 text-[9px] md:text-[10px] leading-tight\">\r\n                                                        {gameOverType === 'top_10'\r\n                                                            ? \"You are now a certified Dillu Legend.\"\r\n                                                            : \"Top 10 stats achieved! Log in to save.\"}\r\n                                                    </p>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                ) : (\r\n                                    // NORMAL GAME OVER\r\n                                    <div className=\"bg-white/5 p-6 md:p-8 rounded-3xl border border-white/10 text-center backdrop-blur-md mb-4 md:mb-6 w-full relative overflow-hidden\">\r\n                                        <div className=\"absolute inset-0 bg-gradient-to-b from-white/5 to-transparent pointer-events-none\"></div>\r\n                                        <h2 className=\"text-6xl md:text-7xl font-black text-white mb-2 tracking-tighter relative z-10\">{score}</h2>\r\n                                        <div className=\"text-white/40 font-medium uppercase tracking-widest text-xs md:text-sm mb-4 md:mb-6 relative z-10\">Final Score</div>\r\n\r\n                                        <div className=\"flex items-center justify-center gap-2 text-white/50 bg-white/5 py-2 px-4 rounded-lg mx-auto w-fit relative z-10 border border-white/5\">\r\n                                            <Trophy className=\"w-4 h-4 text-yellow-500\" />\r\n                                            <span className=\"font-mono text-xs md:text-sm\">BEST: {highScore}</span>\r\n                                        </div>\r\n                                    </div>\r\n                                )}\r\n\r\n                                <div className=\"flex gap-2 md:gap-3 w-full\">\r\n                                    <Button\r\n                                        onClick={restartGame}\r\n                                        className=\"flex-1 bg-white hover:bg-gray-200 text-black h-12 md:h-14 text-sm md:text-lg font-bold rounded-xl shadow-lg transition-all active:scale-95 translate-y-0 hover:-translate-y-1\"\r\n                                    >\r\n                                        <RotateCcw className=\"w-4 h-4 md:w-5 md:h-5 mr-2\" />\r\n                                        Play Again\r\n                                    </Button>\r\n                                    <Link href=\"/arcade\" className=\"flex-1\">\r\n                                        <Button\r\n                                            variant=\"outline\"\r\n                                            className=\"w-full bg-black/60 border-white/20 hover:bg-white/10 text-white h-12 md:h-14 text-sm md:text-lg font-medium rounded-xl backdrop-blur-sm transition-all\"\r\n                                        >\r\n                                            <ArrowLeft className=\"w-4 h-4 md:w-5 md:h-5 mr-2\" />\r\n                                            Exit\r\n                                        </Button>\r\n                                    </Link>\r\n                                </div>\r\n                                <p className=\"text-white/30 text-[9px] md:text-[10px] uppercase tracking-widest mt-4 md:mt-6 font-medium animate-pulse\">Press Space twice to restart</p>\r\n                            </div>\r\n                        </motion.div>\r\n                    )}\r\n                </AnimatePresence>\r\n            </div>\r\n        </GameLayout>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"R:\\Works\\Portfolio\\src\\app\\arcade\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'loadingConfigs' is assigned a value but never used.","line":49,"column":12,"nodeType":"Identifier","messageId":"unusedVar","endLine":49,"endColumn":26}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { Gamepad2, Trophy, Flame, Bird, User, LogIn } from \"lucide-react\";\r\nimport Link from \"next/link\";\r\nimport { useAuth } from \"@/context/AuthContext\";\r\nimport { useGuestName } from \"@/context/GuestNameContext\";\r\nimport { AuthModal } from \"@/components/auth/AuthModal\";\r\nimport { Button } from \"@/components/ui/button\";\r\n\r\nimport { useSiteConfig } from \"@/context/SiteConfigContext\";\r\nimport { getGameConfigs, GameConfig } from \"@/lib/firebase/firestore\";\r\nimport { Lock } from \"lucide-react\";\r\n\r\nconst games = [\r\n    {\r\n        id: \"flappy-dillu\",\r\n        title: \"Flappy Dillu\",\r\n        description: \"Navigate Dillu through the pipes! A classic flappy-bird style game demonstrating canvas rendering and physics.\",\r\n        difficulty: \"Easy\",\r\n        status: \"Active\",\r\n        icon: Bird,\r\n    },\r\n    {\r\n        id: \"system-stabilizer\",\r\n        title: \"System Stabilizer\",\r\n        description: \"Balance server loads and prevent system overheating in this fast-paced reaction game. Uses pure HTML5 Canvas.\",\r\n        difficulty: \"Medium\",\r\n        status: \"Coming Soon\",\r\n    },\r\n    {\r\n        id: \"packet-tracer\",\r\n        title: \"Packet Tracer\",\r\n        description: \"Route data packets through optimal paths while avoiding network congestion.\",\r\n        difficulty: \"Hard\",\r\n        status: \"Coming Soon\",\r\n    },\r\n];\r\n\r\nexport default function Arcade() {\r\n    const { user, loading: authLoading } = useAuth();\r\n    const { config, loading: configLoading } = useSiteConfig();\r\n    const { profile } = useAuth(); // Profile has the role\r\n    const { guestName, setGuestName, hasGuestName } = useGuestName();\r\n    const [nameInput, setNameInput] = useState(\"\");\r\n    const [showAuthModal, setShowAuthModal] = useState(false);\r\n    const [gameConfigs, setGameConfigs] = useState<Record<string, GameConfig>>({});\r\n    const [loadingConfigs, setLoadingConfigs] = useState(true);\r\n\r\n    // Load game configs for RBAC\r\n    useEffect(() => {\r\n        async function loadConfigs() {\r\n            try {\r\n                const configs = await getGameConfigs();\r\n                const configMap: Record<string, GameConfig> = {};\r\n                configs.forEach(c => configMap[c.id] = c);\r\n                setGameConfigs(configMap);\r\n            } catch (err) {\r\n                console.error(\"Failed to load game configs:\", err);\r\n            } finally {\r\n                setLoadingConfigs(false);\r\n            }\r\n        }\r\n        loadConfigs();\r\n    }, []);\r\n\r\n    const loading = authLoading || configLoading;\r\n\r\n    // Game settings from config\r\n    const { allowGuestPlay, showLeaderboard } = config.gameSettings;\r\n\r\n    // Show guest name prompt only if not logged in, guest play is allowed, and no guest name set\r\n    const showGuestNamePrompt = !loading && !user && !hasGuestName && allowGuestPlay;\r\n\r\n    // If guest play is NOT allowed and user is NOT logged in, we should probably show a login required message\r\n    const loginRequired = !loading && !user && !allowGuestPlay;\r\n\r\n    const handleSetGuestName = () => {\r\n        if (nameInput.trim().length >= 2) {\r\n            setGuestName(nameInput.trim());\r\n        }\r\n    };\r\n\r\n    // Get display name (user's name or guest name)\r\n    const displayName = user?.displayName || guestName || \"Guest\";\r\n\r\n    return (\r\n        <>\r\n            <div className=\"min-h-screen pt-12 pb-12 px-4\">\r\n                <div className=\"container mx-auto\">\r\n                    <header className=\"mb-16 text-center\">\r\n                        <motion.div\r\n                            initial={{ scale: 0.9, opacity: 0 }}\r\n                            animate={{ scale: 1, opacity: 1 }}\r\n                            className=\"inline-flex items-center justify-center p-6 rounded-full bg-primary/10 mb-8 border border-primary/20 shadow-[0_0_50px_rgba(var(--primary-rgb),0.2)]\"\r\n                        >\r\n                            <Gamepad2 size={64} className=\"text-primary\" />\r\n                        </motion.div>\r\n                        <h1 className=\"text-4xl md:text-6xl font-black bg-clip-text text-transparent bg-gradient-to-r from-primary via-white to-primary/80 mb-6\">\r\n                            Engineering Arcade\r\n                        </h1>\r\n                        <p className=\"text-slate-400 max-w-2xl mx-auto text-lg\">\r\n                            Test your reflexes and problem-solving skills. These simulations demonstrate distinct engineering skills: rendering, state management, and algorithmic thinking.\r\n                        </p>\r\n\r\n                        {/* Player Status */}\r\n                        {!loading && (user || (hasGuestName && allowGuestPlay)) && (\r\n                            <motion.div\r\n                                initial={{ opacity: 0, y: 10 }}\r\n                                animate={{ opacity: 1, y: 0 }}\r\n                                className=\"mt-6 inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white/5 border border-white/10\"\r\n                            >\r\n                                <User size={16} className=\"text-primary\" />\r\n                                <span className=\"text-white\">\r\n                                    Playing as <span className=\"font-semibold text-primary\">{displayName}</span>\r\n                                </span>\r\n                                {!user && (\r\n                                    <button\r\n                                        onClick={() => setShowAuthModal(true)}\r\n                                        className=\"ml-2 text-xs text-gray-400 hover:text-primary transition-colors flex items-center gap-1\"\r\n                                    >\r\n                                        <LogIn size={12} />\r\n                                        Sign in to save scores\r\n                                    </button>\r\n                                )}\r\n                            </motion.div>\r\n                        )}\r\n                    </header>\r\n\r\n                    {/* Guest Name Prompt */}\r\n                    <AnimatePresence>\r\n                        {showGuestNamePrompt && (\r\n                            <motion.div\r\n                                initial={{ opacity: 0, y: 20 }}\r\n                                animate={{ opacity: 1, y: 0 }}\r\n                                exit={{ opacity: 0, y: -20 }}\r\n                                className=\"max-w-md mx-auto mb-12\"\r\n                            >\r\n                                <div className=\"bg-gradient-to-br from-gray-900 via-gray-900 to-gray-800 rounded-2xl border border-gray-700/50 p-8 text-center relative overflow-hidden\">\r\n                                    <div className=\"absolute -top-10 -right-10 w-32 h-32 bg-primary/20 rounded-full blur-3xl\" />\r\n                                    <div className=\"absolute -bottom-10 -left-10 w-32 h-32 bg-primary/10 rounded-full blur-3xl\" />\r\n\r\n                                    <div className=\"relative z-10\">\r\n                                        <div className=\"w-16 h-16 rounded-full bg-primary/20 flex items-center justify-center mx-auto mb-4\">\r\n                                            <User size={32} className=\"text-primary\" />\r\n                                        </div>\r\n                                        <h2 className=\"text-xl font-bold text-white mb-2\">Welcome to the Arcade!</h2>\r\n                                        <p className=\"text-gray-400 text-sm mb-6\">\r\n                                            Enter your name to get started, or sign in to save your scores.\r\n                                        </p>\r\n\r\n                                        <div className=\"space-y-3\">\r\n                                            <input\r\n                                                type=\"text\"\r\n                                                value={nameInput}\r\n                                                onChange={(e) => setNameInput(e.target.value)}\r\n                                                onKeyDown={(e) => e.key === \"Enter\" && handleSetGuestName()}\r\n                                                placeholder=\"Enter your name\"\r\n                                                className=\"w-full px-4 py-3 bg-white/5 border border-gray-700 rounded-xl text-white placeholder-gray-500 focus:outline-none focus:border-primary focus:ring-2 focus:ring-primary/20 text-center\"\r\n                                                autoFocus\r\n                                            />\r\n                                            <Button\r\n                                                onClick={handleSetGuestName}\r\n                                                disabled={nameInput.trim().length < 2}\r\n                                                className=\"w-full\"\r\n                                            >\r\n                                                Play as Guest\r\n                                            </Button>\r\n\r\n                                            <div className=\"flex items-center gap-4 my-4\">\r\n                                                <div className=\"flex-1 h-px bg-gray-700\" />\r\n                                                <span className=\"text-gray-500 text-xs\">or</span>\r\n                                                <div className=\"flex-1 h-px bg-gray-700\" />\r\n                                            </div>\r\n\r\n                                            <Button\r\n                                                variant=\"outline\"\r\n                                                onClick={() => setShowAuthModal(true)}\r\n                                                className=\"w-full\"\r\n                                            >\r\n                                                <LogIn size={18} />\r\n                                                Sign in with Google\r\n                                            </Button>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </motion.div>\r\n                        )}\r\n\r\n                        {loginRequired && (\r\n                            <motion.div\r\n                                initial={{ opacity: 0, y: 20 }}\r\n                                animate={{ opacity: 1, y: 0 }}\r\n                                className=\"max-w-md mx-auto mb-12\"\r\n                            >\r\n                                <div className=\"bg-gradient-to-br from-gray-900 via-gray-900 to-gray-800 rounded-2xl border border-gray-700/50 p-8 text-center relative overflow-hidden\">\r\n                                    <div className=\"relative z-10\">\r\n                                        <div className=\"w-16 h-16 rounded-full bg-primary/20 flex items-center justify-center mx-auto mb-4\">\r\n                                            <LogIn size={32} className=\"text-primary\" />\r\n                                        </div>\r\n                                        <h2 className=\"text-xl font-bold text-white mb-2\">Login Required</h2>\r\n                                        <p className=\"text-gray-400 text-sm mb-6\">\r\n                                            Guest play is currently disabled. Please sign in to access the arcade and save your progress.\r\n                                        </p>\r\n\r\n                                        <Button\r\n                                            onClick={() => setShowAuthModal(true)}\r\n                                            className=\"w-full shadow-[0_0_20px_rgba(var(--primary-rgb),0.3)]\"\r\n                                        >\r\n                                            <LogIn size={18} />\r\n                                            Sign in with Google\r\n                                        </Button>\r\n                                    </div>\r\n                                </div>\r\n                            </motion.div>\r\n                        )}\r\n                    </AnimatePresence>\r\n\r\n                    {/* Games Grid - only show when user has a name or is logged in */}\r\n                    {(user || (hasGuestName && allowGuestPlay)) && (\r\n                        <motion.div\r\n                            initial={{ opacity: 0 }}\r\n                            animate={{ opacity: 1 }}\r\n                            className=\"grid md:grid-cols-2 lg:grid-cols-3 gap-8\"\r\n                        >\r\n                            {games.map((game, i) => (\r\n                                <motion.div\r\n                                    key={game.id}\r\n                                    initial={{ y: 20, opacity: 0 }}\r\n                                    animate={{ y: 0, opacity: 1 }}\r\n                                    transition={{ delay: i * 0.1 }}\r\n                                    className={`rounded-3xl bg-white/5 border border-white/10 p-8 flex flex-col ${game.status !== \"Active\" ? \"opacity-50 grayscale\" : \"hover:bg-white/10 hover:border-primary/50 hover:shadow-[0_0_30px_rgba(var(--primary-rgb),0.15)]\"} transition-all duration-300 group overflow-hidden relative`}\r\n                                >\r\n                                    {/* RBAC Lockdown Check */}\r\n                                    {(() => {\r\n                                        const config = gameConfigs[game.id];\r\n                                        if (!config) return null;\r\n\r\n                                        const userRole = profile?.role || 'guest';\r\n                                        const allowedRoles = config.allowedRoles || ['player', 'admin']; // Default\r\n                                        const isAllowed = allowedRoles.includes(userRole) || userRole === 'admin';\r\n\r\n                                        if (!isAllowed) {\r\n                                            return (\r\n                                                <div className=\"absolute inset-0 z-20 bg-black/80 backdrop-blur-sm flex flex-col items-center justify-center p-6 text-center\">\r\n                                                    <div className=\"w-16 h-16 rounded-full bg-red-500/20 flex items-center justify-center mb-4\">\r\n                                                        <Lock className=\"text-red-500\" size={32} />\r\n                                                    </div>\r\n                                                    <h4 className=\"text-xl font-bold text-white mb-2\">Access Restricted</h4>\r\n                                                    <p className=\"text-gray-400 text-sm mb-4\">\r\n                                                        This game is only available for: <br />\r\n                                                        <span className=\"text-primary font-medium\">{allowedRoles.join(', ')}</span>\r\n                                                    </p>\r\n                                                    <p className=\"text-xs text-gray-500\">\r\n                                                        Your current role: <span className=\"capitalize\">{userRole}</span>\r\n                                                    </p>\r\n                                                </div>\r\n                                            );\r\n                                        }\r\n                                        return null;\r\n                                    })()}\r\n\r\n                                    <div className=\"flex justify-between items-start mb-6\">\r\n                                        <div\r\n                                            className={`px-3 py-1 rounded-full text-xs font-mono border ${game.difficulty === \"Hard\"\r\n                                                ? \"border-red-500/50 text-red-400 bg-red-500/10\"\r\n                                                : game.difficulty === \"Medium\"\r\n                                                    ? \"border-orange-500/50 text-orange-400 bg-orange-500/10\"\r\n                                                    : \"border-green-500/50 text-green-400 bg-green-500/10\"\r\n                                                }`}\r\n                                        >\r\n                                            {game.difficulty}\r\n                                        </div>\r\n                                        {game.status === \"Active\" && <Flame className=\"text-primary animate-pulse\" size={24} />}\r\n                                    </div>\r\n\r\n                                    <h3 className=\"text-2xl font-bold mb-3 text-white group-hover:text-primary transition-colors\">{game.title}</h3>\r\n                                    <p className=\"text-slate-400 text-sm mb-8 flex-1 leading-relaxed\">{game.description}</p>\r\n\r\n                                    <div className=\"mt-auto\">\r\n                                        {game.status === \"Active\" ? (\r\n                                            <Link href={`/arcade/${game.id}`} className=\"block\">\r\n                                                <Button className=\"w-full py-6 text-lg font-bold\">\r\n                                                    PLAY NOW\r\n                                                </Button>\r\n                                            </Link>\r\n                                        ) : (\r\n                                            <Button disabled variant=\"outline\" className=\"w-full py-6 text-lg font-bold opacity-50\">\r\n                                                COMING SOON\r\n                                            </Button>\r\n                                        )}\r\n                                    </div>\r\n                                </motion.div>\r\n                            ))}\r\n\r\n                            {/* Leaderboard Teaser */}\r\n                            {showLeaderboard && (\r\n                                <div className=\"rounded-3xl bg-gradient-to-br from-primary/10 to-black border border-primary/20 p-8 flex flex-col justify-center items-center text-center relative overflow-hidden\">\r\n                                    <div className=\"absolute inset-0 bg-primary/5 animate-pulse rounded-3xl\" />\r\n                                    <Trophy size={56} className=\"text-yellow-500 mb-6 relative z-10 drop-shadow-[0_0_15px_rgba(234,179,8,0.5)]\" />\r\n                                    <h3 className=\"text-xl font-bold mb-2 relative z-10\">Global Leaderboard</h3>\r\n                                    <p className=\"text-slate-400 text-sm mb-6 relative z-10\">Compete with other players for the high score.</p>\r\n                                    <div className=\"w-full bg-black/40 border border-white/5 rounded-xl p-4 relative z-10 backdrop-blur-sm\">\r\n                                        <div className=\"flex justify-between text-xs text-slate-500 mb-3 tracking-widest\">\r\n                                            <span>RANK</span>\r\n                                            <span>SCORE</span>\r\n                                        </div>\r\n                                        <div className=\"flex justify-between text-sm font-mono text-white mb-2 border-b border-white/5 pb-2\">\r\n                                            <span>1. ALX_99</span>\r\n                                            <span className=\"text-primary\">99,420</span>\r\n                                        </div>\r\n                                        <div className=\"flex justify-between text-sm font-mono text-white/60\">\r\n                                            <span>2. DEV_OPS</span>\r\n                                            <span className=\"text-primary\">88,100</span>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n                        </motion.div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n\r\n            <AuthModal isOpen={showAuthModal} onClose={() => setShowAuthModal(false)} />\r\n        </>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"R:\\Works\\Portfolio\\src\\app\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"R:\\Works\\Portfolio\\src\\app\\login\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"R:\\Works\\Portfolio\\src\\app\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'socialLinks' is assigned a value but never used.","line":16,"column":11,"nodeType":"Identifier","messageId":"unusedVar","endLine":16,"endColumn":22},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'contact' is assigned a value but never used.","line":16,"column":24,"nodeType":"Identifier","messageId":"unusedVar","endLine":16,"endColumn":31},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'hero' is assigned a value but never used.","line":16,"column":41,"nodeType":"Identifier","messageId":"unusedVar","endLine":16,"endColumn":45}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\n\nimport { Hero } from \"@/components/sections/Hero\";\nimport { About } from \"@/components/sections/About\";\nimport { ExperienceSection } from \"@/components/sections/Experience\";\nimport { ServicesSection } from \"@/components/sections/Services\";\nimport { AcademicSection } from \"@/components/sections/Academic\";\nimport { AchievementsSection } from \"@/components/sections/Achievements\";\nimport { Projects } from \"@/components/sections/Projects\";\nimport { Friends } from \"@/components/sections/Friends\";\nimport { Footer } from \"@/components/layout/Footer\";\nimport { useSiteConfig } from \"@/context/SiteConfigContext\";\n\nexport default function Home() {\n  const { config } = useSiteConfig();\n  const { socialLinks, contact, layout, hero } = config;\n\n  // Map section IDs to components\n  const sectionMap: Record<string, React.ReactNode> = {\n    hero: <Hero key=\"hero\" />,\n    about: <About key=\"about\" />,\n    experience: <ExperienceSection key=\"experience\" config={config.experience} />,\n    services: <ServicesSection key=\"services\" config={config.services} />,\n    academic: <AcademicSection key=\"academic\" config={config.academic} />,\n    achievements: <AchievementsSection key=\"achievements\" config={config.achievements} />,\n    projects: <Projects key=\"projects\" />,\n    friends: <Friends key=\"friends\" />,\n    contact: <Footer key=\"contact\" />,\n  };\n\n  // Get ordered sections from config and filter hidden ones\n  const hiddenSections = layout?.hiddenSections || [];\n  const sectionOrder = (layout?.sectionOrder || ['hero', 'about', 'experience', 'academic', 'achievements', 'projects', 'contact'])\n    .filter(id => !hiddenSections.includes(id));\n\n  return (\n    <div className=\"flex flex-col gap-0\">\n      {sectionOrder.map(sectionId => sectionMap[sectionId])}\n    </div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"R:\\Works\\Portfolio\\src\\app\\profile\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'User' is defined but never used.","line":5,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":14,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"User"},"fix":{"range":[111,116],"text":""},"desc":"Remove unused variable \"User\"."}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":82,"column":33,"nodeType":"JSXOpeningElement","endLine":86,"endColumn":35}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport { useState } from \"react\";\r\nimport { useAuth } from \"@/context/AuthContext\";\r\nimport { User, Mail, Shield, Gamepad2, Pencil, Check, X, Loader2 } from \"lucide-react\";\r\nimport { Button } from \"@/components/ui/button\";\r\n\r\nexport default function ProfilePage() {\r\n    const { user, profile, loading, updateDisplayName } = useAuth();\r\n    const [isEditingName, setIsEditingName] = useState(false);\r\n    const [newDisplayName, setNewDisplayName] = useState(\"\");\r\n    const [saving, setSaving] = useState(false);\r\n    const [saveError, setSaveError] = useState<string | null>(null);\r\n    const [saveSuccess, setSaveSuccess] = useState(false);\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"min-h-screen pt-24 px-4 flex justify-center\">\r\n                <div className=\"w-8 h-8 border-2 border-violet-500 border-t-transparent rounded-full animate-spin\" />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (!user) {\r\n        return (\r\n            <div className=\"min-h-screen pt-24 px-4 flex flex-col items-center justify-center text-center\">\r\n                <h1 className=\"text-2xl font-bold mb-4\">Access Denied</h1>\r\n                <p className=\"text-slate-400\">Please sign in to view your profile.</p>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const handleStartEdit = () => {\r\n        setNewDisplayName(user.displayName || \"\");\r\n        setIsEditingName(true);\r\n        setSaveError(null);\r\n        setSaveSuccess(false);\r\n    };\r\n\r\n    const handleCancelEdit = () => {\r\n        setIsEditingName(false);\r\n        setNewDisplayName(\"\");\r\n        setSaveError(null);\r\n    };\r\n\r\n    const handleSaveDisplayName = async () => {\r\n        if (!newDisplayName.trim()) {\r\n            setSaveError(\"Display name cannot be empty\");\r\n            return;\r\n        }\r\n\r\n        if (newDisplayName.length > 20) {\r\n            setSaveError(\"Display name must be 20 characters or less\");\r\n            return;\r\n        }\r\n\r\n        try {\r\n            setSaving(true);\r\n            setSaveError(null);\r\n            await updateDisplayName(newDisplayName.trim());\r\n            setIsEditingName(false);\r\n            setSaveSuccess(true);\r\n            setTimeout(() => setSaveSuccess(false), 3000);\r\n        } catch (err) {\r\n            setSaveError(err instanceof Error ? err.message : \"Failed to update name\");\r\n        } finally {\r\n            setSaving(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen pt-24 pb-20 px-4\">\r\n            <div className=\"container mx-auto max-w-2xl\">\r\n                <h1 className=\"text-3xl font-bold mb-8\">My Profile</h1>\r\n\r\n                {/* Profile Card */}\r\n                <div className=\"bg-white/5 border border-white/10 rounded-2xl p-8 backdrop-blur-sm\">\r\n                    <div className=\"flex flex-col md:flex-row items-center gap-8 mb-8\">\r\n                        {/* Avatar */}\r\n                        <div className=\"w-32 h-32 rounded-full border-4 border-primary/20 overflow-hidden shadow-xl\">\r\n                            {user.photoURL ? (\r\n                                <img\r\n                                    src={user.photoURL}\r\n                                    alt={user.displayName || 'User'}\r\n                                    className=\"w-full h-full object-cover\"\r\n                                />\r\n                            ) : (\r\n                                <div className=\"w-full h-full bg-primary flex items-center justify-center text-white text-4xl font-bold\">\r\n                                    {(user.displayName || user.email || 'U')[0].toUpperCase()}\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n\r\n                        {/* Basic Info */}\r\n                        <div className=\"text-center md:text-left\">\r\n                            <h2 className=\"text-2xl font-bold\">{user.displayName || 'Anonymous Player'}</h2>\r\n                            <p className=\"text-slate-400 mt-1\">{user.email}</p>\r\n\r\n                            <div className=\"mt-4 inline-flex items-center gap-2 px-3 py-1 rounded-full bg-white/5 border border-white/10 text-sm\">\r\n                                <Shield size={14} className=\"text-primary\" />\r\n                                <span className=\"capitalize text-slate-300\">{profile?.role || 'User'}</span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Details Grid */}\r\n                    <div className=\"grid gap-4 mt-8 border-t border-white/5 pt-8\">\r\n                        {/* Display Name / In-Game Name (Editable) */}\r\n                        <div className=\"p-4 rounded-xl bg-black/20 border border-white/5\">\r\n                            <div className=\"flex items-center gap-4\">\r\n                                <div className=\"p-2 rounded-lg bg-green-500/10 text-green-400\">\r\n                                    <Gamepad2 size={20} />\r\n                                </div>\r\n                                <div className=\"flex-1\">\r\n                                    <p className=\"text-xs text-slate-500 uppercase tracking-wider mb-1\">In-Game Name</p>\r\n\r\n                                    {isEditingName ? (\r\n                                        <div className=\"flex items-center gap-2\">\r\n                                            <input\r\n                                                type=\"text\"\r\n                                                value={newDisplayName}\r\n                                                onChange={(e) => setNewDisplayName(e.target.value)}\r\n                                                maxLength={20}\r\n                                                className=\"flex-1 bg-black/40 border border-white/20 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-violet-500 text-sm\"\r\n                                                placeholder=\"Enter display name\"\r\n                                                autoFocus\r\n                                            />\r\n                                            <Button\r\n                                                size=\"sm\"\r\n                                                onClick={handleSaveDisplayName}\r\n                                                disabled={saving}\r\n                                                className=\"bg-green-600 hover:bg-green-500 h-9 px-3\"\r\n                                            >\r\n                                                {saving ? <Loader2 size={16} className=\"animate-spin\" /> : <Check size={16} />}\r\n                                            </Button>\r\n                                            <Button\r\n                                                size=\"sm\"\r\n                                                variant=\"ghost\"\r\n                                                onClick={handleCancelEdit}\r\n                                                disabled={saving}\r\n                                                className=\"h-9 px-3\"\r\n                                            >\r\n                                                <X size={16} />\r\n                                            </Button>\r\n                                        </div>\r\n                                    ) : (\r\n                                        <div className=\"flex items-center justify-between\">\r\n                                            <p className=\"text-slate-200 font-medium\">{user.displayName || 'Not set'}</p>\r\n                                            <Button\r\n                                                size=\"sm\"\r\n                                                variant=\"ghost\"\r\n                                                onClick={handleStartEdit}\r\n                                                className=\"h-8 px-2 text-slate-400 hover:text-white\"\r\n                                            >\r\n                                                <Pencil size={14} />\r\n                                            </Button>\r\n                                        </div>\r\n                                    )}\r\n\r\n                                    {saveError && (\r\n                                        <p className=\"text-red-400 text-xs mt-2\">{saveError}</p>\r\n                                    )}\r\n                                    {saveSuccess && (\r\n                                        <p className=\"text-green-400 text-xs mt-2\">Display name updated successfully!</p>\r\n                                    )}\r\n                                </div>\r\n                            </div>\r\n                            <p className=\"text-xs text-slate-600 mt-3 ml-12\">This name will appear on game leaderboards</p>\r\n                        </div>\r\n\r\n                        <div className=\"p-4 rounded-xl bg-black/20 border border-white/5 flex items-center gap-4\">\r\n                            <div className=\"p-2 rounded-lg bg-fuchsia-500/10 text-fuchsia-400\">\r\n                                <Mail size={20} />\r\n                            </div>\r\n                            <div>\r\n                                <p className=\"text-xs text-slate-500 uppercase tracking-wider\">Email Address</p>\r\n                                <p className=\"text-slate-200\">{user.email}</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"R:\\Works\\Portfolio\\src\\app\\signup\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"R:\\Works\\Portfolio\\src\\components\\Providers.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"R:\\Works\\Portfolio\\src\\components\\ThemeInitializer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"R:\\Works\\Portfolio\\src\\components\\arcade\\GameLayout.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'motion' is defined but never used.","line":5,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":16,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"motion"},"fix":{"range":[111,118],"text":""},"desc":"Remove unused variable \"motion\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'AnimatePresence' is defined but never used.","line":5,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":33,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"AnimatePresence"},"fix":{"range":[102,158],"text":""},"desc":"Remove unused import declaration."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'RotateCcw' is defined but never used.","line":6,"column":51,"nodeType":"Identifier","messageId":"unusedVar","endLine":6,"endColumn":60,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"RotateCcw"},"fix":{"range":[208,219],"text":""},"desc":"Remove unused variable \"RotateCcw\"."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":59,"column":53,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":59,"endColumn":56,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2380,2383],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2380,2383],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":60,"column":52,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":60,"endColumn":55,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2465,2468],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2465,2468],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":228,"column":72,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":228,"endColumn":75,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[12064,12067],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[12064,12067],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":229,"column":80,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":229,"endColumn":83,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[12158,12161],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[12158,12161],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":255,"column":57,"nodeType":"JSXOpeningElement","endLine":255,"endColumn":148},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ExpandIcon' is defined but never used.","line":298,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":298,"endColumn":20}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState, useEffect, useRef } from \"react\";\r\nimport Link from \"next/link\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { ArrowLeft, Maximize2, Minimize2, Trophy, RotateCcw, Monitor } from \"lucide-react\";\r\nimport { useGameData } from \"@/hooks/useGameData\";\r\nimport { LeaderboardEntry } from \"@/lib/firebase/firestore\";\r\nimport { useAuth } from \"@/context/AuthContext\";\r\nimport { useGuestName } from \"@/context/GuestNameContext\";\r\nimport { useGameMode } from \"@/context/GameModeContext\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\ninterface GameLayoutProps {\r\n    children: React.ReactNode;\r\n    gameId: string;\r\n    gameName: string;\r\n    currentScore?: number; // Optional: to show live comparison\r\n    scoreUpdateTrigger?: number; // timestamp to trigger refresh\r\n}\r\n\r\nexport function GameLayout({ children, gameId, gameName, currentScore = 0, scoreUpdateTrigger }: GameLayoutProps) {\r\n    const [isFullscreen, setIsFullscreen] = useState(false);\r\n    const [leaderboard, setLeaderboard] = useState<LeaderboardEntry[]>([]);\r\n    const [loadingLeaderboard, setLoadingLeaderboard] = useState(true);\r\n    const containerRef = useRef<HTMLDivElement>(null);\r\n    const { getLeaderboard } = useGameData();\r\n    const { user } = useAuth();\r\n    const { guestName } = useGuestName();\r\n    const { enterGameMode, exitGameMode } = useGameMode();\r\n\r\n    const playerName = user?.displayName || guestName || \"Guest\";\r\n\r\n    // Enter game mode on mount, exit on unmount\r\n    useEffect(() => {\r\n        enterGameMode();\r\n        return () => exitGameMode();\r\n    }, [enterGameMode, exitGameMode]);\r\n\r\n    // Fetch Leaderboard\r\n    useEffect(() => {\r\n        const fetchScores = async () => {\r\n            setLoadingLeaderboard(true);\r\n            const data = await getLeaderboard(gameId, 10);\r\n            setLeaderboard(data);\r\n            setLoadingLeaderboard(false);\r\n        };\r\n\r\n        fetchScores();\r\n        // Refresh every minute roughly? Or just once on mount\r\n    }, [gameId, getLeaderboard, scoreUpdateTrigger]);\r\n\r\n    // Handle Fullscreen\r\n    const toggleFullscreen = async () => {\r\n        if (!document.fullscreenElement) {\r\n            try {\r\n                if (containerRef.current?.requestFullscreen) {\r\n                    await containerRef.current.requestFullscreen();\r\n                } else if ((containerRef.current as any)?.webkitRequestFullscreen) {\r\n                    await (containerRef.current as any).webkitRequestFullscreen();\r\n                }\r\n                setIsFullscreen(true);\r\n            } catch (err) {\r\n                console.error(\"Error attempting to enable full-screen mode:\", err);\r\n            }\r\n        } else {\r\n            if (document.exitFullscreen) {\r\n                await document.exitFullscreen();\r\n            }\r\n            setIsFullscreen(false);\r\n        }\r\n    };\r\n\r\n    // Listen for fullscreen change events (ESC key)\r\n    useEffect(() => {\r\n        const handleFullscreenChange = () => {\r\n            setIsFullscreen(!!document.fullscreenElement);\r\n        };\r\n\r\n        document.addEventListener(\"fullscreenchange\", handleFullscreenChange);\r\n        document.addEventListener(\"webkitfullscreenchange\", handleFullscreenChange);\r\n        return () => {\r\n            document.removeEventListener(\"fullscreenchange\", handleFullscreenChange);\r\n            document.removeEventListener(\"webkitfullscreenchange\", handleFullscreenChange);\r\n        };\r\n    }, []);\r\n\r\n    return (\r\n        <div\r\n            ref={containerRef}\r\n            className={cn(\r\n                \"min-h-screen bg-[#050505] flex flex-col relative transition-all duration-700 font-sans\",\r\n                isFullscreen ? \"p-0 bg-black justify-center\" : \"p-4 md:p-6 lg:p-8\"\r\n            )}\r\n        >\r\n            {/* Header */}\r\n            {!isFullscreen && (\r\n                <div className=\"flex items-center justify-between mb-6 relative z-20\">\r\n                    <Link\r\n                        href=\"/arcade\"\r\n                        className=\"flex items-center gap-2 text-white/50 hover:text-white transition-colors group\"\r\n                    >\r\n                        <div className=\"p-2 rounded-full bg-white/5 group-hover:bg-white/10 transition-colors border border-white/5\">\r\n                            <ArrowLeft size={18} />\r\n                        </div>\r\n                        <span className=\"font-medium tracking-wide text-sm\">Back to Arcade</span>\r\n                    </Link>\r\n\r\n                    <h1 className=\"absolute left-1/2 -translate-x-1/2 text-2xl md:text-3xl font-black text-white/90 tracking-tight hidden md:block\">\r\n                        {gameName}\r\n                    </h1>\r\n\r\n                    <div className=\"flex items-center gap-4\">\r\n                        {/* Currently playing as... */}\r\n                        <div className=\"hidden md:flex flex-col items-end\">\r\n                            <span className=\"text-[10px] text-white/40 uppercase tracking-widest font-bold\">Player</span>\r\n                            <span className=\"text-sm font-bold text-white max-w-[150px] truncate\">{playerName}</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* Scrollable container on mobile, side-by-side on desktop */}\r\n            <div className=\"flex-1 flex flex-col lg:flex-row gap-4 lg:gap-6 items-stretch justify-start lg:justify-center overflow-y-auto lg:overflow-hidden\">\r\n\r\n                {/* Game Area - guaranteed minimum height on mobile */}\r\n                <div className={cn(\r\n                    \"relative w-full flex items-center justify-center transition-all duration-500 overflow-hidden flex-shrink-0\",\r\n                    isFullscreen\r\n                        ? \"h-full flex-1\"\r\n                        : \"min-h-[300px] h-[50vh] lg:h-auto lg:flex-1 lg:min-h-[500px] bg-[#0A0A0A]/80 rounded-[1.5rem] md:rounded-[2rem] border border-white/5 shadow-2xl backdrop-blur-2xl ring-1 ring-white/5\"\r\n                )}>\r\n                    {/* Fullscreen Overlay Controls */}\r\n                    {isFullscreen && (\r\n                        <div className=\"absolute top-6 right-6 z-50 opacity-0 hover:opacity-100 transition-opacity\">\r\n                            <button\r\n                                onClick={toggleFullscreen}\r\n                                className=\"p-3 rounded-full bg-black/50 text-white border border-white/10 backdrop-blur-md hover:bg-white/10 transition-all\"\r\n                            >\r\n                                <Minimize2 size={24} />\r\n                            </button>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Fullscreen Button - Top Right Corner of Game */}\r\n                    {!isFullscreen && (\r\n                        <button\r\n                            onClick={toggleFullscreen}\r\n                            className=\"absolute top-3 right-3 z-40 flex items-center gap-2 px-3 py-2 rounded-full bg-black/60 border border-white/20 backdrop-blur-md text-white/80 text-xs font-medium hover:bg-white/10 hover:text-white transition-all\"\r\n                        >\r\n                            <Maximize2 size={14} />\r\n                            <span className=\"hidden sm:inline\">Fullscreen</span>\r\n                        </button>\r\n                    )}\r\n\r\n                    {children}\r\n                </div>\r\n\r\n                {/* Leaderboard Sidebar - Visible on all screens */}\r\n                {!isFullscreen && (\r\n                    <div className=\"w-full lg:w-80 flex-shrink-0 flex flex-col gap-4\">\r\n                        {/* Live Score Card */}\r\n                        <div className=\"p-4 md:p-5 bg-primary/10 border border-white/10 rounded-2xl relative overflow-hidden\">\r\n                            {/* Background glow effect */}\r\n                            <div className={cn(\r\n                                \"absolute inset-0 bg-primary/20 blur-xl transition-opacity duration-500\",\r\n                                currentScore > 0 ? \"opacity-50\" : \"opacity-0\"\r\n                            )} />\r\n\r\n                            <div className=\"relative z-10\">\r\n                                {/* Header with live indicator */}\r\n                                <div className=\"flex items-center gap-2 mb-3\">\r\n                                    <div className={cn(\r\n                                        \"w-2 h-2 rounded-full transition-colors\",\r\n                                        currentScore > 0 ? \"bg-green-500 animate-pulse\" : \"bg-white/20\"\r\n                                    )} />\r\n                                    <span className=\"text-[10px] font-bold uppercase tracking-widest text-white/50\">\r\n                                        {currentScore > 0 ? \"Playing Now\" : \"Ready\"}\r\n                                    </span>\r\n                                </div>\r\n\r\n                                {/* Score Display */}\r\n                                <div className=\"flex items-end justify-between\">\r\n                                    <div>\r\n                                        <div className=\"flex items-baseline gap-1\">\r\n                                            <span className={cn(\r\n                                                \"text-5xl md:text-6xl font-black tracking-tighter transition-all duration-300\",\r\n                                                currentScore > 0 ? \"text-white\" : \"text-white/60\"\r\n                                            )}>\r\n                                                {currentScore}\r\n                                            </span>\r\n                                            <span className=\"text-sm font-medium text-white/40 mb-1\">pts</span>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    {/* Game icon */}\r\n                                    <div className=\"p-3 rounded-xl bg-white/5 border border-white/5\">\r\n                                        <Monitor size={24} className=\"text-violet-400/60\" />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Leaderboard List */}\r\n                        <div className=\"bg-[#0A0A0A]/60 border border-white/5 rounded-[1.5rem] overflow-hidden flex flex-col flex-1 min-h-0 backdrop-blur-xl\">\r\n                            <div className=\"p-5 border-b border-white/5 flex items-center justify-between bg-white/[0.02]\">\r\n                                <h3 className=\"font-bold text-white flex items-center gap-2.5\">\r\n                                    <Trophy size={18} className=\"text-yellow-500\" />\r\n                                    <span>Leaderboard</span>\r\n                                </h3>\r\n                                <span className=\"px-2 py-0.5 rounded-full bg-white/5 text-[10px] font-bold text-white/40 uppercase tracking-wider\">Top 10</span>\r\n                            </div>\r\n\r\n                            <div className=\"flex-1 overflow-y-auto p-2 space-y-1 custom-scrollbar\">\r\n                                {loadingLeaderboard ? (\r\n                                    // Sleek Skeletons\r\n                                    [1, 2, 3, 4, 5].map(i => (\r\n                                        <div key={i} className=\"h-14 w-full bg-white/5 rounded-xl animate-pulse\" />\r\n                                    ))\r\n                                ) : leaderboard.length > 0 ? (\r\n                                    leaderboard.map((entry, index) => {\r\n                                        const isYou = user?.uid === entry.userId;\r\n\r\n                                        // Handle Timestamp\r\n                                        let dateStr = \"\";\r\n                                        if (entry.achievedAt) {\r\n                                            const date = 'toDate' in entry.achievedAt\r\n                                                ? (entry.achievedAt as any).toDate()\r\n                                                : new Date(entry.achievedAt as any);\r\n                                            dateStr = date.toLocaleDateString(undefined, { month: 'short', day: 'numeric' });\r\n                                        }\r\n\r\n                                        return (\r\n                                            <div\r\n                                                key={index}\r\n                                                className={cn(\r\n                                                    \"flex items-center gap-3 p-3 rounded-xl transition-all duration-300 relative overflow-hidden group border\",\r\n                                                    isYou ? \"bg-violet-500/10 border-violet-500/20\" : \"hover:bg-white/5 border-transparent hover:border-white/5\"\r\n                                                )}\r\n                                            >\r\n                                                {/* Rank Badge */}\r\n                                                <div className={cn(\r\n                                                    \"w-7 h-7 flex items-center justify-center rounded-lg text-xs font-black shadow-lg\",\r\n                                                    index === 0 ? \"bg-gradient-to-br from-yellow-400 to-yellow-600 text-black shadow-yellow-500/20\" :\r\n                                                        index === 1 ? \"bg-gradient-to-br from-slate-300 to-slate-400 text-black shadow-white/10\" :\r\n                                                            index === 2 ? \"bg-gradient-to-br from-amber-600 to-amber-700 text-white shadow-amber-900/20\" :\r\n                                                                \"bg-white/5 text-slate-500\"\r\n                                                )}>\r\n                                                    {index + 1}\r\n                                                </div>\r\n\r\n                                                {/* Avatar */}\r\n                                                <div className=\"w-9 h-9 rounded-full overflow-hidden bg-white/5 border border-white/10 ring-2 ring-transparent group-hover:ring-white/10 transition-all flex-shrink-0\">\r\n                                                    {entry.photoURL ? (\r\n                                                        <img src={entry.photoURL} alt={entry.displayName} className=\"w-full h-full object-cover\" />\r\n                                                    ) : (\r\n                                                        <div className=\"w-full h-full flex items-center justify-center text-xs font-bold text-white/60 bg-gradient-to-br from-white/5 to-white/0\">\r\n                                                            {entry.displayName.slice(0, 2).toUpperCase()}\r\n                                                        </div>\r\n                                                    )}\r\n                                                </div>\r\n\r\n                                                {/* Name */}\r\n                                                <div className=\"flex-1 min-w-0 flex flex-col\">\r\n                                                    <p className={cn(\"text-sm font-bold truncate leading-tight\", isYou ? \"text-violet-300\" : \"text-slate-200\")}>\r\n                                                        {entry.displayName}\r\n                                                    </p>\r\n                                                    <p className=\"text-[10px] text-white/30 font-medium\">\r\n                                                        {dateStr}\r\n                                                    </p>\r\n                                                </div>\r\n\r\n                                                {/* Score */}\r\n                                                <div className=\"text-right pl-2\">\r\n                                                    <p className=\"font-mono font-black text-white text-lg tracking-tight group-hover:scale-110 transition-transform origin-right\">\r\n                                                        {entry.score}\r\n                                                    </p>\r\n                                                </div>\r\n                                            </div>\r\n                                        );\r\n                                    })\r\n                                ) : (\r\n                                    <div className=\"flex flex-col items-center justify-center py-12 text-center\">\r\n                                        <Trophy size={32} className=\"text-white/10 mb-3\" />\r\n                                        <p className=\"text-white/30 text-sm font-medium\">No scores yet</p>\r\n                                        <p className=\"text-white/20 text-xs\">Be the legend who starts it all</p>\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nfunction ExpandIcon({ isFullscreen }: { isFullscreen: boolean }) {\r\n    if (isFullscreen) return <Minimize2 size={18} />;\r\n    return <Maximize2 size={18} />;\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"R:\\Works\\Portfolio\\src\\components\\auth\\AuthModal.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"R:\\Works\\Portfolio\\src\\components\\auth\\ProtectedRoute.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"R:\\Works\\Portfolio\\src\\components\\auth\\PublicRoute.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"R:\\Works\\Portfolio\\src\\components\\auth\\UserMenu.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Trophy' is defined but never used.","line":6,"column":24,"nodeType":"Identifier","messageId":"unusedVar","endLine":6,"endColumn":30,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Trophy"},"fix":{"range":[157,165],"text":""},"desc":"Remove unused variable \"Trophy\"."}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":61,"column":21,"nodeType":"JSXOpeningElement","endLine":65,"endColumn":23}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport { useAuth } from '@/context/AuthContext';\r\nimport { LogOut, User, Trophy, Settings, ChevronDown } from 'lucide-react';\r\nimport { useState, useRef, useEffect } from 'react';\r\n\r\nimport Link from 'next/link';\r\n\r\ninterface UserMenuProps {\r\n    onOpenAuth: () => void;\r\n}\r\n\r\nexport function UserMenu({ onOpenAuth }: UserMenuProps) {\r\n    const { user, profile, signOut, loading } = useAuth();\r\n    const [isOpen, setIsOpen] = useState(false);\r\n    const menuRef = useRef<HTMLDivElement>(null);\r\n\r\n    // Close menu when clicking outside\r\n    useEffect(() => {\r\n        const handleClickOutside = (event: MouseEvent) => {\r\n            if (menuRef.current && !menuRef.current.contains(event.target as Node)) {\r\n                setIsOpen(false);\r\n            }\r\n        };\r\n\r\n        document.addEventListener('mousedown', handleClickOutside);\r\n        return () => document.removeEventListener('mousedown', handleClickOutside);\r\n    }, []);\r\n\r\n    const handleSignOut = async () => {\r\n        await signOut();\r\n        setIsOpen(false);\r\n    };\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"w-10 h-10 rounded-full bg-gray-700 animate-pulse\" />\r\n        );\r\n    }\r\n\r\n    if (!user) {\r\n        return (\r\n            <button\r\n                onClick={onOpenAuth}\r\n                className=\"px-4 py-2 bg-primary hover:brightness-110 text-white font-medium rounded-lg shadow-lg shadow-primary/25 transition-all\"\r\n            >\r\n                Sign In\r\n            </button>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"relative\" ref={menuRef}>\r\n            <button\r\n                onClick={() => setIsOpen(!isOpen)}\r\n                className=\"flex items-center gap-2 p-1 pr-3 rounded-full bg-white/5 hover:bg-white/10 border border-gray-700/50 transition-all\"\r\n            >\r\n                {user.photoURL ? (\r\n                    <img\r\n                        src={user.photoURL}\r\n                        alt={user.displayName || 'User'}\r\n                        className=\"w-8 h-8 rounded-full object-cover\"\r\n                    />\r\n                ) : (\r\n                    <div className=\"w-8 h-8 rounded-full bg-primary flex items-center justify-center text-white font-semibold text-sm\">\r\n                        {(user.displayName || user.email || 'U')[0].toUpperCase()}\r\n                    </div>\r\n                )}\r\n                <span className=\"text-white text-sm font-medium hidden sm:block max-w-[100px] truncate\">\r\n                    {user.displayName || 'Player'}\r\n                </span>\r\n                <ChevronDown\r\n                    size={16}\r\n                    className={`text-gray-400 transition-transform ${isOpen ? 'rotate-180' : ''}`}\r\n                />\r\n            </button>\r\n\r\n            {/* Dropdown Menu */}\r\n            {isOpen && (\r\n                <motion.div\r\n                    initial={{ opacity: 0, y: 10, scale: 0.95 }}\r\n                    animate={{ opacity: 1, y: 0, scale: 1 }}\r\n                    exit={{ opacity: 0, y: 10, scale: 0.95 }}\r\n                    className=\"absolute right-0 mt-2 w-56 bg-gray-900 border border-gray-700/50 rounded-xl shadow-xl overflow-hidden z-50\"\r\n                >\r\n                    {/* User Info */}\r\n                    <div className=\"px-4 py-3 border-b border-gray-700/50\">\r\n                        <p className=\"text-white font-medium truncate\">\r\n                            {user.displayName || 'Player'}\r\n                        </p>\r\n                        <p className=\"text-gray-400 text-sm truncate\">{user.email}</p>\r\n                        {profile && (\r\n                            <span className=\"inline-block mt-2 px-2 py-0.5 text-xs font-medium rounded-full bg-primary/20 text-primary capitalize\">\r\n                                {profile.role}\r\n                            </span>\r\n                        )}\r\n                    </div>\r\n\r\n                    {/* Menu Items */}\r\n                    <div className=\"py-2\">\r\n                        <Link\r\n                            href=\"/profile\"\r\n                            onClick={() => setIsOpen(false)}\r\n                            className=\"w-full px-4 py-2 text-left text-gray-300 hover:text-white hover:bg-white/5 flex items-center gap-3 transition-colors\"\r\n                        >\r\n                            <User size={18} />\r\n                            Profile\r\n                        </Link>\r\n                        {/* \r\n                        <button\r\n                            onClick={() => setIsOpen(false)}\r\n                            className=\"w-full px-4 py-2 text-left text-gray-300 hover:text-white hover:bg-white/5 flex items-center gap-3 transition-colors\"\r\n                        >\r\n                            <Trophy size={18} />\r\n                            My Scores\r\n                        </button> \r\n                        */}\r\n                        {profile?.role === 'admin' && (\r\n                            <Link\r\n                                href=\"/admin\"\r\n                                onClick={() => setIsOpen(false)}\r\n                                className=\"w-full px-4 py-2 text-left text-gray-300 hover:text-white hover:bg-white/5 flex items-center gap-3 transition-colors\"\r\n                            >\r\n                                <Settings size={18} />\r\n                                Admin Panel\r\n                            </Link>\r\n                        )}\r\n                    </div>\r\n\r\n                    {/* Sign Out */}\r\n                    <div className=\"border-t border-gray-700/50 py-2\">\r\n                        <button\r\n                            onClick={handleSignOut}\r\n                            className=\"w-full px-4 py-2 text-left text-red-400 hover:text-red-300 hover:bg-red-500/10 flex items-center gap-3 transition-colors\"\r\n                        >\r\n                            <LogOut size={18} />\r\n                            Sign Out\r\n                        </button>\r\n                    </div>\r\n                </motion.div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"R:\\Works\\Portfolio\\src\\components\\auth\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"R:\\Works\\Portfolio\\src\\components\\game\\Leaderboard.tsx","messages":[{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":106,"column":37,"nodeType":"JSXOpeningElement","endLine":110,"endColumn":39}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport { Trophy, Medal, Crown, User } from 'lucide-react';\r\nimport { useGameData } from '@/hooks/useGameData';\r\nimport { useAuth } from '@/context/AuthContext';\r\nimport { LeaderboardEntry } from '@/lib/firebase/firestore';\r\n\r\ninterface LeaderboardProps {\r\n    gameId: string;\r\n    gameName: string;\r\n    limit?: number;\r\n}\r\n\r\nexport function Leaderboard({ gameId, gameName, limit = 10 }: LeaderboardProps) {\r\n    const { user } = useAuth();\r\n    const { getLeaderboard, getRank, isLoading } = useGameData();\r\n    const [entries, setEntries] = useState<LeaderboardEntry[]>([]);\r\n    const [userRank, setUserRank] = useState<number | null>(null);\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            const leaderboardData = await getLeaderboard(gameId, limit);\r\n            setEntries(leaderboardData);\r\n\r\n            if (user) {\r\n                const rank = await getRank(gameId);\r\n                setUserRank(rank);\r\n            }\r\n        };\r\n\r\n        fetchData();\r\n    }, [gameId, limit, getLeaderboard, getRank, user]);\r\n\r\n    const getRankIcon = (rank: number) => {\r\n        switch (rank) {\r\n            case 1:\r\n                return <Crown className=\"w-5 h-5 text-yellow-400\" />;\r\n            case 2:\r\n                return <Medal className=\"w-5 h-5 text-gray-300\" />;\r\n            case 3:\r\n                return <Medal className=\"w-5 h-5 text-amber-600\" />;\r\n            default:\r\n                return <span className=\"text-gray-400 font-mono text-sm\">{rank}</span>;\r\n        }\r\n    };\r\n\r\n    const getRankBackground = (rank: number) => {\r\n        switch (rank) {\r\n            case 1:\r\n                return 'bg-gradient-to-r from-yellow-500/20 to-amber-500/10 border-yellow-500/30';\r\n            case 2:\r\n                return 'bg-gradient-to-r from-gray-400/20 to-gray-500/10 border-gray-400/30';\r\n            case 3:\r\n                return 'bg-gradient-to-r from-amber-600/20 to-orange-600/10 border-amber-600/30';\r\n            default:\r\n                return 'bg-white/5 border-white/10';\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"bg-gray-900/50 backdrop-blur-sm rounded-2xl border border-gray-700/50 overflow-hidden\">\r\n            {/* Header */}\r\n            <div className=\"px-6 py-4 border-b border-gray-700/50 flex items-center gap-3\">\r\n                <div className=\"w-10 h-10 rounded-xl bg-gradient-to-br from-violet-500 to-fuchsia-500 flex items-center justify-center\">\r\n                    <Trophy className=\"w-5 h-5 text-white\" />\r\n                </div>\r\n                <div>\r\n                    <h3 className=\"text-lg font-bold text-white\">{gameName} Leaderboard</h3>\r\n                    <p className=\"text-gray-400 text-sm\">Top {limit} players</p>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Leaderboard List */}\r\n            <div className=\"p-4 space-y-2\">\r\n                {isLoading ? (\r\n                    <div className=\"py-8 text-center text-gray-400\">\r\n                        <div className=\"w-8 h-8 border-2 border-violet-500 border-t-transparent rounded-full animate-spin mx-auto mb-2\" />\r\n                        Loading leaderboard...\r\n                    </div>\r\n                ) : entries.length === 0 ? (\r\n                    <div className=\"py-8 text-center text-gray-400\">\r\n                        <Trophy className=\"w-12 h-12 mx-auto mb-3 opacity-30\" />\r\n                        <p>No scores yet. Be the first!</p>\r\n                    </div>\r\n                ) : (\r\n                    entries.map((entry, index) => {\r\n                        const rank = index + 1;\r\n                        const isCurrentUser = user?.uid === entry.userId;\r\n\r\n                        return (\r\n                            <motion.div\r\n                                key={`${entry.userId}-${index}`}\r\n                                initial={{ opacity: 0, x: -20 }}\r\n                                animate={{ opacity: 1, x: 0 }}\r\n                                transition={{ delay: index * 0.05 }}\r\n                                className={`flex items-center gap-4 p-3 rounded-xl border transition-all ${getRankBackground(rank)} ${isCurrentUser ? 'ring-2 ring-primary/50' : ''\r\n                                    }`}\r\n                            >\r\n                                {/* Rank */}\r\n                                <div className=\"w-8 flex justify-center\">{getRankIcon(rank)}</div>\r\n\r\n                                {/* Avatar */}\r\n                                {entry.photoURL ? (\r\n                                    <img\r\n                                        src={entry.photoURL}\r\n                                        alt={entry.displayName}\r\n                                        className=\"w-10 h-10 rounded-full object-cover\"\r\n                                    />\r\n                                ) : (\r\n                                    <div className=\"w-10 h-10 rounded-full bg-primary flex items-center justify-center text-white font-semibold\">\r\n                                        {entry.displayName[0]?.toUpperCase() || <User size={18} />}\r\n                                    </div>\r\n                                )}\r\n\r\n                                {/* Name */}\r\n                                <div className=\"flex-1 min-w-0\">\r\n                                    <p className=\"text-white font-medium truncate\">\r\n                                        {entry.displayName}\r\n                                        {isCurrentUser && (\r\n                                            <span className=\"ml-2 text-xs text-violet-400\">(You)</span>\r\n                                        )}\r\n                                    </p>\r\n                                </div>\r\n\r\n                                {/* Score */}\r\n                                <div className=\"text-right\">\r\n                                    <p className=\"text-white font-bold text-lg\">\r\n                                        {entry.score.toLocaleString()}\r\n                                    </p>\r\n                                </div>\r\n                            </motion.div>\r\n                        );\r\n                    })\r\n                )}\r\n            </div>\r\n\r\n            {/* User's Rank (if not in top list) */}\r\n            {user && userRank && userRank > limit && (\r\n                <div className=\"px-4 pb-4\">\r\n                    <div className=\"border-t border-gray-700/50 pt-4\">\r\n                        <div className=\"flex items-center gap-4 p-3 rounded-xl bg-violet-500/10 border border-violet-500/30\">\r\n                            <div className=\"w-8 text-center text-violet-400 font-mono text-sm\">\r\n                                {userRank}\r\n                            </div>\r\n                            <div className=\"w-10 h-10 rounded-full bg-gradient-to-br from-violet-500 to-fuchsia-500 flex items-center justify-center text-white font-semibold text-sm\">\r\n                                {(user.displayName || 'Y')[0].toUpperCase()}\r\n                            </div>\r\n                            <div className=\"flex-1\">\r\n                                <p className=\"text-white font-medium\">Your Rank</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"R:\\Works\\Portfolio\\src\\components\\game\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"R:\\Works\\Portfolio\\src\\components\\layout\\BackgroundBlob.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"R:\\Works\\Portfolio\\src\\components\\layout\\Footer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"R:\\Works\\Portfolio\\src\\components\\layout\\FriendsDrawer.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ExternalLink' is defined but never used.","line":6,"column":55,"nodeType":"Identifier","messageId":"unusedVar","endLine":6,"endColumn":67,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"ExternalLink"},"fix":{"range":[244,258],"text":""},"desc":"Remove unused variable \"ExternalLink\"."}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":102,"column":53,"nodeType":"JSXOpeningElement","endLine":106,"endColumn":55}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { Friend, subscribeFriends } from \"@/lib/firebase/siteConfig\";\r\nimport { Github, Linkedin, Twitter, Instagram, Globe, ExternalLink, Users, X, ChevronRight } from \"lucide-react\";\r\nimport Link from \"next/link\";\r\nimport { useSiteConfig } from \"@/context/SiteConfigContext\";\r\n\r\nexport function FriendsDrawer() {\r\n    const { config } = useSiteConfig();\r\n    const [friends, setFriends] = useState<Friend[]>([]);\r\n    const [isOpen, setIsOpen] = useState(false);\r\n    const [expandedFriend, setExpandedFriend] = useState<string | null>(null);\r\n\r\n    useEffect(() => {\r\n        const unsubscribe = subscribeFriends((fetchedFriends) => {\r\n            setFriends(fetchedFriends);\r\n        });\r\n        return () => unsubscribe();\r\n    }, []);\r\n\r\n    // If no friends, render nothing\r\n    if (friends.length === 0) return null;\r\n\r\n    return (\r\n        <>\r\n            {/* Trigger Button */}\r\n            <motion.button\r\n                initial={{ x: 100 }}\r\n                animate={{ x: 0 }}\r\n                onClick={() => setIsOpen(true)}\r\n                className=\"fixed right-0 top-1/2 -translate-y-1/2 z-40 bg-zinc-900 border-l border-y border-white/10 p-3 rounded-l-xl shadow-2xl hover:bg-zinc-800 transition-colors group\"\r\n                whileHover={{ x: -5 }}\r\n                title=\"View Friends\"\r\n            >\r\n                <div className=\"flex flex-col items-center gap-2 text-slate-400 group-hover:text-white\">\r\n                    <Users size={20} />\r\n                    <span className=\"text-[10px] font-medium uppercase tracking-wider\" style={{ writingMode: 'vertical-rl' }}>\r\n                        People\r\n                    </span>\r\n                </div>\r\n            </motion.button>\r\n\r\n            {/* Backdrop */}\r\n            <AnimatePresence>\r\n                {isOpen && (\r\n                    <motion.div\r\n                        initial={{ opacity: 0 }}\r\n                        animate={{ opacity: 1 }}\r\n                        exit={{ opacity: 0 }}\r\n                        onClick={() => setIsOpen(false)}\r\n                        className=\"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 cursor-pointer\"\r\n                    />\r\n                )}\r\n            </AnimatePresence>\r\n\r\n            {/* Drawer */}\r\n            <AnimatePresence>\r\n                {isOpen && (\r\n                    <motion.div\r\n                        initial={{ x: \"100%\" }}\r\n                        animate={{ x: 0 }}\r\n                        exit={{ x: \"100%\" }}\r\n                        transition={{ type: \"spring\", damping: 25, stiffness: 200 }}\r\n                        className=\"fixed top-0 right-0 bottom-0 w-full sm:w-[400px] bg-[#0A0A0A] border-l border-white/10 z-[51] flex flex-col shadow-2xl\"\r\n                    >\r\n                        {/* Header */}\r\n                        <div className=\"p-6 border-b border-white/10 flex items-center justify-between bg-black/50 backdrop-blur-md\">\r\n                            <div>\r\n                                <h2 className=\"text-xl font-bold text-white\">\r\n                                    {config.friends?.title || 'Connect'}\r\n                                </h2>\r\n                                <p className=\"text-xs text-slate-400 mt-1\">\r\n                                    {friends.length} amazing people\r\n                                </p>\r\n                            </div>\r\n                            <button\r\n                                onClick={() => setIsOpen(false)}\r\n                                className=\"p-2 hover:bg-white/10 rounded-full transition-colors text-slate-400 hover:text-white\"\r\n                            >\r\n                                <X size={20} />\r\n                            </button>\r\n                        </div>\r\n\r\n                        {/* List */}\r\n                        <div className=\"flex-1 overflow-y-auto p-4 space-y-3 custom-scrollbar\">\r\n                            {friends.map((friend) => {\r\n                                const isExpanded = expandedFriend === friend.id;\r\n\r\n                                return (\r\n                                    <motion.div\r\n                                        layout\r\n                                        key={friend.id}\r\n                                        onClick={() => setExpandedFriend(isExpanded ? null : (friend.id || ''))}\r\n                                        className={`rounded-xl border ${isExpanded ? 'bg-white/5 border-violet-500/30' : 'bg-transparent border-transparent hover:bg-white/5 hover:border-white/5'} transition-colors overflow-hidden`}\r\n                                    >\r\n                                        <div className=\"p-3 flex items-center gap-3 cursor-pointer\">\r\n                                            {/* Avatar */}\r\n                                            <div className=\"relative w-12 h-12 flex-shrink-0\">\r\n                                                {friend.avatarUrl ? (\r\n                                                    <img\r\n                                                        src={friend.avatarUrl}\r\n                                                        alt={friend.name}\r\n                                                        className=\"w-full h-full rounded-full object-cover border-2 border-white/10\"\r\n                                                    />\r\n                                                ) : (\r\n                                                    <div className=\"w-full h-full rounded-full bg-primary flex items-center justify-center text-white text-lg font-bold\">\r\n                                                        {friend.name.charAt(0).toUpperCase()}\r\n                                                    </div>\r\n                                                )}\r\n                                            </div>\r\n\r\n                                            <div className=\"flex-1 min-w-0 text-left\">\r\n                                                <h3 className={`font-medium truncate ${isExpanded ? 'text-primary' : 'text-slate-200'}`}>\r\n                                                    {friend.name}\r\n                                                </h3>\r\n                                                <p className=\"text-xs text-slate-500 truncate\">\r\n                                                    {isExpanded ? 'Click to collapse' : friend.description}\r\n                                                </p>\r\n                                            </div>\r\n\r\n                                            <ChevronRight\r\n                                                size={16}\r\n                                                className={`text-slate-600 transition-transform duration-300 ${isExpanded ? 'rotate-90' : ''}`}\r\n                                            />\r\n                                        </div>\r\n\r\n                                        {/* Expanded Content */}\r\n                                        <AnimatePresence>\r\n                                            {isExpanded && (\r\n                                                <motion.div\r\n                                                    initial={{ height: 0, opacity: 0 }}\r\n                                                    animate={{ height: \"auto\", opacity: 1 }}\r\n                                                    exit={{ height: 0, opacity: 0 }}\r\n                                                    className=\"overflow-hidden\"\r\n                                                >\r\n                                                    <div className=\"p-4 pt-0 border-t border-white/5 mt-2\">\r\n                                                        <p className=\"text-sm text-slate-400 mt-3 leading-relaxed\">\r\n                                                            {friend.description}\r\n                                                        </p>\r\n\r\n                                                        {/* Actions */}\r\n                                                        <div className=\"flex flex-wrap gap-2 mt-4\">\r\n                                                            {friend.portfolioUrl && (\r\n                                                                <Link\r\n                                                                    href={friend.portfolioUrl}\r\n                                                                    target=\"_blank\"\r\n                                                                    className=\"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-violet-500/10 text-violet-400 text-xs font-medium hover:bg-violet-500/20 transition-colors\"\r\n                                                                >\r\n                                                                    <Globe size={12} /> Portfolio\r\n                                                                </Link>\r\n                                                            )}\r\n\r\n                                                            {friend.socialLinks?.github && (\r\n                                                                <Link href={friend.socialLinks.github} target=\"_blank\" className=\"p-1.5 rounded-lg bg-white/5 hover:bg-white/10 text-slate-400 hover:text-white transition-colors\">\r\n                                                                    <Github size={14} />\r\n                                                                </Link>\r\n                                                            )}\r\n                                                            {friend.socialLinks?.linkedin && (\r\n                                                                <Link href={friend.socialLinks.linkedin} target=\"_blank\" className=\"p-1.5 rounded-lg bg-white/5 hover:bg-white/10 text-slate-400 hover:text-[#0077b5] transition-colors\">\r\n                                                                    <Linkedin size={14} />\r\n                                                                </Link>\r\n                                                            )}\r\n                                                            {friend.socialLinks?.twitter && (\r\n                                                                <Link href={friend.socialLinks.twitter} target=\"_blank\" className=\"p-1.5 rounded-lg bg-white/5 hover:bg-white/10 text-slate-400 hover:text-[#1DA1F2] transition-colors\">\r\n                                                                    <Twitter size={14} />\r\n                                                                </Link>\r\n                                                            )}\r\n                                                            {friend.socialLinks?.instagram && (\r\n                                                                <Link href={friend.socialLinks.instagram} target=\"_blank\" className=\"p-1.5 rounded-lg bg-white/5 hover:bg-white/10 text-slate-400 hover:text-[#E4405F] transition-colors\">\r\n                                                                    <Instagram size={14} />\r\n                                                                </Link>\r\n                                                            )}\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </motion.div>\r\n                                            )}\r\n                                        </AnimatePresence>\r\n                                    </motion.div>\r\n                                );\r\n                            })}\r\n                        </div>\r\n                    </motion.div>\r\n                )}\r\n            </AnimatePresence>\r\n        </>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"R:\\Works\\Portfolio\\src\\components\\layout\\GameModeMain.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"R:\\Works\\Portfolio\\src\\components\\layout\\GameModeWrapper.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"R:\\Works\\Portfolio\\src\\components\\layout\\Navbar.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Layout' is defined but never used.","line":7,"column":54,"nodeType":"Identifier","messageId":"unusedVar","endLine":7,"endColumn":60,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Layout"},"fix":{"range":[236,244],"text":""},"desc":"Remove unused variable \"Layout\"."}]},{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nR:\\Works\\Portfolio\\src\\components\\layout\\Navbar.tsx:53:29\n  51 |         if (pathname !== \"/\" && pathname !== \"\") {\n  52 |             const idx = navItems.findIndex((item) => item.href === pathname);\n> 53 |             if (idx !== -1) setActiveIndex(idx);\n     |                             ^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  54 |             return;\n  55 |         }\n  56 |","line":53,"column":29,"nodeType":null,"endLine":53,"endColumn":43}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState, useEffect, useRef } from \"react\";\r\nimport Link from \"next/link\";\r\nimport { usePathname } from \"next/navigation\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport { Gamepad2, Home, User, Cpu, Mail, Briefcase, Layout } from \"lucide-react\";\r\nimport { motion } from \"framer-motion\";\r\n\r\nconst navItems = [\r\n    { name: \"Home\", href: \"/\", icon: Home, id: \"home\" },\r\n    { name: \"About\", href: \"/#about\", icon: User, id: \"about\" },\r\n    // { name: \"Services\", href: \"/#services\", icon: Layout, id: \"services\" },\r\n    { name: \"Exp\", href: \"/#experience\", icon: Briefcase, id: \"experience\" },\r\n    { name: \"Work\", href: \"/#projects\", icon: Cpu, id: \"projects\" },\r\n    { name: \"Arcade\", href: \"/arcade\", icon: Gamepad2, special: true },\r\n    { name: \"Contact\", href: \"/#contact\", icon: Mail, id: \"contact\" },\r\n];\r\n\r\nexport function Navbar() {\r\n    const pathname = usePathname();\r\n    const [activeIndex, setActiveIndex] = useState(0);\r\n    const [tabBounds, setTabBounds] = useState<{ left: number; width: number }[]>([]);\r\n    const navRef = useRef<HTMLDivElement>(null);\r\n    const itemRefs = useRef<(HTMLAnchorElement | null)[]>([]);\r\n\r\n    // Measure tab positions\r\n    useEffect(() => {\r\n        const measureTabs = () => {\r\n            // ... existing measurement logic is fine, keeping concise for tool call\r\n            if (!navRef.current) return;\r\n            const navRect = navRef.current.getBoundingClientRect();\r\n            const bounds = itemRefs.current.map((el) => {\r\n                if (!el) return { left: 0, width: 0 };\r\n                const rect = el.getBoundingClientRect();\r\n                return {\r\n                    left: rect.left - navRect.left,\r\n                    width: rect.width,\r\n                };\r\n            });\r\n            setTabBounds(bounds);\r\n        };\r\n\r\n        measureTabs();\r\n        window.addEventListener(\"resize\", measureTabs);\r\n        return () => window.removeEventListener(\"resize\", measureTabs);\r\n    }, []);\r\n\r\n    // Set active based on pathname or scroll (keeping existing logic)\r\n    useEffect(() => {\r\n        if (pathname !== \"/\" && pathname !== \"\") {\r\n            const idx = navItems.findIndex((item) => item.href === pathname);\r\n            if (idx !== -1) setActiveIndex(idx);\r\n            return;\r\n        }\r\n\r\n        const handleScroll = () => {\r\n            const sections = navItems.filter((item) => item.id).map((item) => item.id);\r\n            let current = \"home\";\r\n\r\n            for (const section of sections) {\r\n                const element = document.getElementById(section as string);\r\n                if (element) {\r\n                    const rect = element.getBoundingClientRect();\r\n                    const offset = window.innerHeight / 2;\r\n                    if (rect.top <= offset && rect.bottom >= offset) {\r\n                        current = section as string;\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (window.scrollY < 100) current = \"home\";\r\n\r\n            const foundIdx = navItems.findIndex((item) => item.id === current);\r\n            if (foundIdx !== -1) setActiveIndex(foundIdx);\r\n        };\r\n\r\n        window.addEventListener(\"scroll\", handleScroll);\r\n        handleScroll();\r\n        return () => window.removeEventListener(\"scroll\", handleScroll);\r\n    }, [pathname]);\r\n\r\n    const activeBounds = tabBounds[activeIndex] || { left: 0, width: 0 };\r\n    const activeItem = navItems[activeIndex];\r\n\r\n    return (\r\n        <div className=\"fixed bottom-6 left-1/2 -translate-x-1/2 z-50 w-[95%] max-w-2xl\">\r\n            {/* \"Window\" Title Bar for the Dock */}\r\n            <div className=\"absolute -top-3 left-1/2 -translate-x-1/2 bg-foreground text-background text-[10px] font-bold px-3 py-0.5 rounded-t-[4px] uppercase tracking-widest z-0 pointer-events-none\">\r\n                Navigation_Dock\r\n            </div>\r\n\r\n            <nav\r\n                ref={navRef}\r\n                className=\"relative flex items-center justify-between p-2 bg-background border-[length:var(--border-width)] border-foreground shadow-[6px_6px_0px_var(--foreground)] rounded-[radius:var(--border-radius)]\"\r\n            >\r\n                {/* The sliding indicator */}\r\n                <motion.div\r\n                    className={cn(\r\n                        \"absolute top-2 bottom-2 rounded-[radius:var(--border-radius)] border-[length:var(--border-width)] border-foreground -z-0 bg-accent/20\",\r\n                        activeItem?.special && \"bg-primary/20 border-primary\"\r\n                    )}\r\n                    animate={{\r\n                        left: activeBounds.left,\r\n                        width: activeBounds.width,\r\n                    }}\r\n                    transition={{\r\n                        type: \"spring\",\r\n                        stiffness: 300,\r\n                        damping: 30,\r\n                    }}\r\n                />\r\n\r\n                {navItems.map((item, index) => {\r\n                    const isActive = activeIndex === index;\r\n\r\n                    return (\r\n                        <Link\r\n                            key={item.href}\r\n                            ref={(el) => { itemRefs.current[index] = el; }}\r\n                            href={item.href}\r\n                            onClick={() => setActiveIndex(index)}\r\n                            className={cn(\r\n                                \"relative flex items-center justify-center gap-2 px-3 sm:px-5 py-2.5 rounded-[radius:var(--border-radius)] text-xs sm:text-sm font-bold transition-all duration-200 z-10 uppercase tracking-wide\",\r\n                                isActive ? \"text-foreground translate-y-[-1px]\" : \"text-muted-foreground hover:text-foreground\",\r\n                                !isActive && item.special && \"text-primary hover:text-primary hover:scale-110\"\r\n                            )}\r\n                        >\r\n                            <item.icon\r\n                                size={18}\r\n                                strokeWidth={2.5}\r\n                                className={cn(\r\n                                    item.special && isActive && \"animate-pulse\"\r\n                                )}\r\n                            />\r\n                            <span className=\"hidden sm:block\">{item.name}</span>\r\n                        </Link>\r\n                    );\r\n                })}\r\n            </nav>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"R:\\Works\\Portfolio\\src\\components\\layout\\TopBar.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'useEffect' is defined but never used.","line":3,"column":27,"nodeType":"Identifier","messageId":"unusedVar","endLine":3,"endColumn":36,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"useEffect"},"fix":{"range":[41,52],"text":""},"desc":"Remove unused variable \"useEffect\"."}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":48,"column":37,"nodeType":"JSXOpeningElement","endLine":52,"endColumn":39}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport Link from 'next/link';\r\nimport { motion, useScroll, useMotionValueEvent } from 'framer-motion';\r\nimport { UserMenu } from '@/components/auth/UserMenu';\r\nimport { AuthModal } from '@/components/auth/AuthModal';\r\nimport { Sparkles } from 'lucide-react';\r\n\r\nimport { useSiteConfig } from '@/context/SiteConfigContext';\r\n\r\nimport { Skeleton } from \"@/components/ui/skeleton\";\r\n\r\nexport function TopBar() {\r\n    const { config, loading } = useSiteConfig();\r\n    const [isAuthOpen, setIsAuthOpen] = useState(false);\r\n    const [isScrolled, setIsScrolled] = useState(false);\r\n    const { scrollY } = useScroll();\r\n\r\n    useMotionValueEvent(scrollY, \"change\", (latest) => {\r\n        setIsScrolled(latest > 20);\r\n    });\r\n\r\n    return (\r\n        <>\r\n            <motion.header\r\n                initial={{ y: -20, opacity: 0 }}\r\n                animate={{ y: 0, opacity: 1 }}\r\n                className={`fixed top-0 left-0 right-0 z-40 px-4 py-3 transition-all duration-300 ${isScrolled\r\n                    ? \"bg-black/50 backdrop-blur-md border-b border-white/5 shadow-lg\"\r\n                    : \"bg-transparent\"\r\n                    }`}\r\n            >\r\n                <div className=\"max-w-7xl mx-auto flex items-center justify-between\">\r\n                    {/* Logo */}\r\n                    <Link\r\n                        href=\"/\"\r\n                        className=\"flex items-center gap-2 text-white font-bold text-lg hover:opacity-80 transition-opacity\"\r\n                    >\r\n                        {loading ? (\r\n                            <>\r\n                                <Skeleton className=\"w-8 h-8 rounded-lg\" />\r\n                                <Skeleton className=\"w-24 h-6 rounded hidden sm:block\" />\r\n                            </>\r\n                        ) : (\r\n                            <>\r\n                                {config.logoUrl ? (\r\n                                    <img\r\n                                        src={config.logoUrl}\r\n                                        alt={config.siteName}\r\n                                        className=\"w-8 h-8 rounded-lg object-contain\"\r\n                                    />\r\n                                ) : (\r\n                                    <div className=\"w-8 h-8 rounded-lg bg-primary flex items-center justify-center text-white\">\r\n                                        <Sparkles size={18} />\r\n                                    </div>\r\n                                )}\r\n                                <span className=\"hidden sm:block\">{config.siteName}</span>\r\n                            </>\r\n                        )}\r\n                    </Link>\r\n\r\n                    {/* User Menu */}\r\n                    <UserMenu onOpenAuth={() => setIsAuthOpen(true)} />\r\n                </div>\r\n            </motion.header>\r\n\r\n            {/* Auth Modal */}\r\n            <AuthModal isOpen={isAuthOpen} onClose={() => setIsAuthOpen(false)} />\r\n        </>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"R:\\Works\\Portfolio\\src\\components\\sections\\About.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"R:\\Works\\Portfolio\\src\\components\\sections\\Academic.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'formatDuration' is defined but never used.","line":7,"column":22,"nodeType":"Identifier","messageId":"unusedVar","endLine":7,"endColumn":36,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"formatDuration"},"fix":{"range":[291,307],"text":""},"desc":"Remove unused variable \"formatDuration\"."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useEffect, useState } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport { GraduationCap, MapPin, ExternalLink, Calendar } from 'lucide-react';\r\nimport { Education, getEducation, SiteConfig } from '@/lib/firebase/siteConfig';\r\nimport { formatDate, formatDuration } from '@/lib/utils';\r\n\r\ninterface AcademicProps {\r\n    config: SiteConfig['academic'];\r\n}\r\n\r\nexport function AcademicSection({ config }: AcademicProps) {\r\n    const [education, setEducation] = useState<Education[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        const loadData = async () => {\r\n            const data = await getEducation();\r\n            setEducation(data);\r\n            setLoading(false);\r\n        };\r\n        loadData();\r\n    }, []);\r\n\r\n    if (loading || education.length === 0) return null;\r\n\r\n    return (\r\n        <section id=\"academic\" className=\"py-24 bg-background relative overflow-hidden\">\r\n            <div className=\"container mx-auto max-w-7xl px-4 sm:px-6 lg:px-8\">\r\n                <div className=\"flex flex-col md:flex-row md:items-end justify-between mb-20 gap-6 border-b-[length:var(--border-width)] border-foreground pb-8\">\r\n                    <div className=\"max-w-2xl\">\r\n                        <motion.div\r\n                            initial={{ opacity: 0, x: -20 }}\r\n                            whileInView={{ opacity: 1, x: 0 }}\r\n                            viewport={{ once: true }}\r\n                            className=\"flex items-center gap-2 text-primary font-bold tracking-widest uppercase text-sm mb-4\"\r\n                        >\r\n                            <GraduationCap size={18} />\r\n                            Academic Background\r\n                        </motion.div>\r\n                        <motion.h2\r\n                            initial={{ opacity: 0, y: 20 }}\r\n                            whileInView={{ opacity: 1, y: 0 }}\r\n                            viewport={{ once: true }}\r\n                            transition={{ delay: 0.1 }}\r\n                            className=\"text-5xl md:text-7xl font-black text-foreground uppercase tracking-tighter\"\r\n                        >\r\n                            {config.title}\r\n                        </motion.h2>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-10\">\r\n                    {education.map((edu, index) => (\r\n                        <AcademicCard key={edu.id} edu={edu} index={index} />\r\n                    ))}\r\n                </div>\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n\r\nfunction AcademicCard({ edu, index }: { edu: Education; index: number }) {\r\n    return (\r\n        <motion.div\r\n            initial={{ opacity: 0, y: 30 }}\r\n            whileInView={{ opacity: 1, y: 0 }}\r\n            viewport={{ once: true }}\r\n            transition={{ duration: 0.5, delay: index * 0.1 }}\r\n            className=\"group relative h-full\"\r\n        >\r\n            <div className=\"retro-card bg-card p-0 overflow-hidden border-foreground h-full flex flex-col hover:shadow-[10px_10px_0px_var(--foreground)] transition-shadow duration-300\">\r\n                {/* Header Bar */}\r\n                <div className=\"border-b-[length:var(--border-width)] border-foreground p-3 bg-muted/50 flex justify-between items-center\">\r\n                    <div className=\"font-mono text-xs font-bold uppercase tracking-wider text-muted-foreground flex items-center gap-2\">\r\n                        <GraduationCap size={14} /> ACCOUNT_EDU_0{index + 1}\r\n                    </div>\r\n                    <div className=\"w-2 h-2 bg-foreground rounded-full\" />\r\n                </div>\r\n\r\n                <div className=\"p-8 flex flex-col flex-1\">\r\n                    <div className=\"flex justify-between items-start mb-6\">\r\n                        <div className=\"p-3 rounded-[radius:var(--border-radius)] bg-primary/10 text-primary border-[length:var(--border-width)] border-primary/20 group-hover:bg-primary group-hover:text-primary-foreground group-hover:border-foreground transition-all duration-300 shadow-[4px_4px_0px_var(--foreground)]\">\r\n                            <GraduationCap size={28} strokeWidth={1.5} />\r\n                        </div>\r\n                        {edu.link && (\r\n                            <a\r\n                                href={edu.link}\r\n                                target=\"_blank\"\r\n                                rel=\"noopener noreferrer\"\r\n                                className=\"p-2 border-[length:var(--border-width)] border-foreground rounded-[radius:var(--border-radius)] hover:bg-foreground hover:text-background transition-colors\"\r\n                            >\r\n                                <ExternalLink size={18} />\r\n                            </a>\r\n                        )}\r\n                    </div>\r\n\r\n                    <div className=\"space-y-4 flex-1\">\r\n                        <div>\r\n                            <div className=\"flex items-center gap-2 text-primary font-bold text-sm mb-2 uppercase tracking-wide\">\r\n                                <Calendar size={14} />\r\n                                {formatDate(edu.startDate)}  {edu.isCurrent ? 'Present' : (edu.endDate ? formatDate(edu.endDate) : 'Present')}\r\n                            </div>\r\n                            <h3 className=\"text-2xl font-black text-foreground uppercase leading-tight mb-2\">\r\n                                {edu.degree}\r\n                            </h3>\r\n                            {edu.score && (\r\n                                <div className=\"inline-block px-2 py-1 bg-muted font-mono text-xs font-bold border-[length:var(--border-width)] border-foreground/30 rounded-[radius:var(--border-radius)] mb-2\">\r\n                                    GRADE: {edu.score}\r\n                                </div>\r\n                            )}\r\n                            <div className=\"flex items-center gap-2 text-muted-foreground font-bold text-lg mt-1\">\r\n                                <MapPin size={16} />\r\n                                {edu.institution}\r\n                            </div>\r\n                        </div>\r\n\r\n                        {edu.description && (\r\n                            <p className=\"text-muted-foreground/80 leading-relaxed pt-6 border-t-[length:var(--border-width)] border-dashed border-foreground/20 mt-auto\">\r\n                                {edu.description}\r\n                            </p>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </motion.div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"R:\\Works\\Portfolio\\src\\components\\sections\\Achievements.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Medal' is defined but never used.","line":5,"column":49,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":54,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Medal"},"fix":{"range":[157,164],"text":""},"desc":"Remove unused variable \"Medal\"."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":50,"column":25,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[2313,2340],"text":"\r\n                        &quot;"},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[2313,2340],"text":"\r\n                        &ldquo;"},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[2313,2340],"text":"\r\n                        &#34;"},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[2313,2340],"text":"\r\n                        &rdquo;"},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":50,"column":43,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[2357,2380],"text":"&quot;\r\n                    "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[2357,2380],"text":"&ldquo;\r\n                    "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[2357,2380],"text":"&#34;\r\n                    "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[2357,2380],"text":"&rdquo;\r\n                    "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":76,"column":25,"nodeType":"JSXOpeningElement","endLine":80,"endColumn":27}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useEffect, useState } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport { Trophy, Award, ExternalLink, Calendar, Medal } from 'lucide-react';\r\nimport { Achievement, getAchievements, SiteConfig } from '@/lib/firebase/siteConfig';\r\n\r\ninterface AchievementsProps {\r\n    config: SiteConfig['achievements'];\r\n}\r\n\r\nexport function AchievementsSection({ config }: AchievementsProps) {\r\n    const [achievements, setAchievements] = useState<Achievement[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        const loadData = async () => {\r\n            const data = await getAchievements();\r\n            setAchievements(data);\r\n            setLoading(false);\r\n        };\r\n        loadData();\r\n    }, []);\r\n\r\n    if (loading || achievements.length === 0) return null;\r\n\r\n    return (\r\n        <section id=\"achievements\" className=\"py-24 relative overflow-hidden bg-background\">\r\n            <div className=\"container mx-auto max-w-7xl px-4 sm:px-6 lg:px-8\">\r\n                <div className=\"mb-20\">\r\n                    <div className=\"inline-block px-4 py-2 bg-yellow-400 text-black border-[length:var(--border-width)] border-foreground rounded-[radius:var(--border-radius)] font-mono text-sm font-bold uppercase tracking-widest mb-6 shadow-[4px_4px_0px_var(--foreground)] transform rotate-1\">\r\n                        <Trophy size={16} className=\"inline mr-2\" />\r\n                        Hall_of_Fame\r\n                    </div>\r\n                    <motion.h2\r\n                        initial={{ opacity: 0, x: -50 }}\r\n                        whileInView={{ opacity: 1, x: 0 }}\r\n                        viewport={{ once: true }}\r\n                        className=\"text-5xl md:text-7xl font-black text-foreground uppercase tracking-tighter mb-4\"\r\n                    >\r\n                        {config.title}\r\n                    </motion.h2>\r\n                    <motion.p\r\n                        initial={{ opacity: 0, x: -50 }}\r\n                        whileInView={{ opacity: 1, x: 0 }}\r\n                        viewport={{ once: true }}\r\n                        transition={{ delay: 0.1 }}\r\n                        className=\"text-muted-foreground text-xl italic font-serif border-l-4 border-yellow-400 pl-6\"\r\n                    >\r\n                        \"{config.subtitle}\"\r\n                    </motion.p>\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-8\">\r\n                    {achievements.map((ach, index) => (\r\n                        <AchievementCard key={ach.id} ach={ach} index={index} />\r\n                    ))}\r\n                </div>\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n\r\nfunction AchievementCard({ ach, index }: { ach: Achievement; index: number }) {\r\n    return (\r\n        <motion.div\r\n            initial={{ opacity: 0, y: 30 }}\r\n            whileInView={{ opacity: 1, y: 0 }}\r\n            viewport={{ once: true }}\r\n            transition={{ duration: 0.5, delay: index * 0.1 }}\r\n            className=\"group h-full\"\r\n        >\r\n            <div className=\"retro-card bg-card p-0 overflow-hidden border-foreground h-full flex flex-col hover:shadow-[10px_10px_0px_rgba(250,204,21,1)] hover:border-yellow-500 transition-all duration-300\">\r\n                {ach.imageUrl && (\r\n                    <div className=\"relative aspect-video border-b-[length:var(--border-width)] border-foreground overflow-hidden\">\r\n                        <img\r\n                            src={ach.imageUrl}\r\n                            alt={ach.title}\r\n                            className=\"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700 grayscale group-hover:grayscale-0\"\r\n                        />\r\n                        <div className=\"absolute top-2 right-2 px-2 py-1 bg-yellow-400 text-black text-xs font-bold border border-black rounded uppercase tracking-wider\">\r\n                            Verified\r\n                        </div>\r\n                    </div>\r\n                )}\r\n\r\n                <div className=\"p-6 flex flex-col flex-1\">\r\n                    <div className=\"flex items-center gap-3 mb-4\">\r\n                        <div className=\"p-2 rounded-[radius:var(--border-radius)] bg-yellow-400 text-black border-[length:var(--border-width)] border-black shadow-[2px_2px_0px_black]\">\r\n                            <Award size={20} className=\"stroke-[2.5px]\" />\r\n                        </div>\r\n                        <span className=\"text-muted-foreground text-xs font-bold uppercase tracking-wider flex items-center gap-1 font-mono\">\r\n                            <Calendar size={12} />\r\n                            {ach.date}\r\n                        </span>\r\n                    </div>\r\n\r\n                    <h3 className=\"text-xl font-black text-foreground uppercase mb-1 leading-tight group-hover:text-yellow-600 transition-colors\">\r\n                        {ach.title}\r\n                    </h3>\r\n                    <p className=\"text-primary font-bold text-sm mb-4 uppercase tracking-wide\">{ach.issuer}</p>\r\n\r\n                    {ach.description && (\r\n                        <p className=\"text-muted-foreground text-sm leading-relaxed mb-6 pt-4 border-t-[length:var(--border-width)] border-dashed border-foreground/20\">\r\n                            {ach.description}\r\n                        </p>\r\n                    )}\r\n\r\n                    <div className=\"mt-auto\">\r\n                        {ach.link ? (\r\n                            <a\r\n                                href={ach.link}\r\n                                target=\"_blank\"\r\n                                rel=\"noopener noreferrer\"\r\n                                className=\"inline-flex items-center gap-2 text-xs font-black uppercase tracking-widest text-foreground hover:text-yellow-600 transition-colors group/link\"\r\n                            >\r\n                                Verify Credential\r\n                                <ExternalLink size={12} className=\"group-hover/link:translate-x-1 transition-transform\" />\r\n                            </a>\r\n                        ) : (\r\n                            <span className=\"text-xs text-muted-foreground font-bold uppercase tracking-widest opacity-50 cursor-not-allowed\">Internal Recognition</span>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </motion.div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"R:\\Works\\Portfolio\\src\\components\\sections\\Experience.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ChevronRight' is defined but never used.","line":5,"column":45,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":57,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"ChevronRight"},"fix":{"range":[153,167],"text":""},"desc":"Remove unused variable \"ChevronRight\"."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useEffect, useState } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport { Briefcase, Calendar, ExternalLink, ChevronRight } from 'lucide-react';\r\nimport { Experience, getExperience, SiteConfig } from '@/lib/firebase/siteConfig';\r\nimport { formatDate, formatDuration } from '@/lib/utils';\r\n\r\ninterface ExperienceProps {\r\n    config: SiteConfig['experience'];\r\n}\r\n\r\nexport function ExperienceSection({ config }: ExperienceProps) {\r\n    const [experiences, setExperiences] = useState<Experience[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        const loadData = async () => {\r\n            const data = await getExperience();\r\n            setExperiences(data);\r\n            setLoading(false);\r\n        };\r\n        loadData();\r\n    }, []);\r\n\r\n    if (loading || experiences.length === 0) return null;\r\n\r\n    return (\r\n        <section id=\"experience\" className=\"py-24 relative overflow-hidden bg-background\">\r\n            <div className=\"container mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 relative z-10\">\r\n                <div className=\"text-left mb-20 border-l-[length:var(--border-width)] border-foreground pl-6 ml-4\">\r\n                    <motion.div\r\n                        initial={{ opacity: 0, x: -20 }}\r\n                        whileInView={{ opacity: 1, x: 0 }}\r\n                        viewport={{ once: true }}\r\n                        className=\"inline-flex items-center gap-2 px-3 py-1 bg-primary text-primary-foreground text-sm font-bold uppercase tracking-widest mb-4 transform -skew-x-12\"\r\n                    >\r\n                        <Briefcase size={16} />\r\n                        Experience Log\r\n                    </motion.div>\r\n                    <motion.h2\r\n                        initial={{ opacity: 0, x: -20 }}\r\n                        whileInView={{ opacity: 1, x: 0 }}\r\n                        viewport={{ once: true }}\r\n                        transition={{ delay: 0.1 }}\r\n                        className=\"text-5xl md:text-6xl font-black text-foreground uppercase tracking-tighter\"\r\n                    >\r\n                        {config.title}\r\n                    </motion.h2>\r\n                </div>\r\n\r\n                <div className=\"relative border-l-[length:var(--border-width)] border-dashed border-foreground/30 ml-4 md:ml-10 space-y-16 pl-8 md:pl-16 py-8\">\r\n                    {experiences.map((exp, index) => (\r\n                        <ExperienceCard key={exp.id} exp={exp} index={index} />\r\n                    ))}\r\n                </div>\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n\r\nfunction ExperienceCard({ exp, index }: { exp: Experience; index: number }) {\r\n    return (\r\n        <motion.div\r\n            initial={{ opacity: 0, x: -20 }}\r\n            whileInView={{ opacity: 1, x: 0 }}\r\n            viewport={{ once: true }}\r\n            transition={{ duration: 0.5, delay: index * 0.1 }}\r\n            className=\"relative\"\r\n        >\r\n            {/* Timeline Node */}\r\n            <div className=\"absolute -left-[41px] md:-left-[73px] top-6 w-5 h-5 bg-background border-[length:var(--border-width)] border-foreground rounded-full flex items-center justify-center z-20 group\">\r\n                <div className=\"w-2 h-2 bg-primary rounded-full group-hover:animate-ping\" />\r\n            </div>\r\n\r\n            <div className=\"retro-card p-0 bg-card border-foreground group hover:shadow-[8px_8px_0px_var(--foreground)] transition-all duration-300\">\r\n                {/* Header Bar */}\r\n                <div className=\"flex flex-col md:flex-row border-b-[length:var(--border-width)] border-foreground divide-y md:divide-y-0 md:divide-x divide-foreground bg-muted/30\">\r\n                    <div className=\"p-4 flex-1 font-mono text-sm font-bold uppercase tracking-wider text-muted-foreground flex items-center gap-2\">\r\n                        <Calendar size={14} className=\"text-primary\" />\r\n                        {formatDate(exp.startDate)}  {exp.isCurrent ? <span className=\"text-primary\">PRESENT</span> : (exp.endDate ? formatDate(exp.endDate) : 'Present')}\r\n                    </div>\r\n                    <div className=\"p-4 font-mono text-xs font-bold uppercase text-muted-foreground bg-background/50\">\r\n                        {formatDuration(exp.startDate, exp.endDate, exp.isCurrent)}\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"p-6 md:p-8\">\r\n                    <div className=\"flex flex-col md:flex-row gap-4 justify-between items-start mb-6\">\r\n                        <div>\r\n                            <h3 className=\"text-2xl font-black uppercase text-foreground mb-1\">\r\n                                {exp.role}\r\n                            </h3>\r\n                            <div className=\"flex items-center gap-2 text-xl font-bold text-muted-foreground\">\r\n                                <span className=\"text-primary\">@</span> {exp.company}\r\n                            </div>\r\n                        </div>\r\n                        {exp.link && (\r\n                            <a\r\n                                href={exp.link}\r\n                                target=\"_blank\"\r\n                                rel=\"noopener noreferrer\"\r\n                                className=\"px-4 py-2 border-[length:var(--border-width)] border-foreground rounded-[radius:var(--border-radius)] text-sm font-bold uppercase hover:bg-foreground hover:text-background transition-colors flex items-center gap-2\"\r\n                            >\r\n                                Company URL <ExternalLink size={14} />\r\n                            </a>\r\n                        )}\r\n                    </div>\r\n\r\n                    <p className=\"text-muted-foreground text-lg leading-relaxed mb-8 max-w-4xl border-l-[length:var(--border-width)] border-primary/20 pl-4\">\r\n                        {exp.description}\r\n                    </p>\r\n\r\n                    {exp.technologies && exp.technologies.length > 0 && (\r\n                        <div className=\"flex flex-wrap gap-2 pt-4 border-t-[length:var(--border-width)] border-dashed border-foreground/20\">\r\n                            {exp.technologies.map((tech) => (\r\n                                <span\r\n                                    key={tech}\r\n                                    className=\"px-2 py-1 bg-muted/50 border-[length:var(--border-width)] border-transparent hover:border-foreground rounded-[radius:var(--border-radius)] text-xs font-mono font-bold text-muted-foreground hover:text-foreground transition-all uppercase\"\r\n                                >\r\n                                    #{tech}\r\n                                </span>\r\n                            ))}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </motion.div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"R:\\Works\\Portfolio\\src\\components\\sections\\Friends.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ChevronLeft' is defined but never used.","line":6,"column":86,"nodeType":"Identifier","messageId":"unusedVar","endLine":6,"endColumn":97,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"ChevronLeft"},"fix":{"range":[275,288],"text":""},"desc":"Remove unused variable \"ChevronLeft\"."}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":89,"column":49,"nodeType":"JSXOpeningElement","endLine":93,"endColumn":51},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":154,"column":45,"nodeType":"JSXOpeningElement","endLine":158,"endColumn":47}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { Friend, subscribeFriends } from \"@/lib/firebase/siteConfig\";\r\nimport { Github, Linkedin, Twitter, Instagram, Globe, ExternalLink, X, ChevronRight, ChevronLeft } from \"lucide-react\";\r\nimport Link from \"next/link\";\r\nimport { useSiteConfig } from \"@/context/SiteConfigContext\";\r\nimport { Skeleton } from \"@/components/ui/skeleton\";\r\n\r\nexport function Friends() {\r\n    const { config, loading: configLoading } = useSiteConfig(); // Rename to avoid conflict\r\n    const [friends, setFriends] = useState<Friend[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [selectedFriend, setSelectedFriend] = useState<Friend | null>(null);\r\n\r\n    useEffect(() => {\r\n        const unsubscribe = subscribeFriends((fetchedFriends) => {\r\n            setFriends(fetchedFriends);\r\n            setLoading(false);\r\n        });\r\n\r\n        return () => unsubscribe();\r\n    }, []);\r\n\r\n    const { friends: friendsConfig } = config;\r\n\r\n    if (!loading && friends.length === 0) {\r\n        return null;\r\n    }\r\n\r\n    return (\r\n        <section className=\"py-24 relative overflow-hidden\">\r\n            <div className=\"container mx-auto max-w-7xl px-4 sm:px-6 lg:px-8\">\r\n                {/* Header */}\r\n                <div className=\"mb-10 flex flex-col md:flex-row md:items-end justify-between gap-4\">\r\n                    <div>\r\n                        {configLoading ? (\r\n                            <Skeleton className=\"h-10 w-64 mb-2 rounded\" />\r\n                        ) : (\r\n                            <h2 className=\"text-3xl md:text-4xl font-bold text-white mb-2\">\r\n                                {friendsConfig?.title || 'Cool People I Know'}\r\n                            </h2>\r\n                        )}\r\n                        {configLoading ? (\r\n                            <Skeleton className=\"h-5 w-96 rounded\" />\r\n                        ) : (\r\n                            <p className=\"text-slate-400 text-lg max-w-2xl\">\r\n                                {friendsConfig?.subtitle || \"Amazing developers, designers, and creators I'm lucky to call friends.\"}\r\n                            </p>\r\n                        )}\r\n                    </div>\r\n\r\n                    {/* Scroll hint or navigation could go here */}\r\n                    <div className=\"text-slate-500 text-sm hidden md:flex items-center gap-2\">\r\n                        Scroll to explore <ChevronRight size={16} />\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Horizontal Scroll Area */}\r\n                <div className=\"relative -mx-4 px-4 md:mx-0 md:px-0\">\r\n                    {/* Fade overlay for right side indicating scroll */}\r\n                    <div className=\"absolute right-0 top-0 bottom-0 w-24 bg-gradient-to-l from-[#050505] to-transparent z-10 pointer-events-none md:hidden\" />\r\n\r\n                    <div className=\"flex overflow-x-auto pb-8 pt-2 gap-6 snap-x snap-mandatory scrollbar-hide\">\r\n                        {loading ? (\r\n                            // Loading Skeletons\r\n                            [1, 2, 3, 4].map((i) => (\r\n                                <div key={i} className=\"flex-none w-64 md:w-72 h-80 rounded-2xl bg-white/5 animate-pulse border border-white/5\" />\r\n                            ))\r\n                        ) : (\r\n                            // Friend Cards\r\n                            friends.map((friend) => (\r\n                                <motion.div\r\n                                    key={friend.id}\r\n                                    layoutId={`card-${friend.id}`}\r\n                                    onClick={() => setSelectedFriend(friend)}\r\n                                    className=\"flex-none w-64 md:w-72 relative group cursor-pointer snap-start\"\r\n                                    initial={{ opacity: 0, scale: 0.9 }}\r\n                                    whileInView={{ opacity: 1, scale: 1 }}\r\n                                    viewport={{ once: true }}\r\n                                    whileHover={{ y: -5 }}\r\n                                >\r\n                                    <div className=\"h-80 rounded-2xl bg-gradient-to-b from-white/10 to-white/5 border border-white/10 p-6 flex flex-col items-center text-center backdrop-blur-sm hover:border-primary/50 hover:shadow-[0_0_30px_rgba(var(--primary-rgb),0.15)] transition-all duration-300\">\r\n\r\n                                        {/* Avatar */}\r\n                                        <div className=\"relative w-24 h-24 mb-4\">\r\n                                            {friend.avatarUrl ? (\r\n                                                <img\r\n                                                    src={friend.avatarUrl}\r\n                                                    alt={friend.name}\r\n                                                    className=\"w-full h-full rounded-full object-cover border-4 border-white/10 group-hover:border-primary transition-colors bg-[#111]\"\r\n                                                />\r\n                                            ) : (\r\n                                                <div className=\"w-full h-full rounded-full bg-primary flex items-center justify-center text-white text-3xl font-bold border-4 border-white/10\">\r\n                                                    {friend.name.charAt(0).toUpperCase()}\r\n                                                </div>\r\n                                            )}\r\n                                        </div>\r\n\r\n                                        {/* Name & Role */}\r\n                                        <h3 className=\"text-xl font-bold text-white mb-2 group-hover:text-primary transition-colors\">\r\n                                            {friend.name}\r\n                                        </h3>\r\n                                        <p className=\"text-sm text-slate-400 line-clamp-3 mb-4 flex-1\">\r\n                                            {friend.description}\r\n                                        </p>\r\n\r\n                                        {/* View Profile Action */}\r\n                                        <div className=\"mt-auto px-4 py-2 rounded-full bg-white/5 text-sm font-medium text-white group-hover:bg-primary transition-colors\">\r\n                                            View Profile\r\n                                        </div>\r\n                                    </div>\r\n                                </motion.div>\r\n                            ))\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Sidebar / Drawer */}\r\n            <AnimatePresence>\r\n                {selectedFriend && (\r\n                    <>\r\n                        {/* Backdrop */}\r\n                        <motion.div\r\n                            initial={{ opacity: 0 }}\r\n                            animate={{ opacity: 1 }}\r\n                            exit={{ opacity: 0 }}\r\n                            onClick={() => setSelectedFriend(null)}\r\n                            className=\"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 cursor-pointer\"\r\n                        />\r\n\r\n                        {/* Sidebar */}\r\n                        <motion.div\r\n                            layoutId={`card-${selectedFriend.id}`}\r\n                            initial={{ x: \"100%\" }}\r\n                            animate={{ x: 0 }}\r\n                            exit={{ x: \"100%\" }}\r\n                            transition={{ type: \"spring\", damping: 25, stiffness: 200 }}\r\n                            className=\"fixed top-0 right-0 bottom-0 w-full md:w-[480px] bg-[#0A0A0A] border-l border-white/10 z-[51] overflow-y-auto shadow-2xl\"\r\n                        >\r\n                            <div className=\"min-h-full p-8 flex flex-col\">\r\n                                <button\r\n                                    onClick={() => setSelectedFriend(null)}\r\n                                    className=\"absolute top-6 right-6 p-2 rounded-full bg-white/5 hover:bg-white/10 text-white transition-colors\"\r\n                                >\r\n                                    <X size={20} />\r\n                                </button>\r\n\r\n                                <div className=\"mt-8 flex flex-col items-center text-center\">\r\n                                    <div className=\"w-32 h-32 mb-6 rounded-full overflow-hidden border-4 border-violet-500/20 shadow-[0_0_40px_rgba(139,92,246,0.3)]\">\r\n                                        {selectedFriend.avatarUrl ? (\r\n                                            <img\r\n                                                src={selectedFriend.avatarUrl}\r\n                                                alt={selectedFriend.name}\r\n                                                className=\"w-full h-full object-cover\"\r\n                                            />\r\n                                        ) : (\r\n                                            <div className=\"w-full h-full bg-gradient-to-br from-violet-600 to-fuchsia-600 flex items-center justify-center text-white text-4xl font-bold\">\r\n                                                {selectedFriend.name.charAt(0).toUpperCase()}\r\n                                            </div>\r\n                                        )}\r\n                                    </div>\r\n\r\n                                    <h2 className=\"text-3xl font-bold text-white mb-2\">{selectedFriend.name}</h2>\r\n\r\n                                    {selectedFriend.portfolioUrl && (\r\n                                        <Link\r\n                                            href={selectedFriend.portfolioUrl}\r\n                                            target=\"_blank\"\r\n                                            className=\"inline-flex items-center gap-2 text-violet-400 hover:text-violet-300 transition-colors mb-6\"\r\n                                        >\r\n                                            <Globe size={16} />\r\n                                            Visit Portfolio <ExternalLink size={14} />\r\n                                        </Link>\r\n                                    )}\r\n\r\n                                    <p className=\"text-slate-300 text-lg leading-relaxed mb-8 max-w-md\">\r\n                                        {selectedFriend.description}\r\n                                    </p>\r\n\r\n                                    {/* Social Links Grid */}\r\n                                    <div className=\"w-full grid grid-cols-2 gap-3 mb-8\">\r\n                                        {Object.entries(selectedFriend.socialLinks || {}).map(([platform, url]) => {\r\n                                            if (!url) return null;\r\n\r\n                                            const icons = {\r\n                                                github: Github,\r\n                                                linkedin: Linkedin,\r\n                                                twitter: Twitter,\r\n                                                instagram: Instagram,\r\n                                                website: Globe\r\n                                            };\r\n                                            const Icon = icons[platform as keyof typeof icons] || Globe;\r\n\r\n                                            return (\r\n                                                <Link\r\n                                                    key={platform}\r\n                                                    href={url}\r\n                                                    target=\"_blank\"\r\n                                                    className=\"flex items-center justify-center gap-3 p-4 rounded-xl bg-white/5 border border-white/5 hover:bg-white/10 hover:border-violet-500/30 hover:shadow-[0_0_15px_rgba(139,92,246,0.1)] transition-all group\"\r\n                                                >\r\n                                                    <Icon size={20} className=\"text-slate-400 group-hover:text-white transition-colors\" />\r\n                                                    <span className=\"capitalize text-sm font-medium text-slate-300 group-hover:text-white\">\r\n                                                        {platform}\r\n                                                    </span>\r\n                                                </Link>\r\n                                            );\r\n                                        })}\r\n                                    </div>\r\n\r\n                                    <div className=\"mt-auto w-full pt-8 border-t border-white/10\">\r\n                                        <p className=\"text-sm text-slate-500 mb-4\">\r\n                                            Know this person?\r\n                                        </p>\r\n                                        <button\r\n                                            onClick={() => window.open(`mailto:?subject=Connecting with ${selectedFriend.name}&body=Hey, I saw ${selectedFriend.name} on your portfolio!`, '_blank')}\r\n                                            className=\"w-full py-3 rounded-xl bg-gradient-to-r from-violet-600 to-fuchsia-600 text-white font-medium hover:opacity-90 transition-opacity\"\r\n                                        >\r\n                                            Connect\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </motion.div>\r\n                    </>\r\n                )}\r\n            </AnimatePresence>\r\n        </section>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"R:\\Works\\Portfolio\\src\\components\\sections\\Hero.tsx","messages":[{"ruleId":"react/jsx-no-comment-textnodes","severity":2,"message":"Comments inside children section of tag should be placed inside braces","line":20,"column":31,"nodeType":"JSXText","messageId":"putCommentInBraces","endLine":20,"endColumn":46},{"ruleId":"react/jsx-no-comment-textnodes","severity":2,"message":"Comments inside children section of tag should be placed inside braces","line":28,"column":31,"nodeType":"JSXText","messageId":"putCommentInBraces","endLine":28,"endColumn":46}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { motion } from \"framer-motion\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { ArrowRight, Gamepad2 } from \"lucide-react\";\r\nimport Link from \"next/link\";\r\nimport { useSiteConfig } from \"@/context/SiteConfigContext\";\r\n\r\nimport { Skeleton } from \"@/components/ui/skeleton\";\r\n\r\nexport function Hero() {\r\n    const { config, loading } = useSiteConfig();\r\n    const { hero } = config;\r\n\r\n    return (\r\n        <section id=\"home\" className=\"min-h-screen pt-32 pb-16 flex flex-col justify-center relative overflow-hidden bg-background\">\r\n            <div className=\"absolute top-0 w-full border-b-[length:var(--border-width)] border-border bg-card/50 backdrop-blur-sm z-30\">\r\n                <div className=\"overflow-hidden whitespace-nowrap py-2 flex gap-8\">\r\n                    <div className=\"animate-marquee flex gap-8 text-sm font-mono font-bold uppercase tracking-widest text-muted-foreground\">\r\n                        <span>// SYSTEM_READY</span>\r\n                        <span></span>\r\n                        <span>OPEN_FOR_WORK</span>\r\n                        <span></span>\r\n                        <span>BUILDING_THE_FUTURE</span>\r\n                        <span></span>\r\n                        <span>{hero.tagline || \"DESIGN_ENGINEER\"}</span>\r\n                        <span></span>\r\n                        <span>// SYSTEM_READY</span>\r\n                        <span></span>\r\n                        <span>OPEN_FOR_WORK</span>\r\n                        <span></span>\r\n                        <span>BUILDING_THE_FUTURE</span>\r\n                        <span></span>\r\n                        <span>{hero.tagline || \"DESIGN_ENGINEER\"}</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"container mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 relative z-10 flex flex-col items-start text-left\">\r\n\r\n                <div className=\"w-full grid grid-cols-1 lg:grid-cols-12 gap-12 items-center\">\r\n                    {/* Left Column: Typography & Content */}\r\n                    <motion.div\r\n                        initial={{ opacity: 0, x: -50 }}\r\n                        animate={{ opacity: 1, x: 0 }}\r\n                        transition={{ duration: 0.8, ease: \"circOut\" }}\r\n                        className=\"lg:col-span-8 flex flex-col gap-6\"\r\n                    >\r\n                        {loading ? (\r\n                            <Skeleton className=\"h-4 w-32 rounded bg-primary/10\" />\r\n                        ) : (\r\n                            <div className=\"inline-flex items-center gap-2 px-4 py-2 bg-accent/10 border-[length:var(--border-width)] border-accent text-accent font-mono text-xs font-bold uppercase tracking-widest w-fit shadow-[4px_4px_0px_var(--accent)] transform -rotate-1 rounded-[radius:var(--border-radius)]\">\r\n                                <span className=\"w-2 h-2 bg-accent rounded-full animate-pulse\" />\r\n                                {hero.tagline}\r\n                            </div>\r\n                        )}\r\n\r\n                        <div className=\"relative\">\r\n                            {loading ? (\r\n                                <div className=\"space-y-4\">\r\n                                    <Skeleton className=\"h-24 w-3/4 rounded-lg bg-muted\" />\r\n                                    <Skeleton className=\"h-24 w-1/2 rounded-lg bg-muted\" />\r\n                                </div>\r\n                            ) : (\r\n                                <h1 className=\"text-6xl md:text-8xl lg:text-9xl font-black tracking-tighter leading-[0.9] text-foreground mix-blend-difference\">\r\n                                    {hero.title}\r\n                                    <span className=\"block text-transparent bg-clip-text bg-gradient-to-r from-primary via-accent to-primary bg-[length:200%_auto] animate-gradient\">\r\n                                        {hero.titleHighlight}\r\n                                    </span>\r\n                                </h1>\r\n                            )}\r\n                        </div>\r\n\r\n                        {loading ? (\r\n                            <div className=\"space-y-2 max-w-lg mt-4\">\r\n                                <Skeleton className=\"h-4 w-full bg-muted\" />\r\n                                <Skeleton className=\"h-4 w-5/6 bg-muted\" />\r\n                            </div>\r\n                        ) : (\r\n                            <p className=\"text-xl md:text-2xl text-muted-foreground max-w-2xl font-medium leading-relaxed border-l-4 border-primary pl-6 mt-4\">\r\n                                {hero.subtitle}\r\n                            </p>\r\n                        )}\r\n\r\n                        <div className=\"flex flex-wrap gap-6 mt-8\">\r\n                            <Link href={hero.ctaLink}>\r\n                                <Button size=\"lg\" className=\"h-16 px-10 rounded-[radius:var(--border-radius)] border-[length:var(--border-width)] border-foreground bg-foreground text-background font-bold text-lg uppercase tracking-wider shadow-[6px_6px_0px_var(--primary)] hover:translate-y-1 hover:translate-x-1 hover:shadow-[2px_2px_0px_var(--primary)] transition-all flex items-center gap-3 group\">\r\n                                    {hero.ctaText}\r\n                                    <ArrowRight className=\"w-6 h-6 group-hover:translate-x-1 transition-transform\" />\r\n                                </Button>\r\n                            </Link>\r\n\r\n                            {hero.secondaryCtaText && hero.secondaryCtaLink && (\r\n                                <Link href={hero.secondaryCtaLink}>\r\n                                    <Button size=\"lg\" variant=\"outline\" className=\"h-16 px-10 rounded-[radius:var(--border-radius)] border-[length:var(--border-width)] border-foreground text-foreground font-bold text-lg uppercase tracking-wider bg-transparent hover:bg-accent/10 hover:text-accent hover:border-accent shadow-[6px_6px_0px_var(--foreground)] hover:shadow-[6px_6px_0px_var(--accent)] transition-all flex items-center gap-3\">\r\n                                        <Gamepad2 className=\"w-6 h-6\" />\r\n                                        {hero.secondaryCtaText}\r\n                                    </Button>\r\n                                </Link>\r\n                            )}\r\n                        </div>\r\n                    </motion.div>\r\n\r\n                    {/* Right Column: Visual Element / Decorative Box */}\r\n                    <motion.div\r\n                        initial={{ opacity: 0, scale: 0.8, rotate: 5 }}\r\n                        animate={{ opacity: 1, scale: 1, rotate: 3 }}\r\n                        transition={{ duration: 0.8, delay: 0.2 }}\r\n                        className=\"hidden lg:flex lg:col-span-4 justify-center relative\"\r\n                    >\r\n                        <div className=\"w-full aspect-[4/5] bg-card border-[length:var(--border-width)] border-foreground rounded-[radius:var(--border-radius)] shadow-[12px_12px_0px_var(--foreground)] relative overflow-hidden flex flex-col p-2\">\r\n                            {/* \"Window\" Header */}\r\n                            <div className=\"border-b-[length:var(--border-width)] border-foreground pb-2 mb-2 flex justify-between items-center px-2 bg-muted/50\">\r\n                                <span className=\"font-mono text-xs font-bold uppercase\">profile_v1.0.exe</span>\r\n                                <div className=\"flex gap-1\">\r\n                                    <div className=\"w-3 h-3 border border-foreground bg-red-500 rounded-full\" />\r\n                                    <div className=\"w-3 h-3 border border-foreground bg-yellow-400 rounded-full\" />\r\n                                    <div className=\"w-3 h-3 border border-foreground bg-green-500 rounded-full\" />\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* \"Window\" Content - A pixelated or abstract representation */}\r\n                            <div className=\"flex-1 bg-grid-white/[0.05] relative flex items-center justify-center overflow-hidden\">\r\n                                <div className=\"absolute inset-0 bg-gradient-to-br from-primary/20 to-accent/20 mix-blend-overlay\" />\r\n                                <div className=\"text-[10rem] font-black text-foreground/5 select-none absolute z-0 rotate-90\">\r\n                                    DEV\r\n                                </div>\r\n                                <div className=\"z-10 text-center space-y-2 p-6 border-[length:var(--border-width)] border-dashed border-muted-foreground/30 bg-background/80 backdrop-blur-sm rounded-[radius:var(--border-radius)] mx-4\">\r\n                                    <p className=\"font-mono text-xs text-muted-foreground uppercase\">Status</p>\r\n                                    <p className=\"font-bold text-xl text-primary\">ONLINE</p>\r\n                                    <div className=\"h-px w-full bg-border my-2\" />\r\n                                    <p className=\"font-mono text-xs text-muted-foreground uppercase\">Location</p>\r\n                                    <p className=\"font-bold text-lg\">World Wide Web</p>\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* \"Window\" Footer */}\r\n                            <div className=\"border-t-[length:var(--border-width)] border-foreground pt-2 mt-2 px-2 flex justify-between font-mono text-[10px] text-muted-foreground\">\r\n                                <span>CPU: 12%</span>\r\n                                <span>MEM: 440MB</span>\r\n                            </div>\r\n                        </div>\r\n                    </motion.div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Background Grain/Noise is handled globally, but we can add specific section decorations */}\r\n            <div className=\"absolute right-0 bottom-0 w-1/2 h-1/2 bg-gradient-to-br from-primary/5 to-transparent pointer-events-none\" />\r\n        </section>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"R:\\Works\\Portfolio\\src\\components\\sections\\Projects.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Button' is defined but never used.","line":6,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":6,"endColumn":16,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"Button"},"fix":{"range":[143,191],"text":""},"desc":"Remove unused import declaration."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'projectColors' is assigned a value but never used.","line":11,"column":7,"nodeType":"Identifier","messageId":"unusedVar","endLine":11,"endColumn":20}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { motion } from \"framer-motion\";\r\nimport { ArrowUpRight, Github } from \"lucide-react\";\r\nimport Link from \"next/link\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { useSiteConfig } from \"@/context/SiteConfigContext\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { Project, subscribeProjects } from \"@/lib/firebase/siteConfig\";\r\n\r\nconst projectColors = [\r\n    { color: \"from-primary/20 to-black\", border: \"hover:border-primary/30\" },\r\n    { color: \"from-secondary/20 to-black\", border: \"hover:border-secondary/30\" },\r\n    { color: \"from-primary/10 to-black\", border: \"hover:border-primary/20\" },\r\n    { color: \"from-secondary/10 to-black\", border: \"hover:border-secondary/20\" },\r\n];\r\n\r\nexport function Projects() {\r\n    const { config } = useSiteConfig();\r\n    const [projects, setProjects] = useState<Project[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        const unsubscribe = subscribeProjects((fetchedProjects) => {\r\n            setProjects(fetchedProjects.filter(p => p.featured));\r\n            setLoading(false);\r\n        });\r\n\r\n        return () => unsubscribe();\r\n    }, []);\r\n\r\n    return (\r\n        <section id=\"projects\" className=\"py-32 relative overflow-hidden bg-background\">\r\n            <div className=\"container mx-auto max-w-7xl px-4 sm:px-6 lg:px-8\">\r\n                {/* Section Header */}\r\n                <motion.div\r\n                    initial={{ opacity: 0, x: -50 }}\r\n                    whileInView={{ opacity: 1, x: 0 }}\r\n                    viewport={{ once: true }}\r\n                    className=\"mb-20 flex flex-col md:flex-row md:items-end justify-between gap-6 border-b-[length:var(--border-width)] border-foreground pb-8\"\r\n                >\r\n                    <div>\r\n                        <h2 className=\"text-5xl md:text-7xl font-black text-foreground uppercase tracking-tighter mb-4\">\r\n                            {config.projects.title}\r\n                        </h2>\r\n                        <p className=\"text-xl text-muted-foreground max-w-xl font-medium\">\r\n                            {config.projects.subtitle}\r\n                        </p>\r\n                    </div>\r\n\r\n                    <div className=\"hidden md:block\">\r\n                        <div className=\"px-4 py-2 bg-card border-[length:var(--border-width)] border-foreground rounded-[radius:var(--border-radius)] font-mono text-xs font-bold shadow-[4px_4px_0px_var(--foreground)] transform rotate-3\">\r\n                            <span className=\"text-primary\"></span> {projects.length} PROJECTS LABELED\r\n                        </div>\r\n                    </div>\r\n                </motion.div>\r\n\r\n                {/* Empty State */}\r\n                {!loading && projects.length === 0 && (\r\n                    <motion.div\r\n                        initial={{ opacity: 0, scale: 0.9 }}\r\n                        whileInView={{ opacity: 1, scale: 1 }}\r\n                        className=\"flex flex-col items-center justify-center py-32 border-[length:var(--border-width)] border-dashed border-muted-foreground/30 rounded-[radius:var(--border-radius)]\"\r\n                    >\r\n                        <div className=\"text-6xl mb-6 grayscale opacity-50\"></div>\r\n                        <h3 className=\"text-2xl font-bold uppercase tracking-widest text-muted-foreground\">No Projects Found</h3>\r\n                        <p className=\"text-muted-foreground/60 font-mono mt-2\">Check back later for updates.</p>\r\n                    </motion.div>\r\n                )}\r\n\r\n                {/* Projects Grid */}\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-10\">\r\n                    {projects.map((project: Project, index: number) => {\r\n                        return (\r\n                            <motion.div\r\n                                key={project.id || index}\r\n                                initial={{ opacity: 0, y: 50 }}\r\n                                whileInView={{ opacity: 1, y: 0 }}\r\n                                viewport={{ once: true }}\r\n                                transition={{ delay: index * 0.1 }}\r\n                                className=\"group flex flex-col h-full\"\r\n                            >\r\n                                <div className=\"flex-1 retro-card bg-card overflow-hidden flex flex-col transition-all duration-300 group-hover:translate-x-[-4px] group-hover:translate-y-[-4px] group-hover:shadow-[8px_8px_0px_var(--foreground)] border-foreground\">\r\n\r\n                                    {/* Card Header (Window Bar) */}\r\n                                    <div className=\"border-b-[length:var(--border-width)] border-foreground p-3 bg-muted/50 flex justify-between items-center\">\r\n                                        <div className=\"flex gap-2\">\r\n                                            <div className=\"w-3 h-3 border border-foreground bg-background rounded-full\" />\r\n                                            <div className=\"w-3 h-3 border border-foreground bg-background rounded-full\" />\r\n                                        </div>\r\n                                        <div className=\"font-mono text-[10px] font-bold uppercase tracking-widest text-muted-foreground\">\r\n                                            PROJECT_ID_{index + 1}\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    {/* Card Content */}\r\n                                    <div className=\"p-8 flex flex-col flex-1 gap-6\">\r\n                                        <div className=\"flex justify-between items-start\">\r\n                                            <h3 className=\"text-3xl font-black uppercase leading-none group-hover:text-primary transition-colors\">\r\n                                                {project.title}\r\n                                            </h3>\r\n                                            <Link href={project.demoUrl || project.githubUrl || \"#\"} target=\"_blank\">\r\n                                                <div className=\"p-3 bg-foreground text-background rounded-[radius:var(--border-radius)] group-hover:bg-primary group-hover:text-foreground transition-colors\">\r\n                                                    <ArrowUpRight size={24} />\r\n                                                </div>\r\n                                            </Link>\r\n                                        </div>\r\n\r\n                                        <p className=\"text-muted-foreground text-lg leading-relaxed line-clamp-3\">\r\n                                            {project.description}\r\n                                        </p>\r\n\r\n                                        <div className=\"mt-auto pt-6 flex flex-wrap gap-2\">\r\n                                            {project.tags.slice(0, 4).map((tag: string) => (\r\n                                                <span\r\n                                                    key={tag}\r\n                                                    className=\"px-3 py-1 text-xs font-bold uppercase tracking-wider border-[length:var(--border-width)] border-foreground rounded-[radius:var(--border-radius)] bg-background group-hover:bg-accent/20 group-hover:border-accent group-hover:text-accent-foreground transition-all\"\r\n                                                >\r\n                                                    {tag}\r\n                                                </span>\r\n                                            ))}\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    {/* Card Footer (Action Bar) */}\r\n                                    <div className=\"flex border-t-[length:var(--border-width)] border-foreground\">\r\n                                        {project.githubUrl && (\r\n                                            <Link href={project.githubUrl} target=\"_blank\" className=\"flex-1 flex items-center justify-center gap-2 py-4 font-mono text-sm font-bold uppercase hover:bg-muted/50 transition-colors border-r-[length:var(--border-width)] border-foreground last:border-r-0\">\r\n                                                <Github size={16} /> Code\r\n                                            </Link>\r\n                                        )}\r\n                                        <Link href={project.demoUrl || \"#\"} target=\"_blank\" className=\"flex-1 flex items-center justify-center gap-2 py-4 font-mono text-sm font-bold uppercase hover:bg-muted/50 transition-colors\">\r\n                                            View Project\r\n                                        </Link>\r\n                                    </div>\r\n                                </div>\r\n                            </motion.div>\r\n                        );\r\n                    })}\r\n                </div>\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"R:\\Works\\Portfolio\\src\\components\\sections\\Services.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":65,"column":43,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":65,"endColumn":46,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2791,2794],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2791,2794],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { useEffect, useState } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport * as LucideIcons from 'lucide-react';\r\nimport { Service, getServices, SiteConfig } from '@/lib/firebase/siteConfig';\r\n\r\ninterface ServicesProps {\r\n    config: SiteConfig['services'];\r\n}\r\n\r\nexport function ServicesSection({ config }: ServicesProps) {\r\n    const [services, setServices] = useState<Service[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        const loadData = async () => {\r\n            const data = await getServices();\r\n            setServices(data);\r\n            setLoading(false);\r\n        };\r\n        loadData();\r\n    }, []);\r\n\r\n    if (loading || services.length === 0) return null;\r\n\r\n    return (\r\n        <section id=\"services\" className=\"py-24 relative overflow-hidden\">\r\n            <div className=\"container mx-auto max-w-7xl px-4 sm:px-6 lg:px-8\">\r\n                <div className=\"mb-20\">\r\n                    <div className=\"inline-block px-4 py-2 border-[length:var(--border-width)] border-foreground rounded-[radius:var(--border-radius)] font-mono text-sm font-bold uppercase tracking-widest mb-6 bg-accent text-accent-foreground shadow-[4px_4px_0px_var(--foreground)]\">\r\n                        system.services_check()\r\n                    </div>\r\n                    <motion.h2\r\n                        initial={{ opacity: 0, scale: 0.9 }}\r\n                        whileInView={{ opacity: 1, scale: 1 }}\r\n                        viewport={{ once: true }}\r\n                        className=\"text-5xl md:text-7xl font-black text-foreground uppercase tracking-tighter mb-6\"\r\n                    >\r\n                        {config.title}\r\n                    </motion.h2>\r\n                    <motion.p\r\n                        initial={{ opacity: 0, y: 20 }}\r\n                        whileInView={{ opacity: 1, y: 0 }}\r\n                        viewport={{ once: true }}\r\n                        transition={{ delay: 0.1 }}\r\n                        className=\"text-muted-foreground max-w-2xl text-xl font-medium leading-relaxed border-l-[length:var(--border-width)] border-primary pl-6\"\r\n                    >\r\n                        {config.subtitle}\r\n                    </motion.p>\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8\">\r\n                    {services.map((service, index) => (\r\n                        <ServiceCard key={service.id} service={service} index={index} />\r\n                    ))}\r\n                </div>\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n\r\nfunction ServiceCard({ service, index }: { service: Service; index: number }) {\r\n    // Dynamic icon selection\r\n    const IconComponent = (LucideIcons as any)[service.icon] || LucideIcons.HelpCircle;\r\n\r\n    return (\r\n        <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            whileInView={{ opacity: 1, y: 0 }}\r\n            viewport={{ once: true }}\r\n            transition={{ duration: 0.5, delay: index * 0.1 }}\r\n            className=\"group retro-card bg-card p-0 overflow-hidden border-foreground hover:shadow-[10px_10px_0px_var(--foreground)] transition-all duration-300 hover:translate-x-[-4px] hover:translate-y-[-4px]\"\r\n        >\r\n            <div className=\"border-b-[length:var(--border-width)] border-foreground p-3 bg-muted/50 flex justify-between items-center group-hover:bg-primary/20 transition-colors\">\r\n                <div className=\"font-mono text-xs font-bold uppercase tracking-wider text-muted-foreground group-hover:text-foreground\">\r\n                    SVC_0{index + 1}\r\n                </div>\r\n                <LucideIcons.ArrowUpRight size={18} className=\"opacity-0 group-hover:opacity-100 transition-opacity\" />\r\n            </div>\r\n\r\n            <div className=\"p-8\">\r\n                <div className=\"w-16 h-16 rounded-[radius:var(--border-radius)] border-[length:var(--border-width)] border-foreground bg-background flex items-center justify-center text-foreground mb-6 group-hover:bg-primary group-hover:text-primary-foreground group-hover:shadow-[4px_4px_0px_var(--foreground)] transition-all duration-300\">\r\n                    <IconComponent size={32} strokeWidth={1.5} />\r\n                </div>\r\n\r\n                <h3 className=\"text-2xl font-black uppercase text-foreground mb-4 group-hover:text-primary transition-colors\">\r\n                    {service.title}\r\n                </h3>\r\n\r\n                <p className=\"text-muted-foreground leading-relaxed text-lg group-hover:text-foreground transition-colors\">\r\n                    {service.description}\r\n                </p>\r\n            </div>\r\n        </motion.div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"R:\\Works\\Portfolio\\src\\components\\ui\\button.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Slot' is defined but never used.","line":2,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":2,"endColumn":14,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"Slot"},"fix":{"range":[32,75],"text":""},"desc":"Remove unused import declaration."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'motion' is defined but never used.","line":4,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":4,"endColumn":16,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"motion"},"fix":{"range":[153,160],"text":""},"desc":"Remove unused variable \"motion\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'HTMLMotionProps' is defined but never used.","line":4,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":4,"endColumn":33,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"HTMLMotionProps"},"fix":{"range":[144,199],"text":""},"desc":"Remove unused import declaration."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'asChild' is assigned a value but never used.","line":45,"column":34,"nodeType":"Identifier","messageId":"unusedVar","endLine":45,"endColumn":41}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import * as React from \"react\"\r\nimport { Slot } from \"@radix-ui/react-slot\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\nimport { motion, HTMLMotionProps } from \"framer-motion\"\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst buttonVariants = cva(\r\n    \"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\",\r\n    {\r\n        variants: {\r\n            variant: {\r\n                default: \"bg-primary text-primary-foreground hover:bg-primary/90 shadow-[0_0_20px_rgba(var(--primary-rgb),0.4)] hover:shadow-[0_0_30px_rgba(var(--primary-rgb),0.6)] transition-all duration-300\",\r\n                destructive:\r\n                    \"bg-red-500 text-destructive-foreground hover:bg-red-500/90\",\r\n                outline:\r\n                    \"border border-primary/50 bg-background text-primary hover:bg-primary/10 hover:border-primary\",\r\n                secondary:\r\n                    \"bg-secondary text-secondary-foreground hover:bg-secondary/80 shadow-[0_0_20px_rgba(0,0,0,0.3)]\",\r\n                ghost: \"hover:bg-primary/10 hover:text-primary\",\r\n                link: \"text-primary underline-offset-4 hover:underline\",\r\n                glass: \"glass text-foreground hover:bg-white/10 active:scale-95\",\r\n                neon: \"border border-primary text-primary hover:bg-primary/10 shadow-[0_0_15px_rgba(var(--primary-rgb),0.3)] hover:shadow-[0_0_25px_rgba(var(--primary-rgb),0.5)]\",\r\n            },\r\n            size: {\r\n                default: \"h-10 px-4 py-2\",\r\n                sm: \"h-9 rounded-md px-3\",\r\n                lg: \"h-11 rounded-md px-8\",\r\n                icon: \"h-10 w-10\",\r\n            },\r\n        },\r\n        defaultVariants: {\r\n            variant: \"default\",\r\n            size: \"default\",\r\n        },\r\n    }\r\n)\r\n\r\nexport interface ButtonProps\r\n    extends React.ButtonHTMLAttributes<HTMLButtonElement>,\r\n    VariantProps<typeof buttonVariants> {\r\n    asChild?: boolean\r\n}\r\n\r\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\r\n    ({ className, variant, size, asChild = false, ...props }, ref) => {\r\n        // Basic implementation without framer-motion props for now to keep typescript happy if types are strict\r\n        // but applying classes.\r\n        return (\r\n            <button\r\n                className={cn(buttonVariants({ variant, size, className }))}\r\n                ref={ref}\r\n                {...props}\r\n            />\r\n        )\r\n    }\r\n)\r\nButton.displayName = \"Button\"\r\n\r\nexport { Button, buttonVariants }\r\n","usedDeprecatedRules":[]},{"filePath":"R:\\Works\\Portfolio\\src\\components\\ui\\skeleton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"R:\\Works\\Portfolio\\src\\context\\AuthContext.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"R:\\Works\\Portfolio\\src\\context\\GameModeContext.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"R:\\Works\\Portfolio\\src\\context\\GuestNameContext.tsx","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nR:\\Works\\Portfolio\\src\\context\\GuestNameContext.tsx:24:13\n  22 |         const saved = localStorage.getItem(STORAGE_KEY);\n  23 |         if (saved) {\n> 24 |             setGuestNameState(saved);\n     |             ^^^^^^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  25 |         }\n  26 |         setIsLoaded(true);\n  27 |     }, []);","line":24,"column":13,"nodeType":null,"endLine":24,"endColumn":30}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use client';\r\n\r\nimport React, { createContext, useContext, useState, useEffect } from 'react';\r\n\r\ninterface GuestNameContextType {\r\n    guestName: string | null;\r\n    setGuestName: (name: string) => void;\r\n    clearGuestName: () => void;\r\n    hasGuestName: boolean;\r\n}\r\n\r\nconst GuestNameContext = createContext<GuestNameContextType | undefined>(undefined);\r\n\r\nconst STORAGE_KEY = 'arcade-guest-name';\r\n\r\nexport function GuestNameProvider({ children }: { children: React.ReactNode }) {\r\n    const [guestName, setGuestNameState] = useState<string | null>(null);\r\n    const [isLoaded, setIsLoaded] = useState(false);\r\n\r\n    // Load from localStorage on mount\r\n    useEffect(() => {\r\n        const saved = localStorage.getItem(STORAGE_KEY);\r\n        if (saved) {\r\n            setGuestNameState(saved);\r\n        }\r\n        setIsLoaded(true);\r\n    }, []);\r\n\r\n    const setGuestName = (name: string) => {\r\n        setGuestNameState(name);\r\n        localStorage.setItem(STORAGE_KEY, name);\r\n    };\r\n\r\n    const clearGuestName = () => {\r\n        setGuestNameState(null);\r\n        localStorage.removeItem(STORAGE_KEY);\r\n    };\r\n\r\n    // Don't render children until we've loaded from localStorage\r\n    // to prevent flash of guest name prompt\r\n    if (!isLoaded) {\r\n        return null;\r\n    }\r\n\r\n    return (\r\n        <GuestNameContext.Provider\r\n            value={{\r\n                guestName,\r\n                setGuestName,\r\n                clearGuestName,\r\n                hasGuestName: !!guestName,\r\n            }}\r\n        >\r\n            {children}\r\n        </GuestNameContext.Provider>\r\n    );\r\n}\r\n\r\nexport function useGuestName() {\r\n    const context = useContext(GuestNameContext);\r\n    if (context === undefined) {\r\n        throw new Error('useGuestName must be used within a GuestNameProvider');\r\n    }\r\n    return context;\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"R:\\Works\\Portfolio\\src\\context\\SiteConfigContext.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"R:\\Works\\Portfolio\\src\\hooks\\useGameData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"R:\\Works\\Portfolio\\src\\lib\\firebase\\auth.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"R:\\Works\\Portfolio\\src\\lib\\firebase\\config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"R:\\Works\\Portfolio\\src\\lib\\firebase\\firestore.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'DocumentData' is defined but never used.","line":15,"column":5,"nodeType":"Identifier","messageId":"unusedVar","endLine":15,"endColumn":17,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"DocumentData"},"fix":{"range":[194,213],"text":""},"desc":"Remove unused variable \"DocumentData\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'QueryConstraint' is defined but never used.","line":16,"column":5,"nodeType":"Identifier","messageId":"unusedVar","endLine":16,"endColumn":20,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"QueryConstraint"},"fix":{"range":[213,235],"text":""},"desc":"Remove unused variable \"QueryConstraint\"."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":344,"column":46,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":344,"endColumn":49,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[9468,9471],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[9468,9471],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import {\r\n    collection,\r\n    doc,\r\n    addDoc,\r\n    getDoc,\r\n    getDocs,\r\n    updateDoc,\r\n    deleteDoc,\r\n    query,\r\n    where,\r\n    orderBy,\r\n    limit,\r\n    serverTimestamp,\r\n    Timestamp,\r\n    DocumentData,\r\n    QueryConstraint,\r\n} from 'firebase/firestore';\r\nimport { db } from './config';\r\n\r\n// ==================== GAME HISTORY ====================\r\n\r\nexport interface GameSession {\r\n    id?: string;\r\n    userId: string;\r\n    displayName: string; // Added for leaderboard display\r\n    photoURL?: string;   // Added\r\n    gameId: string;\r\n    gameName: string;\r\n    score: number;\r\n    duration: number; // in seconds\r\n    completedAt: Date | Timestamp;\r\n    metadata?: Record<string, unknown>; // game-specific data\r\n}\r\n\r\n// Re-using LeaderboardEntry type for frontend compatibility, but it maps from GameSession\r\nexport interface LeaderboardEntry {\r\n    userId: string;\r\n    displayName: string;\r\n    photoURL?: string;\r\n    score: number;\r\n    gameId: string;\r\n    achievedAt: Date | Timestamp;\r\n}\r\n\r\n/**\r\n * Save a game session\r\n */\r\nexport async function saveGameSession(\r\n    userId: string,\r\n    displayName: string,\r\n    photoURL: string | null,\r\n    gameId: string,\r\n    gameName: string,\r\n    score: number,\r\n    duration: number,\r\n    metadata?: Record<string, unknown>\r\n): Promise<string> {\r\n    const sessionsRef = collection(db, 'gameSessions');\r\n    const docRef = await addDoc(sessionsRef, {\r\n        userId,\r\n        displayName,\r\n        photoURL,\r\n        gameId,\r\n        gameName,\r\n        score,\r\n        duration,\r\n        completedAt: serverTimestamp(),\r\n        metadata: metadata || {},\r\n    });\r\n    return docRef.id;\r\n}\r\n\r\n/**\r\n * Get user's game history\r\n */\r\nexport async function getUserGameHistory(\r\n    userId: string,\r\n    gameId?: string,\r\n    limitCount: number = 10\r\n): Promise<GameSession[]> {\r\n    const sessionsRef = collection(db, 'gameSessions');\r\n\r\n    // Simple query by userId (auto-indexed)\r\n    const q = query(\r\n        sessionsRef,\r\n        where('userId', '==', userId),\r\n        orderBy('completedAt', 'desc'),\r\n        limit(limitCount + 20) // Fetch extra to filter in client\r\n    );\r\n\r\n    const snapshot = await getDocs(q);\r\n    let sessions = snapshot.docs.map((doc) => ({\r\n        id: doc.id,\r\n        ...doc.data(),\r\n    })) as GameSession[];\r\n\r\n    // Client-side filter for gameId if needed\r\n    if (gameId) {\r\n        sessions = sessions.filter(s => s.gameId === gameId);\r\n    }\r\n\r\n    return sessions.slice(0, limitCount);\r\n}\r\n\r\n/**\r\n * Get user's best score for a game\r\n */\r\nexport async function getUserBestScore(\r\n    userId: string,\r\n    gameId: string\r\n): Promise<number | null> {\r\n    const sessionsRef = collection(db, 'gameSessions');\r\n\r\n    // Query by userId only to avoid composite index\r\n    const q = query(\r\n        sessionsRef,\r\n        where('userId', '==', userId)\r\n    );\r\n\r\n    const snapshot = await getDocs(q);\r\n    if (snapshot.empty) return null;\r\n\r\n    const sessions = snapshot.docs.map(doc => doc.data() as GameSession);\r\n\r\n    // Filter and find max in memory\r\n    const gameSessions = sessions.filter(s => s.gameId === gameId);\r\n    if (gameSessions.length === 0) return null;\r\n\r\n    return Math.max(...gameSessions.map(s => s.score));\r\n}\r\n\r\n// ==================== LEADERBOARD ====================\r\n\r\n// updateLeaderboard REMOVED - redundant\r\n\r\n/**\r\n * Get global leaderboard for a game directly from gameSessions\r\n */\r\nexport async function getLeaderboard(\r\n    gameId: string,\r\n    limitCount: number = 10\r\n): Promise<LeaderboardEntry[]> {\r\n    const sessionsRef = collection(db, 'gameSessions');\r\n\r\n    // Query by gameId only (single field index works)\r\n    // No orderBy here to avoid compound index requirement for now\r\n    // If dataset grows large, we MUST add index: gameId + score DESC\r\n    const q = query(\r\n        sessionsRef,\r\n        where('gameId', '==', gameId)\r\n    );\r\n\r\n    const snapshot = await getDocs(q);\r\n\r\n    const sessions = snapshot.docs.map((doc) => ({\r\n        ...doc.data(),\r\n    })) as GameSession[];\r\n\r\n    // Sort in memory (descending score)\r\n    sessions.sort((a, b) => b.score - a.score);\r\n\r\n    // Map to LeaderboardEntry format\r\n    return sessions.slice(0, limitCount).map(s => ({\r\n        userId: s.userId,\r\n        displayName: s.displayName,\r\n        photoURL: s.photoURL,\r\n        score: s.score,\r\n        gameId: s.gameId,\r\n        achievedAt: s.completedAt\r\n    }));\r\n}\r\n\r\n/**\r\n * Get user's rank on leaderboard\r\n */\r\nexport async function getUserRank(\r\n    userId: string,\r\n    gameId: string\r\n): Promise<number | null> {\r\n    const leaderboard = await getLeaderboard(gameId, 100);\r\n    const index = leaderboard.findIndex((entry) => entry.userId === userId);\r\n    return index === -1 ? null : index + 1;\r\n}\r\n\r\n// ==================== USER STATS ====================\r\n\r\nexport interface UserStats {\r\n    totalGamesPlayed: number;\r\n    totalPlayTime: number; // in seconds\r\n    favoriteGame: string | null;\r\n    achievements: string[];\r\n}\r\n\r\n/**\r\n * Get aggregated user statistics\r\n */\r\nexport async function getUserStats(userId: string): Promise<UserStats> {\r\n    const history = await getUserGameHistory(userId, undefined, 100);\r\n\r\n    if (history.length === 0) {\r\n        return {\r\n            totalGamesPlayed: 0,\r\n            totalPlayTime: 0,\r\n            favoriteGame: null,\r\n            achievements: [],\r\n        };\r\n    }\r\n\r\n    // Calculate stats\r\n    const totalPlayTime = history.reduce((sum, session) => sum + session.duration, 0);\r\n\r\n    // Find favorite game (most played)\r\n    const gameCounts: Record<string, number> = {};\r\n    history.forEach((session) => {\r\n        gameCounts[session.gameName] = (gameCounts[session.gameName] || 0) + 1;\r\n    });\r\n    const favoriteGame = Object.entries(gameCounts).sort((a, b) => b[1] - a[1])[0]?.[0] || null;\r\n\r\n    return {\r\n        totalGamesPlayed: history.length,\r\n        totalPlayTime,\r\n        favoriteGame,\r\n        achievements: [], // TODO: Implement achievements system\r\n    };\r\n}\r\n\r\n// ==================== ACHIEVEMENTS ====================\r\n\r\nexport interface GameAchievement {\r\n    id: string;\r\n    name: string;\r\n    description: string;\r\n    icon: string;\r\n    unlockedAt?: Date | Timestamp;\r\n}\r\n\r\n/**\r\n * Award achievement to user\r\n */\r\nexport async function awardAchievement(\r\n    userId: string,\r\n    achievementId: string\r\n): Promise<void> {\r\n    const achievementsRef = collection(db, 'users', userId, 'achievements');\r\n    const achievementDoc = doc(achievementsRef, achievementId);\r\n\r\n    const existingAchievement = await getDoc(achievementDoc);\r\n    if (!existingAchievement.exists()) {\r\n        await updateDoc(achievementDoc, {\r\n            unlockedAt: serverTimestamp(),\r\n        });\r\n    }\r\n}\r\n\r\n/**\r\n * Get user's achievements\r\n */\r\nexport async function getUserAchievements(userId: string): Promise<GameAchievement[]> {\r\n    const achievementsRef = collection(db, 'users', userId, 'achievements');\r\n    const snapshot = await getDocs(achievementsRef);\r\n\r\n    return snapshot.docs.map((doc) => ({\r\n        id: doc.id,\r\n        ...doc.data(),\r\n    })) as GameAchievement[];\r\n}\r\n\r\n// ==================== GAME CONFIGURATION ====================\r\n\r\nexport interface GameConfig {\r\n    id: string;\r\n    name: string;\r\n    description: string;\r\n    enabled: boolean;\r\n    skillIssueImage: string | null;\r\n    congratsImage: string | null;\r\n    thumbnailImage: string | null;\r\n    minScoreForCongrats: number;\r\n    allowedRoles?: string[]; // RBAC: Roles that can play this game\r\n    createdAt: Date | Timestamp;\r\n    updatedAt: Date | Timestamp;\r\n}\r\n\r\n/**\r\n * Get all game configurations\r\n */\r\nexport async function getGameConfigs(): Promise<GameConfig[]> {\r\n    const gamesRef = collection(db, 'gameConfigs');\r\n    const snapshot = await getDocs(gamesRef);\r\n\r\n    return snapshot.docs.map((doc) => ({\r\n        id: doc.id,\r\n        ...doc.data(),\r\n    })) as GameConfig[];\r\n}\r\n\r\n/**\r\n * Get a specific game configuration\r\n */\r\nexport async function getGameConfig(gameId: string): Promise<GameConfig | null> {\r\n    const gameRef = doc(db, 'gameConfigs', gameId);\r\n    const snapshot = await getDoc(gameRef);\r\n\r\n    if (!snapshot.exists()) return null;\r\n\r\n    return {\r\n        id: snapshot.id,\r\n        ...snapshot.data(),\r\n    } as GameConfig;\r\n}\r\n\r\n/**\r\n * Create or update game configuration\r\n */\r\nexport async function saveGameConfig(gameId: string, config: Partial<Omit<GameConfig, 'id'>>): Promise<void> {\r\n    const gameRef = doc(db, 'gameConfigs', gameId);\r\n    const existing = await getDoc(gameRef);\r\n\r\n    if (existing.exists()) {\r\n        await updateDoc(gameRef, {\r\n            ...config,\r\n            updatedAt: serverTimestamp(),\r\n        });\r\n    } else {\r\n        const { setDoc } = await import('firebase/firestore');\r\n        await setDoc(gameRef, {\r\n            name: config.name || gameId,\r\n            description: config.description || '',\r\n            enabled: config.enabled ?? true,\r\n            skillIssueImage: config.skillIssueImage || null,\r\n            congratsImage: config.congratsImage || null,\r\n            thumbnailImage: config.thumbnailImage || null,\r\n            minScoreForCongrats: config.minScoreForCongrats || 10,\r\n            allowedRoles: config.allowedRoles || ['player', 'admin'],\r\n            createdAt: serverTimestamp(),\r\n            updatedAt: serverTimestamp(),\r\n        });\r\n    }\r\n}\r\n\r\n/**\r\n * Get all users from Firestore (admin only)\r\n */\r\nexport async function getAllUsers(): Promise<any[]> {\r\n    const usersRef = collection(db, 'users');\r\n    const snapshot = await getDocs(usersRef);\r\n    return snapshot.docs.map(doc => ({\r\n        uid: doc.id,\r\n        ...doc.data()\r\n    }));\r\n}\r\n\r\n/**\r\n * Delete all game sessions for a specific game (admin only)\r\n */\r\nexport async function deleteGameData(gameId: string): Promise<number> {\r\n    const sessionsRef = collection(db, 'gameSessions');\r\n    const q = query(sessionsRef, where('gameId', '==', gameId));\r\n    const snapshot = await getDocs(q);\r\n\r\n    let deletedCount = 0;\r\n    for (const docSnapshot of snapshot.docs) {\r\n        await deleteDoc(doc(db, 'gameSessions', docSnapshot.id));\r\n        deletedCount++;\r\n    }\r\n\r\n    return deletedCount;\r\n}\r\n\r\n/**\r\n * Get game statistics\r\n */\r\nexport async function getGameStats(gameId: string): Promise<{ totalPlays: number; uniquePlayers: number; topScore: number | null }> {\r\n    const sessionsRef = collection(db, 'gameSessions');\r\n    const q = query(sessionsRef, where('gameId', '==', gameId));\r\n    const snapshot = await getDocs(q);\r\n\r\n    if (snapshot.empty) {\r\n        return { totalPlays: 0, uniquePlayers: 0, topScore: null };\r\n    }\r\n\r\n    const sessions = snapshot.docs.map(doc => doc.data() as GameSession);\r\n    const uniqueUsers = new Set(sessions.map(s => s.userId));\r\n    const topScore = Math.max(...sessions.map(s => s.score));\r\n\r\n    return {\r\n        totalPlays: sessions.length,\r\n        uniquePlayers: uniqueUsers.size,\r\n        topScore,\r\n    };\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"R:\\Works\\Portfolio\\src\\lib\\firebase\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"R:\\Works\\Portfolio\\src\\lib\\firebase\\siteConfig.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"R:\\Works\\Portfolio\\src\\lib\\firebase\\storage.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"R:\\Works\\Portfolio\\src\\lib\\utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]